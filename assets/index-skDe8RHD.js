(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function AA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lm={exports:{}},du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function PR(){if(Z0)return du;Z0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return du.Fragment=e,du.jsx=t,du.jsxs=t,du}var eE;function UR(){return eE||(eE=1,lm.exports=PR()),lm.exports}var E=UR(),um={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function kR(){if(tE)return Re;tE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function H(D,Z,oe){this.props=D,this.context=Z,this.refs=B,this.updater=oe||U}H.prototype.isReactComponent={},H.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function K(){}K.prototype=H.prototype;function F(D,Z,oe){this.props=D,this.context=Z,this.refs=B,this.updater=oe||U}var ae=F.prototype=new K;ae.constructor=F,L(ae,H.prototype),ae.isPureReactComponent=!0;var ce=Array.isArray;function de(){}var M={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function b(D,Z,oe){var fe=oe.ref;return{$$typeof:n,type:D,key:Z,ref:fe!==void 0?fe:null,props:oe}}function V(D,Z){return b(D.type,Z,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function G(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return Z[oe]})}var P=/\/+/g;function Ze(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?G(""+D.key):Z.toString(36)}function mt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(de,de):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ee(D,Z,oe,fe,Ce){var ye=typeof D;(ye==="undefined"||ye==="boolean")&&(D=null);var Pe=!1;if(D===null)Pe=!0;else switch(ye){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(D.$$typeof){case n:case e:Pe=!0;break;case _:return Pe=D._init,ee(Pe(D._payload),Z,oe,fe,Ce)}}if(Pe)return Ce=Ce(D),Pe=fe===""?"."+Ze(D,0):fe,ce(Ce)?(oe="",Pe!=null&&(oe=Pe.replace(P,"$&/")+"/"),ee(Ce,Z,oe,"",function(qr){return qr})):Ce!=null&&(O(Ce)&&(Ce=V(Ce,oe+(Ce.key==null||D&&D.key===Ce.key?"":(""+Ce.key).replace(P,"$&/")+"/")+Pe)),Z.push(Ce)),1;Pe=0;var At=fe===""?".":fe+":";if(ce(D))for(var ut=0;ut<D.length;ut++)fe=D[ut],ye=At+Ze(fe,ut),Pe+=ee(fe,Z,oe,ye,Ce);else if(ut=I(D),typeof ut=="function")for(D=ut.call(D),ut=0;!(fe=D.next()).done;)fe=fe.value,ye=At+Ze(fe,ut++),Pe+=ee(fe,Z,oe,ye,Ce);else if(ye==="object"){if(typeof D.then=="function")return ee(mt(D),Z,oe,fe,Ce);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function le(D,Z,oe){if(D==null)return D;var fe=[],Ce=0;return ee(D,fe,"","",function(ye){return Z.call(oe,ye,Ce++)}),fe}function Ee(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var Le=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ye={map:le,forEach:function(D,Z,oe){le(D,function(){Z.apply(this,arguments)},oe)},count:function(D){var Z=0;return le(D,function(){Z++}),Z},toArray:function(D){return le(D,function(Z){return Z})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=T,Re.Children=Ye,Re.Component=H,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=F,Re.StrictMode=i,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,Z,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var fe=L({},D.props),Ce=D.key;if(Z!=null)for(ye in Z.key!==void 0&&(Ce=""+Z.key),Z)!N.call(Z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Z.ref===void 0||(fe[ye]=Z[ye]);var ye=arguments.length-2;if(ye===1)fe.children=oe;else if(1<ye){for(var Pe=Array(ye),At=0;At<ye;At++)Pe[At]=arguments[At+2];fe.children=Pe}return b(D.type,Ce,fe)},Re.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Re.createElement=function(D,Z,oe){var fe,Ce={},ye=null;if(Z!=null)for(fe in Z.key!==void 0&&(ye=""+Z.key),Z)N.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ce[fe]=Z[fe]);var Pe=arguments.length-2;if(Pe===1)Ce.children=oe;else if(1<Pe){for(var At=Array(Pe),ut=0;ut<Pe;ut++)At[ut]=arguments[ut+2];Ce.children=At}if(D&&D.defaultProps)for(fe in Pe=D.defaultProps,Pe)Ce[fe]===void 0&&(Ce[fe]=Pe[fe]);return b(D,ye,Ce)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:d,render:D}},Re.isValidElement=O,Re.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:Ee}},Re.memo=function(D,Z){return{$$typeof:p,type:D,compare:Z===void 0?null:Z}},Re.startTransition=function(D){var Z=M.T,oe={};M.T=oe;try{var fe=D(),Ce=M.S;Ce!==null&&Ce(oe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,Le)}catch(ye){Le(ye)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),M.T=Z}},Re.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Re.use=function(D){return M.H.use(D)},Re.useActionState=function(D,Z,oe){return M.H.useActionState(D,Z,oe)},Re.useCallback=function(D,Z){return M.H.useCallback(D,Z)},Re.useContext=function(D){return M.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,Z){return M.H.useDeferredValue(D,Z)},Re.useEffect=function(D,Z){return M.H.useEffect(D,Z)},Re.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Re.useId=function(){return M.H.useId()},Re.useImperativeHandle=function(D,Z,oe){return M.H.useImperativeHandle(D,Z,oe)},Re.useInsertionEffect=function(D,Z){return M.H.useInsertionEffect(D,Z)},Re.useLayoutEffect=function(D,Z){return M.H.useLayoutEffect(D,Z)},Re.useMemo=function(D,Z){return M.H.useMemo(D,Z)},Re.useOptimistic=function(D,Z){return M.H.useOptimistic(D,Z)},Re.useReducer=function(D,Z,oe){return M.H.useReducer(D,Z,oe)},Re.useRef=function(D){return M.H.useRef(D)},Re.useState=function(D){return M.H.useState(D)},Re.useSyncExternalStore=function(D,Z,oe){return M.H.useSyncExternalStore(D,Z,oe)},Re.useTransition=function(){return M.H.useTransition()},Re.version="19.2.0",Re}var nE;function yg(){return nE||(nE=1,um.exports=kR()),um.exports}var z=yg();const VR=AA(z);var cm={exports:{}},fu={},dm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function LR(){return iE||(iE=1,(function(n){function e(ee,le){var Ee=ee.length;ee.push(le);e:for(;0<Ee;){var Le=Ee-1>>>1,Ye=ee[Le];if(0<a(Ye,le))ee[Le]=le,ee[Ee]=Ye,Ee=Le;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var le=ee[0],Ee=ee.pop();if(Ee!==le){ee[0]=Ee;e:for(var Le=0,Ye=ee.length,D=Ye>>>1;Le<D;){var Z=2*(Le+1)-1,oe=ee[Z],fe=Z+1,Ce=ee[fe];if(0>a(oe,Ee))fe<Ye&&0>a(Ce,oe)?(ee[Le]=Ce,ee[fe]=Ee,Le=fe):(ee[Le]=oe,ee[Z]=Ee,Le=Z);else if(fe<Ye&&0>a(Ce,Ee))ee[Le]=Ce,ee[fe]=Ee,Le=fe;else break e}}return le}function a(ee,le){var Ee=ee.sortIndex-le.sortIndex;return Ee!==0?Ee:ee.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],p=[],_=1,T=null,A=3,I=!1,U=!1,L=!1,B=!1,H=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ae(ee){for(var le=t(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=ee)i(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=t(p)}}function ce(ee){if(L=!1,ae(ee),!U)if(t(h)!==null)U=!0,de||(de=!0,G());else{var le=t(p);le!==null&&mt(ce,le.startTime-ee)}}var de=!1,M=-1,N=5,b=-1;function V(){return B?!0:!(n.unstable_now()-b<N)}function O(){if(B=!1,de){var ee=n.unstable_now();b=ee;var le=!0;try{e:{U=!1,L&&(L=!1,K(M),M=-1),I=!0;var Ee=A;try{t:{for(ae(ee),T=t(h);T!==null&&!(T.expirationTime>ee&&V());){var Le=T.callback;if(typeof Le=="function"){T.callback=null,A=T.priorityLevel;var Ye=Le(T.expirationTime<=ee);if(ee=n.unstable_now(),typeof Ye=="function"){T.callback=Ye,ae(ee),le=!0;break t}T===t(h)&&i(h),ae(ee)}else i(h);T=t(h)}if(T!==null)le=!0;else{var D=t(p);D!==null&&mt(ce,D.startTime-ee),le=!1}}break e}finally{T=null,A=Ee,I=!1}le=void 0}}finally{le?G():de=!1}}}var G;if(typeof F=="function")G=function(){F(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Ze=P.port2;P.port1.onmessage=O,G=function(){Ze.postMessage(null)}}else G=function(){H(O,0)};function mt(ee,le){M=H(function(){ee(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var Ee=A;A=le;try{return ee()}finally{A=Ee}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ee=A;A=ee;try{return le()}finally{A=Ee}},n.unstable_scheduleCallback=function(ee,le,Ee){var Le=n.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Le+Ee:Le):Ee=Le,ee){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Ee+Ye,ee={id:_++,callback:le,priorityLevel:ee,startTime:Ee,expirationTime:Ye,sortIndex:-1},Ee>Le?(ee.sortIndex=Ee,e(p,ee),t(h)===null&&ee===t(p)&&(L?(K(M),M=-1):L=!0,mt(ce,Ee-Le))):(ee.sortIndex=Ye,e(h,ee),U||I||(U=!0,de||(de=!0,G()))),ee},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ee){var le=A;return function(){var Ee=A;A=le;try{return ee.apply(this,arguments)}finally{A=Ee}}}})(fm)),fm}var sE;function OR(){return sE||(sE=1,dm.exports=LR()),dm.exports}var hm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function zR(){if(rE)return an;rE=1;var n=yg();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:h,containerInfo:p,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(h,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,_)},an.flushSync=function(h){var p=u.T,_=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=p,i.p=_,i.d.f()}},an.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},an.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},an.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:I}):_==="script"&&i.d.X(h,{crossOrigin:T,integrity:A,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},an.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin);i.d.L(h,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(h,p){if(typeof h=="string")if(p){var _=d(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},an.requestFormReset=function(h){i.d.r(h)},an.unstable_batchedUpdates=function(h,p){return h(p)},an.useFormState=function(h,p,_){return u.H.useFormState(h,p,_)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.0",an}var aE;function BR(){if(aE)return hm.exports;aE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hm.exports=zR(),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function qR(){if(oE)return fu;oE=1;var n=OR(),e=yg(),t=BR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,c=r;;){var y=l.return;if(y===null)break;var v=y.alternate;if(v===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===l)return h(y),s;if(v===c)return h(y),r;v=v.sibling}throw Error(i(188))}if(l.return!==c.return)l=y,c=v;else{for(var C=!1,x=y.child;x;){if(x===l){C=!0,l=y,c=v;break}if(x===c){C=!0,c=y,l=v;break}x=x.sibling}if(!C){for(x=v.child;x;){if(x===l){C=!0,l=v,c=y;break}if(x===c){C=!0,c=v,l=y;break}x=x.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function _(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=_(s),r!==null)return r;s=s.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function Ze(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case H:return"Profiler";case B:return"StrictMode";case ce:return"Suspense";case de:return"SuspenseList";case b:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case U:return"Portal";case F:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case ae:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return r=s.displayName||null,r!==null?r:Ze(s.type)||"Memo";case N:r=s._payload,s=s._init;try{return Ze(s(r))}catch{}}return null}var mt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Le=[],Ye=-1;function D(s){return{current:s}}function Z(s){0>Ye||(s.current=Le[Ye],Le[Ye]=null,Ye--)}function oe(s,r){Ye++,Le[Ye]=s.current,s.current=r}var fe=D(null),Ce=D(null),ye=D(null),Pe=D(null);function At(s,r){switch(oe(ye,r),oe(Ce,s),oe(fe,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?S0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=S0(r),s=A0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(fe),oe(fe,s)}function ut(){Z(fe),Z(Ce),Z(ye)}function qr(s){s.memoizedState!==null&&oe(Pe,s);var r=fe.current,l=A0(r,s.type);r!==l&&(oe(Ce,s),oe(fe,l))}function Pa(s){Ce.current===s&&(Z(fe),Z(Ce)),Pe.current===s&&(Z(Pe),ou._currentValue=Ee)}var Ua,ka;function Ei(s){if(Ua===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ua=r&&r[1]||"",ka=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+s+ka}var ol=!1;function Fr(s,r){if(!s||ol)return"";ol=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Q=X}Reflect.construct(s,[],se)}else{try{se.call()}catch(X){Q=X}s.call(se.prototype)}}else{try{throw Error()}catch(X){Q=X}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),C=v[0],x=v[1];if(C&&x){var k=C.split(`
`),J=x.split(`
`);for(y=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(c===k.length||y===J.length)for(c=k.length-1,y=J.length-1;1<=c&&0<=y&&k[c]!==J[y];)y--;for(;1<=c&&0<=y;c--,y--)if(k[c]!==J[y]){if(c!==1||y!==1)do if(c--,y--,0>y||k[c]!==J[y]){var te=`
`+k[c].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=c&&0<=y);break}}}finally{ol=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ei(l):""}function ll(s,r){switch(s.tag){case 26:case 27:case 5:return Ei(s.type);case 16:return Ei("Lazy");case 13:return s.child!==r&&r!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Fr(s.type,!1);case 11:return Fr(s.type.render,!1);case 1:return Fr(s.type,!0);case 31:return Ei("Activity");default:return""}}function ul(s){try{var r="",l=null;do r+=ll(s,l),l=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Mt=Object.prototype.hasOwnProperty,Ht=n.unstable_scheduleCallback,Vs=n.unstable_cancelCallback,ch=n.unstable_shouldYield,oc=n.unstable_requestPaint,hn=n.unstable_now,Hr=n.unstable_getCurrentPriorityLevel,cl=n.unstable_ImmediatePriority,dl=n.unstable_UserBlockingPriority,Ls=n.unstable_NormalPriority,dh=n.unstable_LowPriority,lc=n.unstable_IdlePriority,uc=n.log,cc=n.unstable_setDisableYieldValue,ii=null,Qt=null;function zn(s){if(typeof uc=="function"&&cc(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ii,s)}catch{}}var Ct=Math.clz32?Math.clz32:fc,dc=Math.log,Va=Math.LN2;function fc(s){return s>>>=0,s===0?32:31-(dc(s)/Va|0)|0}var Ti=256,Gr=262144,Dt=4194304;function Si(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ai(s,r,l){var c=s.pendingLanes;if(c===0)return 0;var y=0,v=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var x=c&134217727;return x!==0?(c=x&~v,c!==0?y=Si(c):(C&=x,C!==0?y=Si(C):l||(l=x&~s,l!==0&&(y=Si(l))))):(x=c&~v,x!==0?y=Si(x):C!==0?y=Si(C):l||(l=c&~s,l!==0&&(y=Si(l)))),y===0?0:r!==0&&r!==y&&(r&v)===0&&(v=y&-y,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:y}function si(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function fh(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var s=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),s}function Ci(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Kr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hh(s,r,l,c,y,v){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var x=s.entanglements,k=s.expirationTimes,J=s.hiddenUpdates;for(l=C&~l;0<l;){var te=31-Ct(l),se=1<<te;x[te]=0,k[te]=-1;var Q=J[te];if(Q!==null)for(J[te]=null,te=0;te<Q.length;te++){var X=Q[te];X!==null&&(X.lane&=-536870913)}l&=~se}c!==0&&jr(s,c,0),v!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=v&~(C&~r))}function jr(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Ct(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function fl(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var c=31-Ct(l),y=1<<c;y&r|s[c]&r&&(s[c]|=r),l&=~y}}function hl(s,r){var l=r&-r;return l=(l&42)!==0?1:Yr(l),(l&(s.suspendedLanes|r))!==0?0:l}function Yr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Zi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function pc(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:j0(s.type))}function ri(s,r){var l=le.p;try{return le.p=s,r()}finally{le.p=l}}var ai=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ai,jt="__reactProps$"+ai,wi="__reactContainer$"+ai,La="__reactEvents$"+ai,ph="__reactListeners$"+ai,mc="__reactHandles$"+ai,gc="__reactResources$"+ai,Ii="__reactMarker$"+ai;function Oa(s){delete s[Pt],delete s[jt],delete s[La],delete s[ph],delete s[mc]}function xi(s){var r=s[Pt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[wi]||l[Pt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=N0(s);s!==null;){if(l=s[Pt])return l;s=N0(s)}return r}s=l,l=s.parentNode}return null}function Bn(s){if(s=s[Pt]||s[wi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function xn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ri(s){var r=s[gc];return r||(r=s[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ut(s){s[Ii]=!0}var pl=new Set,ml={};function bi(s,r){Ni(s,r),Ni(s+"Capture",r)}function Ni(s,r){for(ml[s]=r,s=0;s<r.length;s++)pl.add(r[s])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function yc(s){return Mt.call(_l,s)?!0:Mt.call(yl,s)?!1:gl.test(s)?_l[s]=!0:(yl[s]=!0,!1)}function za(s,r,l){if(yc(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Rn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function kt(s,r,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+c)}}function Yt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Os(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vl(s,r,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return y.call(this)},set:function(C){l=""+C,v.call(this,C)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function tt(s){if(!s._valueTracker){var r=Os(s)?"checked":"value";s._valueTracker=vl(s,r,""+s[r])}}function $r(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return s&&(c=Os(s)?s.checked?"true":"false":s.value),s=c,s!==l?(r.setValue(s),!0):!1}function Mi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Jr=/[\n"\\]/g;function _n(s){return s.replace(Jr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ba(s,r,l,c,y,v,C,x){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Yt(r)):s.value!==""+Yt(r)&&(s.value=""+Yt(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?El(s,C,Yt(r)):l!=null?El(s,C,Yt(l)):c!=null&&s.removeAttribute("value"),y==null&&v!=null&&(s.defaultChecked=!!v),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+Yt(x):s.removeAttribute("name")}function _c(s,r,l,c,y,v,C,x){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){tt(s);return}l=l!=null?""+Yt(l):"",r=r!=null?""+Yt(r):l,x||r===s.value||(s.value=r),s.defaultValue=r}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=x?s.checked:!!c,s.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),tt(s)}function El(s,r,l){r==="number"&&Mi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function zs(s,r,l,c){if(s=s.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<s.length;l++)y=r.hasOwnProperty("$"+s[l].value),s[l].selected!==y&&(s[l].selected=y),y&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Yt(l),r=null,y=0;y<s.length;y++){if(s[y].value===l){s[y].selected=!0,c&&(s[y].defaultSelected=!0);return}r!==null||s[y].disabled||(r=s[y])}r!==null&&(r.selected=!0)}}function vc(s,r,l){if(r!=null&&(r=""+Yt(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Yt(l):""}function Bs(s,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(mt(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=Yt(r),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),tt(s)}function vn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(s,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,l):typeof l!="number"||l===0||Ec.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Sl(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var y in r)c=r[y],r.hasOwnProperty(y)&&l[y]!==c&&Tl(s,y,c)}else for(var v in r)r.hasOwnProperty(v)&&Tl(s,v,r[v])}function qa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(s){return qs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function oi(){}var Al=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fs=null,Di=null;function Qr(s){var r=Bn(s);if(r&&(s=r.stateNode)){var l=s[jt]||null;e:switch(s=r.stateNode,r.type){case"input":if(Ba(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==s&&c.form===s.form){var y=c[jt]||null;if(!y)throw Error(i(90));Ba(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===s.form&&$r(c)}break e;case"textarea":vc(s,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&zs(s,!!l.multiple,r,!1)}}}var Ha=!1;function Hs(s,r,l){if(Ha)return s(r,l);Ha=!0;try{var c=s(r);return c}finally{if(Ha=!1,(Fs!==null||Di!==null)&&(pd(),Fs&&(r=Fs,s=Di,Di=Fs=null,Qr(r),s)))for(r=0;r<s.length;r++)Qr(s[r])}}function li(s,r){var l=s.stateNode;if(l===null)return null;var c=l[jt]||null;if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Fn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Wr=!1}var Pi=null,Cl=null,Xr=null;function wl(){if(Xr)return Xr;var s,r=Cl,l=r.length,c,y="value"in Pi?Pi.value:Pi.textContent,v=y.length;for(s=0;s<l&&r[s]===y[s];s++);var C=l-s;for(c=1;c<=C&&r[l-c]===y[v-c];c++);return Xr=y.slice(s,1<c?1-c:void 0)}function Zr(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function es(){return!0}function ui(){return!1}function Wt(s){function r(l,c,y,v,C){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(v):v[x]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?es:ui,this.isPropagationStopped=ui,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),r}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=Wt(ts),Gs=T({},ts,{view:0,detail:0}),Il=Wt(Gs),Ks,Ga,ki,Ka=T({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ki&&(ki&&s.type==="mousemove"?(Ks=s.screenX-ki.screenX,Ga=s.screenY-ki.screenY):Ga=Ks=0,ki=s),Ks)},movementY:function(s){return"movementY"in s?s.movementY:Ga}}),xl=Wt(Ka),ea=T({},Ka,{dataTransfer:0}),Sc=Wt(ea),Ac=T({},Gs,{relatedTarget:0}),ta=Wt(Ac),Rl=T({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Cc=Wt(Rl),ja=T({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wc=Wt(ja),Ic=T({},ts,{data:0}),Vi=Wt(Ic),xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nc(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=bc[s])?!!r[s]:!1}function js(){return Nc}var pn=T({},Gs,{key:function(s){if(s.key){var r=xc[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Zr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(s){return s.type==="keypress"?Zr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Mc=Wt(pn),Dc=T({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Wt(Dc),g=T({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),S=Wt(g),w=T({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Wt(w),Y=T({},Ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Wt(Y),ue=T({},ts,{newState:0,oldState:0}),Ne=Wt(ue),wt=[9,13,27,32],We=Fn&&"CompositionEvent"in window,gt=null;Fn&&"documentMode"in document&&(gt=document.documentMode);var Hn=Fn&&"TextEvent"in window&&!gt,Li=Fn&&(!We||gt&&8<gt&&11>=gt),ci=" ",di=!1;function na(s,r){switch(s){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $a=!1;function ix(s,r){switch(s){case"compositionend":return Ya(r);case"keypress":return r.which!==32?null:(di=!0,ci);case"textInput":return s=r.data,s===ci&&di?null:s;default:return null}}function sx(s,r){if($a)return s==="compositionend"||!We&&na(s,r)?(s=wl(),Xr=Cl=Pi=null,$a=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!rx[s.type]:r==="textarea"}function Uy(s,r,l,c){Fs?Di?Di.push(c):Di=[c]:Fs=c,r=Td(r,"onChange"),0<r.length&&(l=new Ui("onChange","change",null,l,c),s.push({event:l,listeners:r}))}var bl=null,Nl=null;function ax(s){g0(s,0)}function Pc(s){var r=xn(s);if($r(r))return s}function ky(s,r){if(s==="change")return r}var Vy=!1;if(Fn){var mh;if(Fn){var gh="oninput"in document;if(!gh){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),gh=typeof Ly.oninput=="function"}mh=gh}else mh=!1;Vy=mh&&(!document.documentMode||9<document.documentMode)}function Oy(){bl&&(bl.detachEvent("onpropertychange",zy),Nl=bl=null)}function zy(s){if(s.propertyName==="value"&&Pc(Nl)){var r=[];Uy(r,Nl,s,qn(s)),Hs(ax,r)}}function ox(s,r,l){s==="focusin"?(Oy(),bl=r,Nl=l,bl.attachEvent("onpropertychange",zy)):s==="focusout"&&Oy()}function lx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pc(Nl)}function ux(s,r){if(s==="click")return Pc(r)}function cx(s,r){if(s==="input"||s==="change")return Pc(r)}function dx(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var bn=typeof Object.is=="function"?Object.is:dx;function Ml(s,r){if(bn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!Mt.call(r,y)||!bn(s[y],r[y]))return!1}return!0}function By(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qy(s,r){var l=By(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=r&&c>=r)return{node:l,offset:r-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=By(l)}}function Fy(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Fy(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Hy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Mi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Mi(s.document)}return r}function yh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var fx=Fn&&"documentMode"in document&&11>=document.documentMode,Ja=null,_h=null,Dl=null,vh=!1;function Gy(s,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vh||Ja==null||Ja!==Mi(c)||(c=Ja,"selectionStart"in c&&yh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Dl&&Ml(Dl,c)||(Dl=c,c=Td(_h,"onSelect"),0<c.length&&(r=new Ui("onSelect","select",null,r,l),s.push({event:r,listeners:c}),r.target=Ja)))}function ia(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Qa={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Eh={},Ky={};Fn&&(Ky=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function sa(s){if(Eh[s])return Eh[s];if(!Qa[s])return s;var r=Qa[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Ky)return Eh[s]=r[l];return s}var jy=sa("animationend"),Yy=sa("animationiteration"),$y=sa("animationstart"),hx=sa("transitionrun"),px=sa("transitionstart"),mx=sa("transitioncancel"),Jy=sa("transitionend"),Qy=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function fi(s,r){Qy.set(s,r),bi(r,[s])}var Uc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Gn=[],Wa=0,Sh=0;function kc(){for(var s=Wa,r=Sh=Wa=0;r<s;){var l=Gn[r];Gn[r++]=null;var c=Gn[r];Gn[r++]=null;var y=Gn[r];Gn[r++]=null;var v=Gn[r];if(Gn[r++]=null,c!==null&&y!==null){var C=c.pending;C===null?y.next=y:(y.next=C.next,C.next=y),c.pending=y}v!==0&&Wy(l,y,v)}}function Vc(s,r,l,c){Gn[Wa++]=s,Gn[Wa++]=r,Gn[Wa++]=l,Gn[Wa++]=c,Sh|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Ah(s,r,l,c){return Vc(s,r,l,c),Lc(s)}function ra(s,r){return Vc(s,null,null,r),Lc(s)}function Wy(s,r,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var y=!1,v=s.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(y=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,y&&r!==null&&(y=31-Ct(l),s=v.hiddenUpdates,c=s[y],c===null?s[y]=[r]:c.push(r),r.lane=l|536870912),v):null}function Lc(s){if(50<eu)throw eu=0,Dp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Xa={};function gx(s,r,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,r,l,c){return new gx(s,r,l,c)}function Ch(s){return s=s.prototype,!(!s||!s.isReactComponent)}function is(s,r){var l=s.alternate;return l===null?(l=Nn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Xy(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Oc(s,r,l,c,y,v){var C=0;if(c=s,typeof s=="function")Ch(s)&&(C=1);else if(typeof s=="string")C=TR(s,l,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case b:return s=Nn(31,l,r,y),s.elementType=b,s.lanes=v,s;case L:return aa(l.children,y,v,r);case B:C=8,y|=24;break;case H:return s=Nn(12,l,r,y|2),s.elementType=H,s.lanes=v,s;case ce:return s=Nn(13,l,r,y),s.elementType=ce,s.lanes=v,s;case de:return s=Nn(19,l,r,y),s.elementType=de,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:C=10;break e;case K:C=9;break e;case ae:C=11;break e;case M:C=14;break e;case N:C=16,c=null;break e}C=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Nn(C,l,r,y),r.elementType=s,r.type=c,r.lanes=v,r}function aa(s,r,l,c){return s=Nn(7,s,c,r),s.lanes=l,s}function wh(s,r,l){return s=Nn(6,s,null,r),s.lanes=l,s}function Zy(s){var r=Nn(18,null,null,0);return r.stateNode=s,r}function Ih(s,r,l){return r=Nn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var e_=new WeakMap;function Kn(s,r){if(typeof s=="object"&&s!==null){var l=e_.get(s);return l!==void 0?l:(r={value:s,source:r,stack:ul(r)},e_.set(s,r),r)}return{value:s,source:r,stack:ul(r)}}var Za=[],eo=0,zc=null,Pl=0,jn=[],Yn=0,Ys=null,Oi=1,zi="";function ss(s,r){Za[eo++]=Pl,Za[eo++]=zc,zc=s,Pl=r}function t_(s,r,l){jn[Yn++]=Oi,jn[Yn++]=zi,jn[Yn++]=Ys,Ys=s;var c=Oi;s=zi;var y=32-Ct(c)-1;c&=~(1<<y),l+=1;var v=32-Ct(r)+y;if(30<v){var C=y-y%5;v=(c&(1<<C)-1).toString(32),c>>=C,y-=C,Oi=1<<32-Ct(r)+y|l<<y|c,zi=v+s}else Oi=1<<v|l<<y|c,zi=s}function xh(s){s.return!==null&&(ss(s,1),t_(s,1,0))}function Rh(s){for(;s===zc;)zc=Za[--eo],Za[eo]=null,Pl=Za[--eo],Za[eo]=null;for(;s===Ys;)Ys=jn[--Yn],jn[Yn]=null,zi=jn[--Yn],jn[Yn]=null,Oi=jn[--Yn],jn[Yn]=null}function n_(s,r){jn[Yn++]=Oi,jn[Yn++]=zi,jn[Yn++]=Ys,Oi=r.id,zi=r.overflow,Ys=s}var Xt=null,dt=null,Ge=!1,$s=null,$n=!1,bh=Error(i(519));function Js(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Kn(r,s)),bh}function i_(s){var r=s.stateNode,l=s.type,c=s.memoizedProps;switch(r[Pt]=s,r[jt]=c,l){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(l=0;l<nu.length;l++)ke(nu[l],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),_c(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Bs(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||E0(r.textContent,l)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=oi),r=!0):r=!1,r||Js(s,!0)}function s_(s){for(Xt=s.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Xt=Xt.return}}function to(s){if(s!==Xt)return!1;if(!Ge)return s_(s),Ge=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Yp(s.type,s.memoizedProps)),l=!l),l&&dt&&Js(s),s_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=b0(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));dt=b0(s)}else r===27?(r=dt,ur(s.type)?(s=Xp,Xp=null,dt=s):dt=r):dt=Xt?Qn(s.stateNode.nextSibling):null;return!0}function oa(){dt=Xt=null,Ge=!1}function Nh(){var s=$s;return s!==null&&(An===null?An=s:An.push.apply(An,s),$s=null),s}function Ul(s){$s===null?$s=[s]:$s.push(s)}var Mh=D(null),la=null,rs=null;function Qs(s,r,l){oe(Mh,r._currentValue),r._currentValue=l}function as(s){s._currentValue=Mh.current,Z(Mh)}function Dh(s,r,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===l)break;s=s.return}}function Ph(s,r,l,c){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var v=y.dependencies;if(v!==null){var C=y.child;v=v.firstContext;e:for(;v!==null;){var x=v;v=y;for(var k=0;k<r.length;k++)if(x.context===r[k]){v.lanes|=l,x=v.alternate,x!==null&&(x.lanes|=l),Dh(v.return,l,s),c||(C=null);break e}v=x.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(i(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),Dh(C,l,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function no(s,r,l,c){s=null;for(var y=r,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var x=y.type;bn(y.pendingProps.value,C.value)||(s!==null?s.push(x):s=[x])}}else if(y===Pe.current){if(C=y.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(ou):s=[ou])}y=y.return}s!==null&&Ph(r,s,l,c),r.flags|=262144}function Bc(s){for(s=s.firstContext;s!==null;){if(!bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ua(s){la=s,rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Zt(s){return r_(la,s)}function qc(s,r){return la===null&&ua(s),r_(s,r)}function r_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},rs===null){if(s===null)throw Error(i(308));rs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else rs=rs.next=r;return l}var yx=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},_x=n.unstable_scheduleCallback,vx=n.unstable_NormalPriority,Vt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new yx,data:new Map,refCount:0}}function kl(s){s.refCount--,s.refCount===0&&_x(vx,function(){s.controller.abort()})}var Vl=null,kh=0,io=0,so=null;function Ex(s,r){if(Vl===null){var l=Vl=[];kh=0,io=Op(),so={status:"pending",value:void 0,then:function(c){l.push(c)}}}return kh++,r.then(a_,a_),r}function a_(){if(--kh===0&&Vl!==null){so!==null&&(so.status="fulfilled");var s=Vl;Vl=null,io=0,so=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Tx(s,r){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var o_=ee.S;ee.S=function(s,r){Gv=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Ex(s,r),o_!==null&&o_(s,r)};var ca=D(null);function Vh(){var s=ca.current;return s!==null?s:lt.pooledCache}function Fc(s,r){r===null?oe(ca,ca.current):oe(ca,r.pool)}function l_(){var s=Vh();return s===null?null:{parent:Vt._currentValue,pool:s}}var ro=Error(i(460)),Lh=Error(i(474)),Hc=Error(i(542)),Gc={then:function(){}};function u_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function c_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(oi,oi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,f_(s),s;default:if(typeof r.status=="string")r.then(oi,oi);else{if(s=lt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=c}},function(c){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,f_(s),s}throw fa=r,ro}}function da(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(fa=l,ro):l}}var fa=null;function d_(){if(fa===null)throw Error(i(459));var s=fa;return fa=null,s}function f_(s){if(s===ro||s===Hc)throw Error(i(483))}var ao=null,Ll=0;function Kc(s){var r=Ll;return Ll+=1,ao===null&&(ao=[]),c_(ao,s,r)}function Ol(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function jc(s,r){throw r.$$typeof===A?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function h_(s){function r(j,q){if(s){var $=j.deletions;$===null?(j.deletions=[q],j.flags|=16):$.push(q)}}function l(j,q){if(!s)return null;for(;q!==null;)r(j,q),q=q.sibling;return null}function c(j){for(var q=new Map;j!==null;)j.key!==null?q.set(j.key,j):q.set(j.index,j),j=j.sibling;return q}function y(j,q){return j=is(j,q),j.index=0,j.sibling=null,j}function v(j,q,$){return j.index=$,s?($=j.alternate,$!==null?($=$.index,$<q?(j.flags|=67108866,q):$):(j.flags|=67108866,q)):(j.flags|=1048576,q)}function C(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function x(j,q,$,ne){return q===null||q.tag!==6?(q=wh($,j.mode,ne),q.return=j,q):(q=y(q,$),q.return=j,q)}function k(j,q,$,ne){var Te=$.type;return Te===L?te(j,q,$.props.children,ne,$.key):q!==null&&(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&da(Te)===q.type)?(q=y(q,$.props),Ol(q,$),q.return=j,q):(q=Oc($.type,$.key,$.props,null,j.mode,ne),Ol(q,$),q.return=j,q)}function J(j,q,$,ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=Ih($,j.mode,ne),q.return=j,q):(q=y(q,$.children||[]),q.return=j,q)}function te(j,q,$,ne,Te){return q===null||q.tag!==7?(q=aa($,j.mode,ne,Te),q.return=j,q):(q=y(q,$),q.return=j,q)}function se(j,q,$){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=wh(""+q,j.mode,$),q.return=j,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return $=Oc(q.type,q.key,q.props,null,j.mode,$),Ol($,q),$.return=j,$;case U:return q=Ih(q,j.mode,$),q.return=j,q;case N:return q=da(q),se(j,q,$)}if(mt(q)||G(q))return q=aa(q,j.mode,$,null),q.return=j,q;if(typeof q.then=="function")return se(j,Kc(q),$);if(q.$$typeof===F)return se(j,qc(j,q),$);jc(j,q)}return null}function Q(j,q,$,ne){var Te=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Te!==null?null:x(j,q,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case I:return $.key===Te?k(j,q,$,ne):null;case U:return $.key===Te?J(j,q,$,ne):null;case N:return $=da($),Q(j,q,$,ne)}if(mt($)||G($))return Te!==null?null:te(j,q,$,ne,null);if(typeof $.then=="function")return Q(j,q,Kc($),ne);if($.$$typeof===F)return Q(j,q,qc(j,$),ne);jc(j,$)}return null}function X(j,q,$,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return j=j.get($)||null,x(q,j,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return j=j.get(ne.key===null?$:ne.key)||null,k(q,j,ne,Te);case U:return j=j.get(ne.key===null?$:ne.key)||null,J(q,j,ne,Te);case N:return ne=da(ne),X(j,q,$,ne,Te)}if(mt(ne)||G(ne))return j=j.get($)||null,te(q,j,ne,Te,null);if(typeof ne.then=="function")return X(j,q,$,Kc(ne),Te);if(ne.$$typeof===F)return X(j,q,$,qc(q,ne),Te);jc(q,ne)}return null}function ge(j,q,$,ne){for(var Te=null,$e=null,_e=q,De=q=0,ze=null;_e!==null&&De<$.length;De++){_e.index>De?(ze=_e,_e=null):ze=_e.sibling;var Je=Q(j,_e,$[De],ne);if(Je===null){_e===null&&(_e=ze);break}s&&_e&&Je.alternate===null&&r(j,_e),q=v(Je,q,De),$e===null?Te=Je:$e.sibling=Je,$e=Je,_e=ze}if(De===$.length)return l(j,_e),Ge&&ss(j,De),Te;if(_e===null){for(;De<$.length;De++)_e=se(j,$[De],ne),_e!==null&&(q=v(_e,q,De),$e===null?Te=_e:$e.sibling=_e,$e=_e);return Ge&&ss(j,De),Te}for(_e=c(_e);De<$.length;De++)ze=X(_e,j,De,$[De],ne),ze!==null&&(s&&ze.alternate!==null&&_e.delete(ze.key===null?De:ze.key),q=v(ze,q,De),$e===null?Te=ze:$e.sibling=ze,$e=ze);return s&&_e.forEach(function(pr){return r(j,pr)}),Ge&&ss(j,De),Te}function Ae(j,q,$,ne){if($==null)throw Error(i(151));for(var Te=null,$e=null,_e=q,De=q=0,ze=null,Je=$.next();_e!==null&&!Je.done;De++,Je=$.next()){_e.index>De?(ze=_e,_e=null):ze=_e.sibling;var pr=Q(j,_e,Je.value,ne);if(pr===null){_e===null&&(_e=ze);break}s&&_e&&pr.alternate===null&&r(j,_e),q=v(pr,q,De),$e===null?Te=pr:$e.sibling=pr,$e=pr,_e=ze}if(Je.done)return l(j,_e),Ge&&ss(j,De),Te;if(_e===null){for(;!Je.done;De++,Je=$.next())Je=se(j,Je.value,ne),Je!==null&&(q=v(Je,q,De),$e===null?Te=Je:$e.sibling=Je,$e=Je);return Ge&&ss(j,De),Te}for(_e=c(_e);!Je.done;De++,Je=$.next())Je=X(_e,j,De,Je.value,ne),Je!==null&&(s&&Je.alternate!==null&&_e.delete(Je.key===null?De:Je.key),q=v(Je,q,De),$e===null?Te=Je:$e.sibling=Je,$e=Je);return s&&_e.forEach(function(DR){return r(j,DR)}),Ge&&ss(j,De),Te}function ot(j,q,$,ne){if(typeof $=="object"&&$!==null&&$.type===L&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case I:e:{for(var Te=$.key;q!==null;){if(q.key===Te){if(Te=$.type,Te===L){if(q.tag===7){l(j,q.sibling),ne=y(q,$.props.children),ne.return=j,j=ne;break e}}else if(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&da(Te)===q.type){l(j,q.sibling),ne=y(q,$.props),Ol(ne,$),ne.return=j,j=ne;break e}l(j,q);break}else r(j,q);q=q.sibling}$.type===L?(ne=aa($.props.children,j.mode,ne,$.key),ne.return=j,j=ne):(ne=Oc($.type,$.key,$.props,null,j.mode,ne),Ol(ne,$),ne.return=j,j=ne)}return C(j);case U:e:{for(Te=$.key;q!==null;){if(q.key===Te)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){l(j,q.sibling),ne=y(q,$.children||[]),ne.return=j,j=ne;break e}else{l(j,q);break}else r(j,q);q=q.sibling}ne=Ih($,j.mode,ne),ne.return=j,j=ne}return C(j);case N:return $=da($),ot(j,q,$,ne)}if(mt($))return ge(j,q,$,ne);if(G($)){if(Te=G($),typeof Te!="function")throw Error(i(150));return $=Te.call($),Ae(j,q,$,ne)}if(typeof $.then=="function")return ot(j,q,Kc($),ne);if($.$$typeof===F)return ot(j,q,qc(j,$),ne);jc(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,q!==null&&q.tag===6?(l(j,q.sibling),ne=y(q,$),ne.return=j,j=ne):(l(j,q),ne=wh($,j.mode,ne),ne.return=j,j=ne),C(j)):l(j,q)}return function(j,q,$,ne){try{Ll=0;var Te=ot(j,q,$,ne);return ao=null,Te}catch(_e){if(_e===ro||_e===Hc)throw _e;var $e=Nn(29,_e,null,j.mode);return $e.lanes=ne,$e.return=j,$e}finally{}}}var ha=h_(!0),p_=h_(!1),Ws=!1;function Oh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Zs(s,r,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var y=c.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),c.pending=r,r=Lc(s),Wy(s,null,l),r}return Vc(s,c,r,l),Lc(s)}function zl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,fl(s,l)}}function Bh(s,r){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?y=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?y=v=r:v=v.next=r}else y=v=r;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var qh=!1;function Bl(){if(qh){var s=so;if(s!==null)throw s}}function ql(s,r,l,c){qh=!1;var y=s.updateQueue;Ws=!1;var v=y.firstBaseUpdate,C=y.lastBaseUpdate,x=y.shared.pending;if(x!==null){y.shared.pending=null;var k=x,J=k.next;k.next=null,C===null?v=J:C.next=J,C=k;var te=s.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==C&&(x===null?te.firstBaseUpdate=J:x.next=J,te.lastBaseUpdate=k))}if(v!==null){var se=y.baseState;C=0,te=J=k=null,x=v;do{var Q=x.lane&-536870913,X=Q!==x.lane;if(X?(Oe&Q)===Q:(c&Q)===Q){Q!==0&&Q===io&&(qh=!0),te!==null&&(te=te.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ge=s,Ae=x;Q=r;var ot=l;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){se=ge.call(ot,se,Q);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,Q=typeof ge=="function"?ge.call(ot,se,Q):ge,Q==null)break e;se=T({},se,Q);break e;case 2:Ws=!0}}Q=x.callback,Q!==null&&(s.flags|=64,X&&(s.flags|=8192),X=y.callbacks,X===null?y.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?(J=te=X,k=se):te=te.next=X,C|=Q;if(x=x.next,x===null){if(x=y.shared.pending,x===null)break;X=x,x=X.next,X.next=null,y.lastBaseUpdate=X,y.shared.pending=null}}while(!0);te===null&&(k=se),y.baseState=k,y.firstBaseUpdate=J,y.lastBaseUpdate=te,v===null&&(y.shared.lanes=0),sr|=C,s.lanes=C,s.memoizedState=se}}function m_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function g_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)m_(l[s],r)}var oo=D(null),Yc=D(0);function y_(s,r){s=ms,oe(Yc,s),oe(oo,r),ms=s|r.baseLanes}function Fh(){oe(Yc,ms),oe(oo,oo.current)}function Hh(){ms=Yc.current,Z(oo),Z(Yc)}var Mn=D(null),Jn=null;function er(s){var r=s.alternate;oe(It,It.current&1),oe(Mn,s),Jn===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Jn=s)}function Gh(s){oe(It,It.current),oe(Mn,s),Jn===null&&(Jn=s)}function __(s){s.tag===22?(oe(It,It.current),oe(Mn,s),Jn===null&&(Jn=s)):tr()}function tr(){oe(It,It.current),oe(Mn,Mn.current)}function Dn(s){Z(Mn),Jn===s&&(Jn=null),Z(It)}var It=D(0);function $c(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Qp(l)||Wp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var os=0,Me=null,rt=null,Lt=null,Jc=!1,lo=!1,pa=!1,Qc=0,Fl=0,uo=null,Sx=0;function Tt(){throw Error(i(321))}function Kh(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!bn(s[l],r[l]))return!1;return!0}function jh(s,r,l,c,y,v){return os=v,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=s===null||s.memoizedState===null?tv:op,pa=!1,v=l(c,y),pa=!1,lo&&(v=E_(r,l,c,y)),v_(s),v}function v_(s){ee.H=Kl;var r=rt!==null&&rt.next!==null;if(os=0,Lt=rt=Me=null,Jc=!1,Fl=0,uo=null,r)throw Error(i(300));s===null||Ot||(s=s.dependencies,s!==null&&Bc(s)&&(Ot=!0))}function E_(s,r,l,c){Me=s;var y=0;do{if(lo&&(uo=null),Fl=0,lo=!1,25<=y)throw Error(i(301));if(y+=1,Lt=rt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ee.H=nv,v=r(l,c)}while(lo);return v}function Ax(){var s=ee.H,r=s.useState()[0];return r=typeof r.then=="function"?Hl(r):r,s=s.useState()[0],(rt!==null?rt.memoizedState:null)!==s&&(Me.flags|=1024),r}function Yh(){var s=Qc!==0;return Qc=0,s}function $h(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Jh(s){if(Jc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Jc=!1}os=0,Lt=rt=Me=null,lo=!1,Fl=Qc=0,uo=null}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Me.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function xt(){if(rt===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=rt.next;var r=Lt===null?Me.memoizedState:Lt.next;if(r!==null)Lt=r,rt=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));rt=s,s={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Lt===null?Me.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(s){var r=Fl;return Fl+=1,uo===null&&(uo=[]),s=c_(uo,s,r),r=Me,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?tv:op),s}function Xc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hl(s);if(s.$$typeof===F)return Zt(s)}throw Error(i(438,String(s)))}function Qh(s){var r=null,l=Me.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Wc(),Me.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),c=0;c<s;c++)l[c]=V;return r.index++,l}function ls(s,r){return typeof r=="function"?r(s):r}function Zc(s){var r=xt();return Wh(r,rt,s)}function Wh(s,r,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var y=s.baseQueue,v=c.pending;if(v!==null){if(y!==null){var C=y.next;y.next=v.next,v.next=C}r.baseQueue=y=v,c.pending=null}if(v=s.baseState,y===null)s.memoizedState=v;else{r=y.next;var x=C=null,k=null,J=r,te=!1;do{var se=J.lane&-536870913;if(se!==J.lane?(Oe&se)===se:(os&se)===se){var Q=J.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),se===io&&(te=!0);else if((os&Q)===Q){J=J.next,Q===io&&(te=!0);continue}else se={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(x=k=se,C=v):k=k.next=se,Me.lanes|=Q,sr|=Q;se=J.action,pa&&l(v,se),v=J.hasEagerState?J.eagerState:l(v,se)}else Q={lane:se,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(x=k=Q,C=v):k=k.next=Q,Me.lanes|=se,sr|=se;J=J.next}while(J!==null&&J!==r);if(k===null?C=v:k.next=x,!bn(v,s.memoizedState)&&(Ot=!0,te&&(l=so,l!==null)))throw l;s.memoizedState=v,s.baseState=C,s.baseQueue=k,c.lastRenderedState=v}return y===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Xh(s){var r=xt(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,y=l.pending,v=r.memoizedState;if(y!==null){l.pending=null;var C=y=y.next;do v=s(v,C.action),C=C.next;while(C!==y);bn(v,r.memoizedState)||(Ot=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,c]}function T_(s,r,l){var c=Me,y=xt(),v=Ge;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!bn((rt||y).memoizedState,l);if(C&&(y.memoizedState=l,Ot=!0),y=y.queue,tp(C_.bind(null,c,y,s),[s]),y.getSnapshot!==r||C||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,co(9,{destroy:void 0},A_.bind(null,c,y,l,r),null),lt===null)throw Error(i(349));v||(os&127)!==0||S_(c,r,l)}return l}function S_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Me.updateQueue,r===null?(r=Wc(),Me.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function A_(s,r,l,c){r.value=l,r.getSnapshot=c,w_(r)&&I_(s)}function C_(s,r,l){return l(function(){w_(r)&&I_(s)})}function w_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!bn(s,l)}catch{return!0}}function I_(s){var r=ra(s,2);r!==null&&Cn(r,s,2)}function Zh(s){var r=mn();if(typeof s=="function"){var l=s;if(s=l(),pa){zn(!0);try{l()}finally{zn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:s},r}function x_(s,r,l,c){return s.baseState=l,Wh(s,rt,typeof c=="function"?c:ls)}function Cx(s,r,l,c,y){if(nd(s))throw Error(i(485));if(s=r.action,s!==null){var v={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};ee.T!==null?l(!0):v.isTransition=!1,c(v),l=r.pending,l===null?(v.next=r.pending=v,R_(r,v)):(v.next=l.next,r.pending=l.next=v)}}function R_(s,r){var l=r.action,c=r.payload,y=s.state;if(r.isTransition){var v=ee.T,C={};ee.T=C;try{var x=l(y,c),k=ee.S;k!==null&&k(C,x),b_(s,r,x)}catch(J){ep(s,r,J)}finally{v!==null&&C.types!==null&&(v.types=C.types),ee.T=v}}else try{v=l(y,c),b_(s,r,v)}catch(J){ep(s,r,J)}}function b_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){N_(s,r,c)},function(c){return ep(s,r,c)}):N_(s,r,l)}function N_(s,r,l){r.status="fulfilled",r.value=l,M_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,R_(s,l)))}function ep(s,r,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,M_(r),r=r.next;while(r!==c)}s.action=null}function M_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function D_(s,r){return r}function P_(s,r){if(Ge){var l=lt.formState;if(l!==null){e:{var c=Me;if(Ge){if(dt){t:{for(var y=dt,v=$n;y.nodeType!==8;){if(!v){y=null;break t}if(y=Qn(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){dt=Qn(y.nextSibling),c=y.data==="F!";break e}}Js(c)}c=!1}c&&(r=l[0])}}return l=mn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:r},l.queue=c,l=X_.bind(null,Me,c),c.dispatch=l,c=Zh(!1),v=ap.bind(null,Me,!1,c.queue),c=mn(),y={state:r,dispatch:null,action:s,pending:null},c.queue=y,l=Cx.bind(null,Me,y,v,l),y.dispatch=l,c.memoizedState=s,[r,l,!1]}function U_(s){var r=xt();return k_(r,rt,s)}function k_(s,r,l){if(r=Wh(s,r,D_)[0],s=Zc(ls)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Hl(r)}catch(C){throw C===ro?Hc:C}else c=r;r=xt();var y=r.queue,v=y.dispatch;return l!==r.memoizedState&&(Me.flags|=2048,co(9,{destroy:void 0},wx.bind(null,y,l),null)),[c,v,s]}function wx(s,r){s.action=r}function V_(s){var r=xt(),l=rt;if(l!==null)return k_(r,l,s);xt(),r=r.memoizedState,l=xt();var c=l.queue.dispatch;return l.memoizedState=s,[r,c,!1]}function co(s,r,l,c){return s={tag:s,create:l,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Wc(),Me.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,r.lastEffect=s),s}function L_(){return xt().memoizedState}function ed(s,r,l,c){var y=mn();Me.flags|=s,y.memoizedState=co(1|r,{destroy:void 0},l,c===void 0?null:c)}function td(s,r,l,c){var y=xt();c=c===void 0?null:c;var v=y.memoizedState.inst;rt!==null&&c!==null&&Kh(c,rt.memoizedState.deps)?y.memoizedState=co(r,v,l,c):(Me.flags|=s,y.memoizedState=co(1|r,v,l,c))}function O_(s,r){ed(8390656,8,s,r)}function tp(s,r){td(2048,8,s,r)}function Ix(s){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=Wc(),Me.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function z_(s){var r=xt().memoizedState;return Ix({ref:r,nextImpl:s}),function(){if((Xe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function B_(s,r){return td(4,2,s,r)}function q_(s,r){return td(4,4,s,r)}function F_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function H_(s,r,l){l=l!=null?l.concat([s]):null,td(4,4,F_.bind(null,r,s),l)}function np(){}function G_(s,r){var l=xt();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&Kh(r,c[1])?c[0]:(l.memoizedState=[s,r],s)}function K_(s,r){var l=xt();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&Kh(r,c[1]))return c[0];if(c=s(),pa){zn(!0);try{s()}finally{zn(!1)}}return l.memoizedState=[c,r],c}function ip(s,r,l){return l===void 0||(os&1073741824)!==0&&(Oe&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=jv(),Me.lanes|=s,sr|=s,l)}function j_(s,r,l,c){return bn(l,r)?l:oo.current!==null?(s=ip(s,l,c),bn(s,r)||(Ot=!0),s):(os&42)===0||(os&1073741824)!==0&&(Oe&261930)===0?(Ot=!0,s.memoizedState=l):(s=jv(),Me.lanes|=s,sr|=s,r)}function Y_(s,r,l,c,y){var v=le.p;le.p=v!==0&&8>v?v:8;var C=ee.T,x={};ee.T=x,ap(s,!1,r,l);try{var k=y(),J=ee.S;if(J!==null&&J(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=Tx(k,c);Gl(s,r,te,kn(s))}else Gl(s,r,c,kn(s))}catch(se){Gl(s,r,{then:function(){},status:"rejected",reason:se},kn())}finally{le.p=v,C!==null&&x.types!==null&&(C.types=x.types),ee.T=C}}function xx(){}function sp(s,r,l,c){if(s.tag!==5)throw Error(i(476));var y=$_(s).queue;Y_(s,y,r,Ee,l===null?xx:function(){return J_(s),l(c)})}function $_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:Ee},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function J_(s){var r=$_(s);r.next===null&&(r=s.alternate.memoizedState),Gl(s,r.next.queue,{},kn())}function rp(){return Zt(ou)}function Q_(){return xt().memoizedState}function W_(){return xt().memoizedState}function Rx(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=kn();s=Xs(l);var c=Zs(r,s,l);c!==null&&(Cn(c,r,l),zl(c,r,l)),r={cache:Uh()},s.payload=r;return}r=r.return}}function bx(s,r,l){var c=kn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nd(s)?Z_(r,l):(l=Ah(s,r,l,c),l!==null&&(Cn(l,s,c),ev(l,r,c)))}function X_(s,r,l){var c=kn();Gl(s,r,l,c)}function Gl(s,r,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(nd(s))Z_(r,y);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,x=v(C,l);if(y.hasEagerState=!0,y.eagerState=x,bn(x,C))return Vc(s,r,y,0),lt===null&&kc(),!1}catch{}finally{}if(l=Ah(s,r,y,c),l!==null)return Cn(l,s,c),ev(l,r,c),!0}return!1}function ap(s,r,l,c){if(c={lane:2,revertLane:Op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},nd(s)){if(r)throw Error(i(479))}else r=Ah(s,l,c,2),r!==null&&Cn(r,s,2)}function nd(s){var r=s.alternate;return s===Me||r!==null&&r===Me}function Z_(s,r){lo=Jc=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function ev(s,r,l){if((l&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,fl(s,l)}}var Kl={readContext:Zt,use:Xc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Kl.useEffectEvent=Tt;var tv={readContext:Zt,use:Xc,useCallback:function(s,r){return mn().memoizedState=[s,r===void 0?null:r],s},useContext:Zt,useEffect:O_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,ed(4194308,4,F_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return ed(4194308,4,s,r)},useInsertionEffect:function(s,r){ed(4,2,s,r)},useMemo:function(s,r){var l=mn();r=r===void 0?null:r;var c=s();if(pa){zn(!0);try{s()}finally{zn(!1)}}return l.memoizedState=[c,r],c},useReducer:function(s,r,l){var c=mn();if(l!==void 0){var y=l(r);if(pa){zn(!0);try{l(r)}finally{zn(!1)}}}else y=r;return c.memoizedState=c.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},c.queue=s,s=s.dispatch=bx.bind(null,Me,s),[c.memoizedState,s]},useRef:function(s){var r=mn();return s={current:s},r.memoizedState=s},useState:function(s){s=Zh(s);var r=s.queue,l=X_.bind(null,Me,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:np,useDeferredValue:function(s,r){var l=mn();return ip(l,s,r)},useTransition:function(){var s=Zh(!1);return s=Y_.bind(null,Me,s.queue,!0,!1),mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var c=Me,y=mn();if(Ge){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),lt===null)throw Error(i(349));(Oe&127)!==0||S_(c,r,l)}y.memoizedState=l;var v={value:l,getSnapshot:r};return y.queue=v,O_(C_.bind(null,c,v,s),[s]),c.flags|=2048,co(9,{destroy:void 0},A_.bind(null,c,v,l,r),null),l},useId:function(){var s=mn(),r=lt.identifierPrefix;if(Ge){var l=zi,c=Oi;l=(c&~(1<<32-Ct(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Qc++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=Sx++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:rp,useFormState:P_,useActionState:P_,useOptimistic:function(s){var r=mn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=ap.bind(null,Me,!0,l),l.dispatch=r,[s,r]},useMemoCache:Qh,useCacheRefresh:function(){return mn().memoizedState=Rx.bind(null,Me)},useEffectEvent:function(s){var r=mn(),l={impl:s};return r.memoizedState=l,function(){if((Xe&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},op={readContext:Zt,use:Xc,useCallback:G_,useContext:Zt,useEffect:tp,useImperativeHandle:H_,useInsertionEffect:B_,useLayoutEffect:q_,useMemo:K_,useReducer:Zc,useRef:L_,useState:function(){return Zc(ls)},useDebugValue:np,useDeferredValue:function(s,r){var l=xt();return j_(l,rt.memoizedState,s,r)},useTransition:function(){var s=Zc(ls)[0],r=xt().memoizedState;return[typeof s=="boolean"?s:Hl(s),r]},useSyncExternalStore:T_,useId:Q_,useHostTransitionStatus:rp,useFormState:U_,useActionState:U_,useOptimistic:function(s,r){var l=xt();return x_(l,rt,s,r)},useMemoCache:Qh,useCacheRefresh:W_};op.useEffectEvent=z_;var nv={readContext:Zt,use:Xc,useCallback:G_,useContext:Zt,useEffect:tp,useImperativeHandle:H_,useInsertionEffect:B_,useLayoutEffect:q_,useMemo:K_,useReducer:Xh,useRef:L_,useState:function(){return Xh(ls)},useDebugValue:np,useDeferredValue:function(s,r){var l=xt();return rt===null?ip(l,s,r):j_(l,rt.memoizedState,s,r)},useTransition:function(){var s=Xh(ls)[0],r=xt().memoizedState;return[typeof s=="boolean"?s:Hl(s),r]},useSyncExternalStore:T_,useId:Q_,useHostTransitionStatus:rp,useFormState:V_,useActionState:V_,useOptimistic:function(s,r){var l=xt();return rt!==null?x_(l,rt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:W_};nv.useEffectEvent=z_;function lp(s,r,l,c){r=s.memoizedState,l=l(c,r),l=l==null?r:T({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var up={enqueueSetState:function(s,r,l){s=s._reactInternals;var c=kn(),y=Xs(c);y.payload=r,l!=null&&(y.callback=l),r=Zs(s,y,c),r!==null&&(Cn(r,s,c),zl(r,s,c))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var c=kn(),y=Xs(c);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=Zs(s,y,c),r!==null&&(Cn(r,s,c),zl(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=kn(),c=Xs(l);c.tag=2,r!=null&&(c.callback=r),r=Zs(s,c,l),r!==null&&(Cn(r,s,l),zl(r,s,l))}};function iv(s,r,l,c,y,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,v,C):r.prototype&&r.prototype.isPureReactComponent?!Ml(l,c)||!Ml(y,v):!0}function sv(s,r,l,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==s&&up.enqueueReplaceState(r,r.state,null)}function ma(s,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(s=s.defaultProps){l===r&&(l=T({},l));for(var y in s)l[y]===void 0&&(l[y]=s[y])}return l}function rv(s){Uc(s)}function av(s){console.error(s)}function ov(s){Uc(s)}function id(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function lv(s,r,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function cp(s,r,l){return l=Xs(l),l.tag=3,l.payload={element:null},l.callback=function(){id(s,r)},l}function uv(s){return s=Xs(s),s.tag=3,s}function cv(s,r,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=c.value;s.payload=function(){return y(v)},s.callback=function(){lv(r,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){lv(r,l,c),typeof y!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function Nx(s,r,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&no(r,l,y,!0),l=Mn.current,l!==null){switch(l.tag){case 31:case 13:return Jn===null?md():l.alternate===null&&St===0&&(St=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===Gc?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),kp(s,c,y)),!1;case 22:return l.flags|=65536,c===Gc?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),kp(s,c,y)),!1}throw Error(i(435,l.tag))}return kp(s,c,y),md(),!1}if(Ge)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,c!==bh&&(s=Error(i(422),{cause:c}),Ul(Kn(s,l)))):(c!==bh&&(r=Error(i(423),{cause:c}),Ul(Kn(r,l))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,c=Kn(c,l),y=cp(s.stateNode,c,y),Bh(s,y),St!==4&&(St=2)),!1;var v=Error(i(520),{cause:c});if(v=Kn(v,l),Zl===null?Zl=[v]:Zl.push(v),St!==4&&(St=2),r===null)return!0;c=Kn(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=y&-y,l.lanes|=s,s=cp(l.stateNode,c,s),Bh(l,s),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rr===null||!rr.has(v))))return l.flags|=65536,y&=-y,l.lanes|=y,y=uv(y),cv(y,s,l,c),Bh(l,y),!1}l=l.return}while(l!==null);return!1}var dp=Error(i(461)),Ot=!1;function en(s,r,l,c){r.child=s===null?p_(r,null,l,c):ha(r,s.child,l,c)}function dv(s,r,l,c,y){l=l.render;var v=r.ref;if("ref"in c){var C={};for(var x in c)x!=="ref"&&(C[x]=c[x])}else C=c;return ua(r),c=jh(s,r,l,C,v,y),x=Yh(),s!==null&&!Ot?($h(s,r,y),us(s,r,y)):(Ge&&x&&xh(r),r.flags|=1,en(s,r,c,y),r.child)}function fv(s,r,l,c,y){if(s===null){var v=l.type;return typeof v=="function"&&!Ch(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,hv(s,r,v,c,y)):(s=Oc(l.type,null,c,r,r.mode,y),s.ref=r.ref,s.return=r,r.child=s)}if(v=s.child,!vp(s,y)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ml,l(C,c)&&s.ref===r.ref)return us(s,r,y)}return r.flags|=1,s=is(v,c),s.ref=r.ref,s.return=r,r.child=s}function hv(s,r,l,c,y){if(s!==null){var v=s.memoizedProps;if(Ml(v,c)&&s.ref===r.ref)if(Ot=!1,r.pendingProps=c=v,vp(s,y))(s.flags&131072)!==0&&(Ot=!0);else return r.lanes=s.lanes,us(s,r,y)}return fp(s,r,l,c,y)}function pv(s,r,l,c){var y=c.children,v=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,s!==null){for(c=r.child=s.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~v}else c=0,r.child=null;return mv(s,r,v,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Fc(r,v!==null?v.cachePool:null),v!==null?y_(r,v):Fh(),__(r);else return c=r.lanes=536870912,mv(s,r,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(Fc(r,v.cachePool),y_(r,v),tr(),r.memoizedState=null):(s!==null&&Fc(r,null),Fh(),tr());return en(s,r,y,l),r.child}function jl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function mv(s,r,l,c,y){var v=Vh();return v=v===null?null:{parent:Vt._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},s!==null&&Fc(r,null),Fh(),__(r),s!==null&&no(s,r,c,!0),r.childLanes=y,null}function sd(s,r){return r=ad({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function gv(s,r,l){return ha(r,s.child,null,l),s=sd(r,r.pendingProps),s.flags|=2,Dn(r),r.memoizedState=null,s}function Mx(s,r,l){var c=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ge){if(c.mode==="hidden")return s=sd(r,c),r.lanes=536870912,jl(null,s);if(Gh(r),(s=dt)?(s=R0(s,$n),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ys!==null?{id:Oi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=Zy(s),l.return=r,r.child=l,Xt=r,dt=null)):s=null,s===null)throw Js(r);return r.lanes=536870912,null}return sd(r,c)}var v=s.memoizedState;if(v!==null){var C=v.dehydrated;if(Gh(r),y)if(r.flags&256)r.flags&=-257,r=gv(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ot||no(s,r,l,!1),y=(l&s.childLanes)!==0,Ot||y){if(c=lt,c!==null&&(C=hl(c,l),C!==0&&C!==v.retryLane))throw v.retryLane=C,ra(s,C),Cn(c,s,C),dp;md(),r=gv(s,r,l)}else s=v.treeContext,dt=Qn(C.nextSibling),Xt=r,Ge=!0,$s=null,$n=!1,s!==null&&n_(r,s),r=sd(r,c),r.flags|=4096;return r}return s=is(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function rd(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function fp(s,r,l,c,y){return ua(r),l=jh(s,r,l,c,void 0,y),c=Yh(),s!==null&&!Ot?($h(s,r,y),us(s,r,y)):(Ge&&c&&xh(r),r.flags|=1,en(s,r,l,y),r.child)}function yv(s,r,l,c,y,v){return ua(r),r.updateQueue=null,l=E_(r,c,l,y),v_(s),c=Yh(),s!==null&&!Ot?($h(s,r,v),us(s,r,v)):(Ge&&c&&xh(r),r.flags|=1,en(s,r,l,v),r.child)}function _v(s,r,l,c,y){if(ua(r),r.stateNode===null){var v=Xa,C=l.contextType;typeof C=="object"&&C!==null&&(v=Zt(C)),v=new l(c,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=up,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=c,v.state=r.memoizedState,v.refs={},Oh(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?Zt(C):Xa,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(lp(r,l,C,c),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&up.enqueueReplaceState(v,v.state,null),ql(r,c,v,y),Bl(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){v=r.stateNode;var x=r.memoizedProps,k=ma(l,x);v.props=k;var J=v.context,te=l.contextType;C=Xa,typeof te=="object"&&te!==null&&(C=Zt(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x||J!==C)&&sv(r,v,c,C),Ws=!1;var Q=r.memoizedState;v.state=Q,ql(r,c,v,y),Bl(),J=r.memoizedState,x||Q!==J||Ws?(typeof se=="function"&&(lp(r,l,se,c),J=r.memoizedState),(k=Ws||iv(r,l,k,c,Q,J,C))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=J),v.props=c,v.state=J,v.context=C,c=k):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,zh(s,r),C=r.memoizedProps,te=ma(l,C),v.props=te,se=r.pendingProps,Q=v.context,J=l.contextType,k=Xa,typeof J=="object"&&J!==null&&(k=Zt(J)),x=l.getDerivedStateFromProps,(J=typeof x=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==se||Q!==k)&&sv(r,v,c,k),Ws=!1,Q=r.memoizedState,v.state=Q,ql(r,c,v,y),Bl();var X=r.memoizedState;C!==se||Q!==X||Ws||s!==null&&s.dependencies!==null&&Bc(s.dependencies)?(typeof x=="function"&&(lp(r,l,x,c),X=r.memoizedState),(te=Ws||iv(r,l,te,c,Q,X,k)||s!==null&&s.dependencies!==null&&Bc(s.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,X,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,X,k)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),v.props=c,v.state=X,v.context=k,c=te):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),c=!1)}return v=c,rd(s,r),c=(r.flags&128)!==0,v||c?(v=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,s!==null&&c?(r.child=ha(r,s.child,null,y),r.child=ha(r,null,l,y)):en(s,r,l,y),r.memoizedState=v.state,s=r.child):s=us(s,r,y),s}function vv(s,r,l,c){return oa(),r.flags|=256,en(s,r,l,c),r.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(s){return{baseLanes:s,cachePool:l_()}}function mp(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Un),s}function Ev(s,r,l){var c=r.pendingProps,y=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=s!==null&&s.memoizedState===null?!1:(It.current&2)!==0),C&&(y=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ge){if(y?er(r):tr(),(s=dt)?(s=R0(s,$n),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ys!==null?{id:Oi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},l=Zy(s),l.return=r,r.child=l,Xt=r,dt=null)):s=null,s===null)throw Js(r);return Wp(s)?r.lanes=32:r.lanes=536870912,null}var x=c.children;return c=c.fallback,y?(tr(),y=r.mode,x=ad({mode:"hidden",children:x},y),c=aa(c,y,l,null),x.return=r,c.return=r,x.sibling=c,r.child=x,c=r.child,c.memoizedState=pp(l),c.childLanes=mp(s,C,l),r.memoizedState=hp,jl(null,c)):(er(r),gp(r,x))}var k=s.memoizedState;if(k!==null&&(x=k.dehydrated,x!==null)){if(v)r.flags&256?(er(r),r.flags&=-257,r=yp(s,r,l)):r.memoizedState!==null?(tr(),r.child=s.child,r.flags|=128,r=null):(tr(),x=c.fallback,y=r.mode,c=ad({mode:"visible",children:c.children},y),x=aa(x,y,l,null),x.flags|=2,c.return=r,x.return=r,c.sibling=x,r.child=c,ha(r,s.child,null,l),c=r.child,c.memoizedState=pp(l),c.childLanes=mp(s,C,l),r.memoizedState=hp,r=jl(null,c));else if(er(r),Wp(x)){if(C=x.nextSibling&&x.nextSibling.dataset,C)var J=C.dgst;C=J,c=Error(i(419)),c.stack="",c.digest=C,Ul({value:c,source:null,stack:null}),r=yp(s,r,l)}else if(Ot||no(s,r,l,!1),C=(l&s.childLanes)!==0,Ot||C){if(C=lt,C!==null&&(c=hl(C,l),c!==0&&c!==k.retryLane))throw k.retryLane=c,ra(s,c),Cn(C,s,c),dp;Qp(x)||md(),r=yp(s,r,l)}else Qp(x)?(r.flags|=192,r.child=s.child,r=null):(s=k.treeContext,dt=Qn(x.nextSibling),Xt=r,Ge=!0,$s=null,$n=!1,s!==null&&n_(r,s),r=gp(r,c.children),r.flags|=4096);return r}return y?(tr(),x=c.fallback,y=r.mode,k=s.child,J=k.sibling,c=is(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,J!==null?x=is(J,x):(x=aa(x,y,l,null),x.flags|=2),x.return=r,c.return=r,c.sibling=x,r.child=c,jl(null,c),c=r.child,x=s.child.memoizedState,x===null?x=pp(l):(y=x.cachePool,y!==null?(k=Vt._currentValue,y=y.parent!==k?{parent:k,pool:k}:y):y=l_(),x={baseLanes:x.baseLanes|l,cachePool:y}),c.memoizedState=x,c.childLanes=mp(s,C,l),r.memoizedState=hp,jl(s.child,c)):(er(r),l=s.child,s=l.sibling,l=is(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=l,r.memoizedState=null,l)}function gp(s,r){return r=ad({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function ad(s,r){return s=Nn(22,s,null,r),s.lanes=0,s}function yp(s,r,l){return ha(r,s.child,null,l),s=gp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Tv(s,r,l){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Dh(s.return,r,l)}function _p(s,r,l,c,y,v){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:v}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=l,C.tailMode=y,C.treeForkCount=v)}function Sv(s,r,l){var c=r.pendingProps,y=c.revealOrder,v=c.tail;c=c.children;var C=It.current,x=(C&2)!==0;if(x?(C=C&1|2,r.flags|=128):C&=1,oe(It,C),en(s,r,c,l),c=Ge?Pl:0,!x&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tv(s,l,r);else if(s.tag===19)Tv(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)s=l.alternate,s!==null&&$c(s)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),_p(r,!1,y,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(s=y.alternate,s!==null&&$c(s)===null){r.child=y;break}s=y.sibling,y.sibling=l,l=y,y=s}_p(r,!0,l,null,v,c);break;case"together":_p(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function us(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),sr|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(no(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=is(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=is(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function vp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Bc(s)))}function Dx(s,r,l){switch(r.tag){case 3:At(r,r.stateNode.containerInfo),Qs(r,Vt,s.memoizedState.cache),oa();break;case 27:case 5:qr(r);break;case 4:At(r,r.stateNode.containerInfo);break;case 10:Qs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gh(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(er(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Ev(s,r,l):(er(r),s=us(s,r,l),s!==null?s.sibling:null);er(r);break;case 19:var y=(s.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(no(s,r,l,!1),c=(l&r.childLanes)!==0),y){if(c)return Sv(s,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),oe(It,It.current),c)break;return null;case 22:return r.lanes=0,pv(s,r,l,r.pendingProps);case 24:Qs(r,Vt,s.memoizedState.cache)}return us(s,r,l)}function Av(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ot=!0;else{if(!vp(s,l)&&(r.flags&128)===0)return Ot=!1,Dx(s,r,l);Ot=(s.flags&131072)!==0}else Ot=!1,Ge&&(r.flags&1048576)!==0&&t_(r,Pl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=da(r.elementType),r.type=s,typeof s=="function")Ch(s)?(c=ma(s,c),r.tag=1,r=_v(null,r,s,c,l)):(r.tag=0,r=fp(null,r,s,c,l));else{if(s!=null){var y=s.$$typeof;if(y===ae){r.tag=11,r=dv(null,r,s,c,l);break e}else if(y===M){r.tag=14,r=fv(null,r,s,c,l);break e}}throw r=Ze(s)||s,Error(i(306,r,""))}}return r;case 0:return fp(s,r,r.type,r.pendingProps,l);case 1:return c=r.type,y=ma(c,r.pendingProps),_v(s,r,c,y,l);case 3:e:{if(At(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var v=r.memoizedState;y=v.element,zh(s,r),ql(r,c,null,l);var C=r.memoizedState;if(c=C.cache,Qs(r,Vt,c),c!==v.cache&&Ph(r,[Vt],l,!0),Bl(),c=C.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=vv(s,r,c,l);break e}else if(c!==y){y=Kn(Error(i(424)),r),Ul(y),r=vv(s,r,c,l);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(dt=Qn(s.firstChild),Xt=r,Ge=!0,$s=null,$n=!0,l=p_(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(oa(),c===y){r=us(s,r,l);break e}en(s,r,c,l)}r=r.child}return r;case 26:return rd(s,r),s===null?(l=U0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ge||(l=r.type,s=r.pendingProps,c=Sd(ye.current).createElement(l),c[Pt]=r,c[jt]=s,tn(c,l,s),Ut(c),r.stateNode=c):r.memoizedState=U0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return qr(r),s===null&&Ge&&(c=r.stateNode=M0(r.type,r.pendingProps,ye.current),Xt=r,$n=!0,y=dt,ur(r.type)?(Xp=y,dt=Qn(c.firstChild)):dt=y),en(s,r,r.pendingProps.children,l),rd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ge&&((y=c=dt)&&(c=lR(c,r.type,r.pendingProps,$n),c!==null?(r.stateNode=c,Xt=r,dt=Qn(c.firstChild),$n=!1,y=!0):y=!1),y||Js(r)),qr(r),y=r.type,v=r.pendingProps,C=s!==null?s.memoizedProps:null,c=v.children,Yp(y,v)?c=null:C!==null&&Yp(y,C)&&(r.flags|=32),r.memoizedState!==null&&(y=jh(s,r,Ax,null,null,l),ou._currentValue=y),rd(s,r),en(s,r,c,l),r.child;case 6:return s===null&&Ge&&((s=l=dt)&&(l=uR(l,r.pendingProps,$n),l!==null?(r.stateNode=l,Xt=r,dt=null,s=!0):s=!1),s||Js(r)),null;case 13:return Ev(s,r,l);case 4:return At(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=ha(r,null,c,l):en(s,r,c,l),r.child;case 11:return dv(s,r,r.type,r.pendingProps,l);case 7:return en(s,r,r.pendingProps,l),r.child;case 8:return en(s,r,r.pendingProps.children,l),r.child;case 12:return en(s,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,Qs(r,r.type,c.value),en(s,r,c.children,l),r.child;case 9:return y=r.type._context,c=r.pendingProps.children,ua(r),y=Zt(y),c=c(y),r.flags|=1,en(s,r,c,l),r.child;case 14:return fv(s,r,r.type,r.pendingProps,l);case 15:return hv(s,r,r.type,r.pendingProps,l);case 19:return Sv(s,r,l);case 31:return Mx(s,r,l);case 22:return pv(s,r,l,r.pendingProps);case 24:return ua(r),c=Zt(Vt),s===null?(y=Vh(),y===null&&(y=lt,v=Uh(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=l),y=v),r.memoizedState={parent:c,cache:y},Oh(r),Qs(r,Vt,y)):((s.lanes&l)!==0&&(zh(s,r),ql(r,null,null,l),Bl()),y=s.memoizedState,v=r.memoizedState,y.parent!==c?(y={parent:c,cache:c},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Qs(r,Vt,c)):(c=v.cache,Qs(r,Vt,c),c!==y.cache&&Ph(r,[Vt],l,!0))),en(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function cs(s){s.flags|=4}function Ep(s,r,l,c,y){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(Qv())s.flags|=8192;else throw fa=Gc,Lh}else s.flags&=-16777217}function Cv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!z0(r))if(Qv())s.flags|=8192;else throw fa=Gc,Lh}function od(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?hc():536870912,s.lanes|=r,mo|=r)}function Yl(s,r){if(!Ge)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ft(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(r)for(var y=s.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=c,s.childLanes=l,r}function Px(s,r,l){var c=r.pendingProps;switch(Rh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return l=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),as(Vt),ut(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(to(r)?cs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nh())),ft(r),null;case 26:var y=r.type,v=r.memoizedState;return s===null?(cs(r),v!==null?(ft(r),Cv(r,v)):(ft(r),Ep(r,y,null,c,l))):v?v!==s.memoizedState?(cs(r),ft(r),Cv(r,v)):(ft(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&cs(r),ft(r),Ep(r,y,s,c,l)),null;case 27:if(Pa(r),l=ye.current,y=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ft(r),null}s=fe.current,to(r)?i_(r):(s=M0(y,c,l),r.stateNode=s,cs(r))}return ft(r),null;case 5:if(Pa(r),y=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&cs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(v=fe.current,to(r))i_(r);else{var C=Sd(ye.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?C.createElement(y,{is:c.is}):C.createElement(y)}}v[Pt]=r,v[jt]=c;e:for(C=r.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===r)break e;for(;C.sibling===null;){if(C.return===null||C.return===r)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}r.stateNode=v;e:switch(tn(v,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&cs(r)}}return ft(r),Ep(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&cs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=ye.current,to(r)){if(s=r.stateNode,l=r.memoizedProps,c=null,y=Xt,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}s[Pt]=r,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||E0(s.nodeValue,l)),s||Js(r,!0)}else s=Sd(s).createTextNode(c),s[Pt]=r,r.stateNode=s}return ft(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(c=to(r),l!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Pt]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),s=!1}else l=Nh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Dn(r),r):(Dn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ft(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=to(r),c!==null&&c.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Pt]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),y=!1}else y=Nh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(Dn(r),r):(Dn(r),null)}return Dn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=r.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==y&&(c.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),od(r,r.updateQueue),ft(r),null);case 4:return ut(),s===null&&Fp(r.stateNode.containerInfo),ft(r),null;case 10:return as(r.type),ft(r),null;case 19:if(Z(It),c=r.memoizedState,c===null)return ft(r),null;if(y=(r.flags&128)!==0,v=c.rendering,v===null)if(y)Yl(c,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(v=$c(s),v!==null){for(r.flags|=128,Yl(c,!1),s=v.updateQueue,r.updateQueue=s,od(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Xy(l,s),l=l.sibling;return oe(It,It.current&1|2),Ge&&ss(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&hn()>fd&&(r.flags|=128,y=!0,Yl(c,!1),r.lanes=4194304)}else{if(!y)if(s=$c(v),s!==null){if(r.flags|=128,y=!0,s=s.updateQueue,r.updateQueue=s,od(r,s),Yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!Ge)return ft(r),null}else 2*hn()-c.renderingStartTime>fd&&l!==536870912&&(r.flags|=128,y=!0,Yl(c,!1),r.lanes=4194304);c.isBackwards?(v.sibling=r.child,r.child=v):(s=c.last,s!==null?s.sibling=v:r.child=v,c.last=v)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=hn(),s.sibling=null,l=It.current,oe(It,y?l&1|2:l&1),Ge&&ss(r,c.treeForkCount),s):(ft(r),null);case 22:case 23:return Dn(r),Hh(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),l=r.updateQueue,l!==null&&od(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),s!==null&&Z(ca),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),as(Vt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Ux(s,r){switch(Rh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return as(Vt),ut(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Pa(r),null;case 31:if(r.memoizedState!==null){if(Dn(r),r.alternate===null)throw Error(i(340));oa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Dn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));oa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return Z(It),null;case 4:return ut(),null;case 10:return as(r.type),null;case 22:case 23:return Dn(r),Hh(),s!==null&&Z(ca),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return as(Vt),null;case 25:return null;default:return null}}function wv(s,r){switch(Rh(r),r.tag){case 3:as(Vt),ut();break;case 26:case 27:case 5:Pa(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Dn(r);break;case 13:Dn(r);break;case 19:Z(It);break;case 10:as(r.type);break;case 22:case 23:Dn(r),Hh(),s!==null&&Z(ca);break;case 24:as(Vt)}}function $l(s,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&s)===s){c=void 0;var v=l.create,C=l.inst;c=v(),C.destroy=c}l=l.next}while(l!==y)}}catch(x){it(r,r.return,x)}}function nr(s,r,l){try{var c=r.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var v=y.next;c=v;do{if((c.tag&s)===s){var C=c.inst,x=C.destroy;if(x!==void 0){C.destroy=void 0,y=r;var k=l,J=x;try{J()}catch(te){it(y,k,te)}}}c=c.next}while(c!==v)}}catch(te){it(r,r.return,te)}}function Iv(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{g_(r,l)}catch(c){it(s,s.return,c)}}}function xv(s,r,l){l.props=ma(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){it(s,r,c)}}function Jl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(y){it(s,r,y)}}function Bi(s,r){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){it(s,r,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){it(s,r,y)}else l.current=null}function Rv(s){var r=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){it(s,s.return,y)}}function Tp(s,r,l){try{var c=s.stateNode;nR(c,s.type,l,r),c[jt]=r}catch(y){it(s,s.return,y)}}function bv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ur(s.type)||s.tag===4}function Sp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||bv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ur(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ap(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=oi));else if(c!==4&&(c===27&&ur(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Ap(s,r,l),s=s.sibling;s!==null;)Ap(s,r,l),s=s.sibling}function ld(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(c!==4&&(c===27&&ur(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(ld(s,r,l),s=s.sibling;s!==null;)ld(s,r,l),s=s.sibling}function Nv(s){var r=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);tn(r,c,l),r[Pt]=s,r[jt]=l}catch(v){it(s,s.return,v)}}var ds=!1,zt=!1,Cp=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function kx(s,r){if(s=s.containerInfo,Kp=bd,s=Hy(s),yh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var C=0,x=-1,k=-1,J=0,te=0,se=s,Q=null;t:for(;;){for(var X;se!==l||y!==0&&se.nodeType!==3||(x=C+y),se!==v||c!==0&&se.nodeType!==3||(k=C+c),se.nodeType===3&&(C+=se.nodeValue.length),(X=se.firstChild)!==null;)Q=se,se=X;for(;;){if(se===s)break t;if(Q===l&&++J===y&&(x=C),Q===v&&++te===c&&(k=C),(X=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=X}l=x===-1||k===-1?null:{start:x,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(jp={focusedElem:s,selectionRange:l},bd=!1,$t=r;$t!==null;)if(r=$t,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,$t=s;else for(;$t!==null;){switch(r=$t,v=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)y=s[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=r,y=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var ge=ma(l.type,y);s=c.getSnapshotBeforeUpdate(ge,v),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ae){it(l,l.return,Ae)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Jp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Jp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,$t=s;break}$t=r.return}}function Dv(s,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:hs(s,l),c&4&&$l(5,l);break;case 1:if(hs(s,l),c&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(C){it(l,l.return,C)}else{var y=ma(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(y,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){it(l,l.return,C)}}c&64&&Iv(l),c&512&&Jl(l,l.return);break;case 3:if(hs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{g_(s,r)}catch(C){it(l,l.return,C)}}break;case 27:r===null&&c&4&&Nv(l);case 26:case 5:hs(s,l),r===null&&c&4&&Rv(l),c&512&&Jl(l,l.return);break;case 12:hs(s,l);break;case 31:hs(s,l),c&4&&kv(s,l);break;case 13:hs(s,l),c&4&&Vv(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Gx.bind(null,l),cR(s,l))));break;case 22:if(c=l.memoizedState!==null||ds,!c){r=r!==null&&r.memoizedState!==null||zt,y=ds;var v=zt;ds=c,(zt=r)&&!v?ps(s,l,(l.subtreeFlags&8772)!==0):hs(s,l),ds=y,zt=v}break;case 30:break;default:hs(s,l)}}function Pv(s){var r=s.alternate;r!==null&&(s.alternate=null,Pv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Oa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yt=null,En=!1;function fs(s,r,l){for(l=l.child;l!==null;)Uv(s,r,l),l=l.sibling}function Uv(s,r,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ii,l)}catch{}switch(l.tag){case 26:zt||Bi(l,r),fs(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zt||Bi(l,r);var c=yt,y=En;ur(l.type)&&(yt=l.stateNode,En=!1),fs(s,r,l),su(l.stateNode),yt=c,En=y;break;case 5:zt||Bi(l,r);case 6:if(c=yt,y=En,yt=null,fs(s,r,l),yt=c,En=y,yt!==null)if(En)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(v){it(l,r,v)}else try{yt.removeChild(l.stateNode)}catch(v){it(l,r,v)}break;case 18:yt!==null&&(En?(s=yt,I0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Ao(s)):I0(yt,l.stateNode));break;case 4:c=yt,y=En,yt=l.stateNode.containerInfo,En=!0,fs(s,r,l),yt=c,En=y;break;case 0:case 11:case 14:case 15:nr(2,l,r),zt||nr(4,l,r),fs(s,r,l);break;case 1:zt||(Bi(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&xv(l,r,c)),fs(s,r,l);break;case 21:fs(s,r,l);break;case 22:zt=(c=zt)||l.memoizedState!==null,fs(s,r,l),zt=c;break;default:fs(s,r,l)}}function kv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ao(s)}catch(l){it(r,r.return,l)}}}function Vv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ao(s)}catch(l){it(r,r.return,l)}}function Vx(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Mv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Mv),r;default:throw Error(i(435,s.tag))}}function ud(s,r){var l=Vx(s);r.forEach(function(c){if(!l.has(c)){l.add(c);var y=Kx.bind(null,s,c);c.then(y,y)}})}function Tn(s,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],v=s,C=r,x=C;e:for(;x!==null;){switch(x.tag){case 27:if(ur(x.type)){yt=x.stateNode,En=!1;break e}break;case 5:yt=x.stateNode,En=!1;break e;case 3:case 4:yt=x.stateNode.containerInfo,En=!0;break e}x=x.return}if(yt===null)throw Error(i(160));Uv(v,C,y),yt=null,En=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Lv(r,s),r=r.sibling}var hi=null;function Lv(s,r){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tn(r,s),Sn(s),c&4&&(nr(3,s,s.return),$l(3,s),nr(5,s,s.return));break;case 1:Tn(r,s),Sn(s),c&512&&(zt||l===null||Bi(l,l.return)),c&64&&ds&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=hi;if(Tn(r,s),Sn(s),c&512&&(zt||l===null||Bi(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Ii]||v[Pt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(c),y.head.insertBefore(v,y.querySelector("head > title"))),tn(v,c,l),v[Pt]=s,Ut(v),c=v;break e;case"link":var C=L0("link","href",y).get(c+(l.href||""));if(C){for(var x=0;x<C.length;x++)if(v=C[x],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(x,1);break t}}v=y.createElement(c),tn(v,c,l),y.head.appendChild(v);break;case"meta":if(C=L0("meta","content",y).get(c+(l.content||""))){for(x=0;x<C.length;x++)if(v=C[x],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(x,1);break t}}v=y.createElement(c),tn(v,c,l),y.head.appendChild(v);break;default:throw Error(i(468,c))}v[Pt]=s,Ut(v),c=v}s.stateNode=c}else O0(y,s.type,s.stateNode);else s.stateNode=V0(y,c,s.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?O0(y,s.type,s.stateNode):V0(y,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Tp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Tn(r,s),Sn(s),c&512&&(zt||l===null||Bi(l,l.return)),l!==null&&c&4&&Tp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Tn(r,s),Sn(s),c&512&&(zt||l===null||Bi(l,l.return)),s.flags&32){y=s.stateNode;try{vn(y,"")}catch(ge){it(s,s.return,ge)}}c&4&&s.stateNode!=null&&(y=s.memoizedProps,Tp(s,y,l!==null?l.memoizedProps:y)),c&1024&&(Cp=!0);break;case 6:if(Tn(r,s),Sn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ge){it(s,s.return,ge)}}break;case 3:if(wd=null,y=hi,hi=Ad(r.containerInfo),Tn(r,s),hi=y,Sn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(ge){it(s,s.return,ge)}Cp&&(Cp=!1,Ov(s));break;case 4:c=hi,hi=Ad(s.stateNode.containerInfo),Tn(r,s),Sn(s),hi=c;break;case 12:Tn(r,s),Sn(s);break;case 31:Tn(r,s),Sn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,ud(s,c)));break;case 13:Tn(r,s),Sn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(dd=hn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,ud(s,c)));break;case 22:y=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,J=ds,te=zt;if(ds=J||y,zt=te||k,Tn(r,s),zt=te,ds=J,Sn(s),c&8192)e:for(r=s.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||k||ds||zt||ga(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){k=l=r;try{if(v=k.stateNode,y)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{x=k.stateNode;var se=k.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;x.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){it(k,k.return,ge)}}}else if(r.tag===6){if(l===null){k=r;try{k.stateNode.nodeValue=y?"":k.memoizedProps}catch(ge){it(k,k.return,ge)}}}else if(r.tag===18){if(l===null){k=r;try{var X=k.stateNode;y?x0(X,!0):x0(k.stateNode,!1)}catch(ge){it(k,k.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ud(s,l))));break;case 19:Tn(r,s),Sn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,ud(s,c)));break;case 30:break;case 21:break;default:Tn(r,s),Sn(s)}}function Sn(s){var r=s.flags;if(r&2){try{for(var l,c=s.return;c!==null;){if(bv(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,v=Sp(s);ld(s,v,y);break;case 5:var C=l.stateNode;l.flags&32&&(vn(C,""),l.flags&=-33);var x=Sp(s);ld(s,x,C);break;case 3:case 4:var k=l.stateNode.containerInfo,J=Sp(s);Ap(s,J,k);break;default:throw Error(i(161))}}catch(te){it(s,s.return,te)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Ov(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Ov(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function hs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Dv(s,r.alternate,r),r=r.sibling}function ga(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),ga(r);break;case 1:Bi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&xv(r,r.return,l),ga(r);break;case 27:su(r.stateNode);case 26:case 5:Bi(r,r.return),ga(r);break;case 22:r.memoizedState===null&&ga(r);break;case 30:ga(r);break;default:ga(r)}s=s.sibling}}function ps(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,y=s,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:ps(y,v,l),$l(4,v);break;case 1:if(ps(y,v,l),c=v,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){it(c,c.return,J)}if(c=v,y=c.updateQueue,y!==null){var x=c.stateNode;try{var k=y.shared.hiddenCallbacks;if(k!==null)for(y.shared.hiddenCallbacks=null,y=0;y<k.length;y++)m_(k[y],x)}catch(J){it(c,c.return,J)}}l&&C&64&&Iv(v),Jl(v,v.return);break;case 27:Nv(v);case 26:case 5:ps(y,v,l),l&&c===null&&C&4&&Rv(v),Jl(v,v.return);break;case 12:ps(y,v,l);break;case 31:ps(y,v,l),l&&C&4&&kv(y,v);break;case 13:ps(y,v,l),l&&C&4&&Vv(y,v);break;case 22:v.memoizedState===null&&ps(y,v,l),Jl(v,v.return);break;case 30:break;default:ps(y,v,l)}r=r.sibling}}function wp(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&kl(l))}function Ip(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&kl(s))}function pi(s,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zv(s,r,l,c),r=r.sibling}function zv(s,r,l,c){var y=r.flags;switch(r.tag){case 0:case 11:case 15:pi(s,r,l,c),y&2048&&$l(9,r);break;case 1:pi(s,r,l,c);break;case 3:pi(s,r,l,c),y&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&kl(s)));break;case 12:if(y&2048){pi(s,r,l,c),s=r.stateNode;try{var v=r.memoizedProps,C=v.id,x=v.onPostCommit;typeof x=="function"&&x(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){it(r,r.return,k)}}else pi(s,r,l,c);break;case 31:pi(s,r,l,c);break;case 13:pi(s,r,l,c);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?pi(s,r,l,c):Ql(s,r):v._visibility&2?pi(s,r,l,c):(v._visibility|=2,fo(s,r,l,c,(r.subtreeFlags&10256)!==0||!1)),y&2048&&wp(C,r);break;case 24:pi(s,r,l,c),y&2048&&Ip(r.alternate,r);break;default:pi(s,r,l,c)}}function fo(s,r,l,c,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=s,C=r,x=l,k=c,J=C.flags;switch(C.tag){case 0:case 11:case 15:fo(v,C,x,k,y),$l(8,C);break;case 23:break;case 22:var te=C.stateNode;C.memoizedState!==null?te._visibility&2?fo(v,C,x,k,y):Ql(v,C):(te._visibility|=2,fo(v,C,x,k,y)),y&&J&2048&&wp(C.alternate,C);break;case 24:fo(v,C,x,k,y),y&&J&2048&&Ip(C.alternate,C);break;default:fo(v,C,x,k,y)}r=r.sibling}}function Ql(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,c=r,y=c.flags;switch(c.tag){case 22:Ql(l,c),y&2048&&wp(c.alternate,c);break;case 24:Ql(l,c),y&2048&&Ip(c.alternate,c);break;default:Ql(l,c)}r=r.sibling}}var Wl=8192;function ho(s,r,l){if(s.subtreeFlags&Wl)for(s=s.child;s!==null;)Bv(s,r,l),s=s.sibling}function Bv(s,r,l){switch(s.tag){case 26:ho(s,r,l),s.flags&Wl&&s.memoizedState!==null&&SR(l,hi,s.memoizedState,s.memoizedProps);break;case 5:ho(s,r,l);break;case 3:case 4:var c=hi;hi=Ad(s.stateNode.containerInfo),ho(s,r,l),hi=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Wl,Wl=16777216,ho(s,r,l),Wl=c):ho(s,r,l));break;default:ho(s,r,l)}}function qv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Xl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];$t=c,Hv(c,s)}qv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fv(s),s=s.sibling}function Fv(s){switch(s.tag){case 0:case 11:case 15:Xl(s),s.flags&2048&&nr(9,s,s.return);break;case 3:Xl(s);break;case 12:Xl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,cd(s)):Xl(s);break;default:Xl(s)}}function cd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];$t=c,Hv(c,s)}qv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:nr(8,r,r.return),cd(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,cd(r));break;default:cd(r)}s=s.sibling}}function Hv(s,r){for(;$t!==null;){var l=$t;switch(l.tag){case 0:case 11:case 15:nr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:kl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,$t=c;else e:for(l=s;$t!==null;){c=$t;var y=c.sibling,v=c.return;if(Pv(c),c===l){$t=null;break e}if(y!==null){y.return=v,$t=y;break e}$t=v}}}var Lx={getCacheForType:function(s){var r=Zt(Vt),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return Zt(Vt).controller.signal}},Ox=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,Ue=null,Oe=0,nt=0,Pn=null,ir=!1,po=!1,xp=!1,ms=0,St=0,sr=0,ya=0,Rp=0,Un=0,mo=0,Zl=null,An=null,bp=!1,dd=0,Gv=0,fd=1/0,hd=null,rr=null,Gt=0,ar=null,go=null,gs=0,Np=0,Mp=null,Kv=null,eu=0,Dp=null;function kn(){return(Xe&2)!==0&&Oe!==0?Oe&-Oe:ee.T!==null?Op():pc()}function jv(){if(Un===0)if((Oe&536870912)===0||Ge){var s=Gr;Gr<<=1,(Gr&3932160)===0&&(Gr=262144),Un=s}else Un=536870912;return s=Mn.current,s!==null&&(s.flags|=32),Un}function Cn(s,r,l){(s===lt&&(nt===2||nt===9)||s.cancelPendingCommit!==null)&&(yo(s,0),or(s,Oe,Un,!1)),Kr(s,l),((Xe&2)===0||s!==lt)&&(s===lt&&((Xe&2)===0&&(ya|=l),St===4&&or(s,Oe,Un,!1)),qi(s))}function Yv(s,r,l){if((Xe&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&s.expiredLanes)===0||si(s,r),y=c?qx(s,r):Up(s,r,!0),v=c;do{if(y===0){po&&!c&&or(s,r,0,!1);break}else{if(l=s.current.alternate,v&&!zx(l)){y=Up(s,r,!1),v=!1;continue}if(y===2){if(v=r,s.errorRecoveryDisabledLanes&v)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var x=s;y=Zl;var k=x.current.memoizedState.isDehydrated;if(k&&(yo(x,C).flags|=256),C=Up(x,C,!1),C!==2){if(xp&&!k){x.errorRecoveryDisabledLanes|=v,ya|=v,y=4;break e}v=An,An=y,v!==null&&(An===null?An=v:An.push.apply(An,v))}y=C}if(v=!1,y!==2)continue}}if(y===1){yo(s,0),or(s,r,0,!0);break}e:{switch(c=s,v=y,v){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:or(c,r,Un,!ir);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(y=dd+300-hn(),10<y)){if(or(c,r,Un,!ir),Ai(c,0,!0)!==0)break e;gs=r,c.timeoutHandle=C0($v.bind(null,c,l,An,hd,bp,r,Un,ya,mo,ir,v,"Throttled",-0,0),y);break e}$v(c,l,An,hd,bp,r,Un,ya,mo,ir,v,null,-0,0)}}break}while(!0);qi(s)}function $v(s,r,l,c,y,v,C,x,k,J,te,se,Q,X){if(s.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Bv(r,v,se);var ge=(v&62914560)===v?dd-hn():(v&4194048)===v?Gv-hn():0;if(ge=AR(se,ge),ge!==null){gs=v,s.cancelPendingCommit=ge(n0.bind(null,s,r,v,l,c,y,C,x,k,te,se,null,Q,X)),or(s,v,C,!J);return}}n0(s,r,v,l,c,y,C,x,k)}function zx(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],v=y.getSnapshot;y=y.value;try{if(!bn(v(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(s,r,l,c){r&=~Rp,r&=~ya,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var y=r;0<y;){var v=31-Ct(y),C=1<<v;c[v]=-1,y&=~C}l!==0&&jr(s,l,r)}function pd(){return(Xe&6)===0?(tu(0),!1):!0}function Pp(){if(Ue!==null){if(nt===0)var s=Ue.return;else s=Ue,rs=la=null,Jh(s),ao=null,Ll=0,s=Ue;for(;s!==null;)wv(s.alternate,s),s=s.return;Ue=null}}function yo(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,rR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),gs=0,Pp(),lt=s,Ue=l=is(s.current,null),Oe=r,nt=0,Pn=null,ir=!1,po=si(s,r),xp=!1,mo=Un=Rp=ya=sr=St=0,An=Zl=null,bp=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var y=31-Ct(c),v=1<<y;r|=s[y],c&=~v}return ms=r,kc(),l}function Jv(s,r){Me=null,ee.H=Kl,r===ro||r===Hc?(r=d_(),nt=3):r===Lh?(r=d_(),nt=4):nt=r===dp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Ue===null&&(St=1,id(s,Kn(r,s.current)))}function Qv(){var s=Mn.current;return s===null?!0:(Oe&4194048)===Oe?Jn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?s===Jn:!1}function Wv(){var s=ee.H;return ee.H=Kl,s===null?Kl:s}function Xv(){var s=ee.A;return ee.A=Lx,s}function md(){St=4,ir||(Oe&4194048)!==Oe&&Mn.current!==null||(po=!0),(sr&134217727)===0&&(ya&134217727)===0||lt===null||or(lt,Oe,Un,!1)}function Up(s,r,l){var c=Xe;Xe|=2;var y=Wv(),v=Xv();(lt!==s||Oe!==r)&&(hd=null,yo(s,r)),r=!1;var C=St;e:do try{if(nt!==0&&Ue!==null){var x=Ue,k=Pn;switch(nt){case 8:Pp(),C=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var J=nt;if(nt=0,Pn=null,_o(s,x,k,J),l&&po){C=0;break e}break;default:J=nt,nt=0,Pn=null,_o(s,x,k,J)}}Bx(),C=St;break}catch(te){Jv(s,te)}while(!0);return r&&s.shellSuspendCounter++,rs=la=null,Xe=c,ee.H=y,ee.A=v,Ue===null&&(lt=null,Oe=0,kc()),C}function Bx(){for(;Ue!==null;)Zv(Ue)}function qx(s,r){var l=Xe;Xe|=2;var c=Wv(),y=Xv();lt!==s||Oe!==r?(hd=null,fd=hn()+500,yo(s,r)):po=si(s,r);e:do try{if(nt!==0&&Ue!==null){r=Ue;var v=Pn;t:switch(nt){case 1:nt=0,Pn=null,_o(s,r,v,1);break;case 2:case 9:if(u_(v)){nt=0,Pn=null,e0(r);break}r=function(){nt!==2&&nt!==9||lt!==s||(nt=7),qi(s)},v.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:u_(v)?(nt=0,Pn=null,e0(r)):(nt=0,Pn=null,_o(s,r,v,7));break;case 5:var C=null;switch(Ue.tag){case 26:C=Ue.memoizedState;case 5:case 27:var x=Ue;if(C?z0(C):x.stateNode.complete){nt=0,Pn=null;var k=x.sibling;if(k!==null)Ue=k;else{var J=x.return;J!==null?(Ue=J,gd(J)):Ue=null}break t}}nt=0,Pn=null,_o(s,r,v,5);break;case 6:nt=0,Pn=null,_o(s,r,v,6);break;case 8:Pp(),St=6;break e;default:throw Error(i(462))}}Fx();break}catch(te){Jv(s,te)}while(!0);return rs=la=null,ee.H=c,ee.A=y,Xe=l,Ue!==null?0:(lt=null,Oe=0,kc(),St)}function Fx(){for(;Ue!==null&&!ch();)Zv(Ue)}function Zv(s){var r=Av(s.alternate,s,ms);s.memoizedProps=s.pendingProps,r===null?gd(s):Ue=r}function e0(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=yv(l,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=yv(l,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Jh(r);default:wv(l,r),r=Ue=Xy(r,ms),r=Av(l,r,ms)}s.memoizedProps=s.pendingProps,r===null?gd(s):Ue=r}function _o(s,r,l,c){rs=la=null,Jh(r),ao=null,Ll=0;var y=r.return;try{if(Nx(s,y,r,l,Oe)){St=1,id(s,Kn(l,s.current)),Ue=null;return}}catch(v){if(y!==null)throw Ue=y,v;St=1,id(s,Kn(l,s.current)),Ue=null;return}r.flags&32768?(Ge||c===1?s=!0:po||(Oe&536870912)!==0?s=!1:(ir=s=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),t0(r,s)):gd(r)}function gd(s){var r=s;do{if((r.flags&32768)!==0){t0(r,ir);return}s=r.return;var l=Px(r.alternate,r,ms);if(l!==null){Ue=l;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=s}while(r!==null);St===0&&(St=5)}function t0(s,r){do{var l=Ux(s.alternate,s);if(l!==null){l.flags&=32767,Ue=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Ue=s;return}Ue=s=l}while(s!==null);St=6,Ue=null}function n0(s,r,l,c,y,v,C,x,k){s.cancelPendingCommit=null;do yd();while(Gt!==0);if((Xe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(v=r.lanes|r.childLanes,v|=Sh,hh(s,l,v,C,x,k),s===lt&&(Ue=lt=null,Oe=0),go=r,ar=s,gs=l,Np=v,Mp=y,Kv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jx(Ls,function(){return o0(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,y=le.p,le.p=2,C=Xe,Xe|=4;try{kx(s,r,l)}finally{Xe=C,le.p=y,ee.T=c}}Gt=1,i0(),s0(),r0()}}function i0(){if(Gt===1){Gt=0;var s=ar,r=go,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var c=le.p;le.p=2;var y=Xe;Xe|=4;try{Lv(r,s);var v=jp,C=Hy(s.containerInfo),x=v.focusedElem,k=v.selectionRange;if(C!==x&&x&&x.ownerDocument&&Fy(x.ownerDocument.documentElement,x)){if(k!==null&&yh(x)){var J=k.start,te=k.end;if(te===void 0&&(te=J),"selectionStart"in x)x.selectionStart=J,x.selectionEnd=Math.min(te,x.value.length);else{var se=x.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),ge=x.textContent.length,Ae=Math.min(k.start,ge),ot=k.end===void 0?Ae:Math.min(k.end,ge);!X.extend&&Ae>ot&&(C=ot,ot=Ae,Ae=C);var j=qy(x,Ae),q=qy(x,ot);if(j&&q&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==q.node||X.focusOffset!==q.offset)){var $=se.createRange();$.setStart(j.node,j.offset),X.removeAllRanges(),Ae>ot?(X.addRange($),X.extend(q.node,q.offset)):($.setEnd(q.node,q.offset),X.addRange($))}}}}for(se=[],X=x;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<se.length;x++){var ne=se[x];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}bd=!!Kp,jp=Kp=null}finally{Xe=y,le.p=c,ee.T=l}}s.current=r,Gt=2}}function s0(){if(Gt===2){Gt=0;var s=ar,r=go,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var c=le.p;le.p=2;var y=Xe;Xe|=4;try{Dv(s,r.alternate,r)}finally{Xe=y,le.p=c,ee.T=l}}Gt=3}}function r0(){if(Gt===4||Gt===3){Gt=0,oc();var s=ar,r=go,l=gs,c=Kv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,go=ar=null,a0(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(rr=null),Zi(l),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=ee.T,y=le.p,le.p=2,ee.T=null;try{for(var v=s.onRecoverableError,C=0;C<c.length;C++){var x=c[C];v(x.value,{componentStack:x.stack})}}finally{ee.T=r,le.p=y}}(gs&3)!==0&&yd(),qi(s),y=s.pendingLanes,(l&261930)!==0&&(y&42)!==0?s===Dp?eu++:(eu=0,Dp=s):eu=0,tu(0)}}function a0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,kl(r)))}function yd(){return i0(),s0(),r0(),o0()}function o0(){if(Gt!==5)return!1;var s=ar,r=Np;Np=0;var l=Zi(gs),c=ee.T,y=le.p;try{le.p=32>l?32:l,ee.T=null,l=Mp,Mp=null;var v=ar,C=gs;if(Gt=0,go=ar=null,gs=0,(Xe&6)!==0)throw Error(i(331));var x=Xe;if(Xe|=4,Fv(v.current),zv(v,v.current,C,l),Xe=x,tu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ii,v)}catch{}return!0}finally{le.p=y,ee.T=c,a0(s,r)}}function l0(s,r,l){r=Kn(l,r),r=cp(s.stateNode,r,2),s=Zs(s,r,2),s!==null&&(Kr(s,2),qi(s))}function it(s,r,l){if(s.tag===3)l0(s,s,l);else for(;r!==null;){if(r.tag===3){l0(r,s,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(rr===null||!rr.has(c))){s=Kn(l,s),l=uv(2),c=Zs(r,l,2),c!==null&&(cv(l,c,r,s),Kr(c,2),qi(c));break}}r=r.return}}function kp(s,r,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Ox;var y=new Set;c.set(r,y)}else y=c.get(r),y===void 0&&(y=new Set,c.set(r,y));y.has(l)||(xp=!0,y.add(l),s=Hx.bind(null,s,r,l),r.then(s,s))}function Hx(s,r,l){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,lt===s&&(Oe&l)===l&&(St===4||St===3&&(Oe&62914560)===Oe&&300>hn()-dd?(Xe&2)===0&&yo(s,0):Rp|=l,mo===Oe&&(mo=0)),qi(s)}function u0(s,r){r===0&&(r=hc()),s=ra(s,r),s!==null&&(Kr(s,r),qi(s))}function Gx(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),u0(s,l)}function Kx(s,r){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,y=s.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),u0(s,l)}function jx(s,r){return Ht(s,r)}var _d=null,vo=null,Vp=!1,vd=!1,Lp=!1,lr=0;function qi(s){s!==vo&&s.next===null&&(vo===null?_d=vo=s:vo=vo.next=s),vd=!0,Vp||(Vp=!0,$x())}function tu(s,r){if(!Lp&&vd){Lp=!0;do for(var l=!1,c=_d;c!==null;){if(s!==0){var y=c.pendingLanes;if(y===0)var v=0;else{var C=c.suspendedLanes,x=c.pingedLanes;v=(1<<31-Ct(42|s)+1)-1,v&=y&~(C&~x),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,h0(c,v))}else v=Oe,v=Ai(c,c===lt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||si(c,v)||(l=!0,h0(c,v));c=c.next}while(l);Lp=!1}}function Yx(){c0()}function c0(){vd=Vp=!1;var s=0;lr!==0&&sR()&&(s=lr);for(var r=hn(),l=null,c=_d;c!==null;){var y=c.next,v=d0(c,r);v===0?(c.next=null,l===null?_d=y:l.next=y,y===null&&(vo=l)):(l=c,(s!==0||(v&3)!==0)&&(vd=!0)),c=y}Gt!==0&&Gt!==5||tu(s),lr!==0&&(lr=0)}function d0(s,r){for(var l=s.suspendedLanes,c=s.pingedLanes,y=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var C=31-Ct(v),x=1<<C,k=y[C];k===-1?((x&l)===0||(x&c)!==0)&&(y[C]=fh(x,r)):k<=r&&(s.expiredLanes|=x),v&=~x}if(r=lt,l=Oe,l=Ai(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===r&&(nt===2||nt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Vs(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||si(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(c!==null&&Vs(c),Zi(l)){case 2:case 8:l=dl;break;case 32:l=Ls;break;case 268435456:l=lc;break;default:l=Ls}return c=f0.bind(null,s),l=Ht(l,c),s.callbackPriority=r,s.callbackNode=l,r}return c!==null&&c!==null&&Vs(c),s.callbackPriority=2,s.callbackNode=null,2}function f0(s,r){if(Gt!==0&&Gt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(yd()&&s.callbackNode!==l)return null;var c=Oe;return c=Ai(s,s===lt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Yv(s,c,r),d0(s,hn()),s.callbackNode!=null&&s.callbackNode===l?f0.bind(null,s):null)}function h0(s,r){if(yd())return null;Yv(s,r,!0)}function $x(){aR(function(){(Xe&6)!==0?Ht(cl,Yx):c0()})}function Op(){if(lr===0){var s=io;s===0&&(s=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),lr=s}return lr}function p0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fa(""+s)}function m0(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function Jx(s,r,l,c,y){if(r==="submit"&&l&&l.stateNode===y){var v=p0((y[jt]||null).action),C=c.submitter;C&&(r=(r=C[jt]||null)?p0(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var x=new Ui("action","action",null,c,y);s.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(lr!==0){var k=C?m0(y,C):new FormData(y);sp(l,{pending:!0,data:k,method:y.method,action:v},null,k)}}else typeof v=="function"&&(x.preventDefault(),k=C?m0(y,C):new FormData(y),sp(l,{pending:!0,data:k,method:y.method,action:v},v,k))},currentTarget:y}]})}}for(var zp=0;zp<Th.length;zp++){var Bp=Th[zp],Qx=Bp.toLowerCase(),Wx=Bp[0].toUpperCase()+Bp.slice(1);fi(Qx,"on"+Wx)}fi(jy,"onAnimationEnd"),fi(Yy,"onAnimationIteration"),fi($y,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(hx,"onTransitionRun"),fi(px,"onTransitionStart"),fi(mx,"onTransitionCancel"),fi(Jy,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function g0(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],y=c.event;c=c.listeners;e:{var v=void 0;if(r)for(var C=c.length-1;0<=C;C--){var x=c[C],k=x.instance,J=x.currentTarget;if(x=x.listener,k!==v&&y.isPropagationStopped())break e;v=x,y.currentTarget=J;try{v(y)}catch(te){Uc(te)}y.currentTarget=null,v=k}else for(C=0;C<c.length;C++){if(x=c[C],k=x.instance,J=x.currentTarget,x=x.listener,k!==v&&y.isPropagationStopped())break e;v=x,y.currentTarget=J;try{v(y)}catch(te){Uc(te)}y.currentTarget=null,v=k}}}}function ke(s,r){var l=r[La];l===void 0&&(l=r[La]=new Set);var c=s+"__bubble";l.has(c)||(y0(r,s,2,!1),l.add(c))}function qp(s,r,l){var c=0;r&&(c|=4),y0(l,s,c,r)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Fp(s){if(!s[Ed]){s[Ed]=!0,pl.forEach(function(l){l!=="selectionchange"&&(Xx.has(l)||qp(l,!1,s),qp(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ed]||(r[Ed]=!0,qp("selectionchange",!1,r))}}function y0(s,r,l,c){switch(j0(r)){case 2:var y=IR;break;case 8:y=xR;break;default:y=im}l=y.bind(null,r,l,s),y=void 0,!Wr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),c?y!==void 0?s.addEventListener(r,l,{capture:!0,passive:y}):s.addEventListener(r,l,!0):y!==void 0?s.addEventListener(r,l,{passive:y}):s.addEventListener(r,l,!1)}function Hp(s,r,l,c,y){var v=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var x=c.stateNode.containerInfo;if(x===y)break;if(C===4)for(C=c.return;C!==null;){var k=C.tag;if((k===3||k===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;x!==null;){if(C=xi(x),C===null)return;if(k=C.tag,k===5||k===6||k===26||k===27){c=v=C;continue e}x=x.parentNode}}c=c.return}Hs(function(){var J=v,te=qn(l),se=[];e:{var Q=Qy.get(s);if(Q!==void 0){var X=Ui,ge=s;switch(s){case"keypress":if(Zr(l)===0)break e;case"keydown":case"keyup":X=Mc;break;case"focusin":ge="focus",X=ta;break;case"focusout":ge="blur",X=ta;break;case"beforeblur":case"afterblur":X=ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=S;break;case jy:case Yy:case $y:X=Cc;break;case Jy:X=R;break;case"scroll":case"scrollend":X=Il;break;case"wheel":X=W;break;case"copy":case"cut":case"paste":X=wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ns;break;case"toggle":case"beforetoggle":X=Ne}var Ae=(r&4)!==0,ot=!Ae&&(s==="scroll"||s==="scrollend"),j=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var q=J,$;q!==null;){var ne=q;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||j===null||(ne=li(q,j),ne!=null&&Ae.push(iu(q,ne,$))),ot)break;q=q.return}0<Ae.length&&(Q=new X(Q,ge,null,l,te),se.push({event:Q,listeners:Ae}))}}if((r&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",Q&&l!==Al&&(ge=l.relatedTarget||l.fromElement)&&(xi(ge)||ge[wi]))break e;if((X||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(ge=l.relatedTarget||l.toElement,X=J,ge=ge?xi(ge):null,ge!==null&&(ot=o(ge),Ae=ge.tag,ge!==ot||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):(X=null,ge=J),X!==ge)){if(Ae=xl,ne="onMouseLeave",j="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=ns,ne="onPointerLeave",j="onPointerEnter",q="pointer"),ot=X==null?Q:xn(X),$=ge==null?Q:xn(ge),Q=new Ae(ne,q+"leave",X,l,te),Q.target=ot,Q.relatedTarget=$,ne=null,xi(te)===J&&(Ae=new Ae(j,q+"enter",ge,l,te),Ae.target=$,Ae.relatedTarget=ot,ne=Ae),ot=ne,X&&ge)t:{for(Ae=Zx,j=X,q=ge,$=0,ne=j;ne;ne=Ae(ne))$++;ne=0;for(var Te=q;Te;Te=Ae(Te))ne++;for(;0<$-ne;)j=Ae(j),$--;for(;0<ne-$;)q=Ae(q),ne--;for(;$--;){if(j===q||q!==null&&j===q.alternate){Ae=j;break t}j=Ae(j),q=Ae(q)}Ae=null}else Ae=null;X!==null&&_0(se,Q,X,Ae,!1),ge!==null&&ot!==null&&_0(se,ot,ge,Ae,!0)}}e:{if(Q=J?xn(J):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var $e=ky;else if(Py(Q))if(Vy)$e=cx;else{$e=lx;var _e=ox}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?J&&qa(J.elementType)&&($e=ky):$e=ux;if($e&&($e=$e(s,J))){Uy(se,$e,l,te);break e}_e&&_e(s,Q,J),s==="focusout"&&J&&Q.type==="number"&&J.memoizedProps.value!=null&&El(Q,"number",Q.value)}switch(_e=J?xn(J):window,s){case"focusin":(Py(_e)||_e.contentEditable==="true")&&(Ja=_e,_h=J,Dl=null);break;case"focusout":Dl=_h=Ja=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Gy(se,l,te);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":Gy(se,l,te)}var De;if(We)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else $a?na(s,l)&&(ze="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Li&&l.locale!=="ko"&&($a||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&$a&&(De=wl()):(Pi=te,Cl="value"in Pi?Pi.value:Pi.textContent,$a=!0)),_e=Td(J,ze),0<_e.length&&(ze=new Vi(ze,s,null,l,te),se.push({event:ze,listeners:_e}),De?ze.data=De:(De=Ya(l),De!==null&&(ze.data=De)))),(De=Hn?ix(s,l):sx(s,l))&&(ze=Td(J,"onBeforeInput"),0<ze.length&&(_e=new Vi("onBeforeInput","beforeinput",null,l,te),se.push({event:_e,listeners:ze}),_e.data=De)),Jx(se,s,J,l,te)}g0(se,r)})}function iu(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Td(s,r){for(var l=r+"Capture",c=[];s!==null;){var y=s,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=li(s,l),y!=null&&c.unshift(iu(s,y,v)),y=li(s,r),y!=null&&c.push(iu(s,y,v))),s.tag===3)return c;s=s.return}return[]}function Zx(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _0(s,r,l,c,y){for(var v=r._reactName,C=[];l!==null&&l!==c;){var x=l,k=x.alternate,J=x.stateNode;if(x=x.tag,k!==null&&k===c)break;x!==5&&x!==26&&x!==27||J===null||(k=J,y?(J=li(l,v),J!=null&&C.unshift(iu(l,J,k))):y||(J=li(l,v),J!=null&&C.push(iu(l,J,k)))),l=l.return}C.length!==0&&s.push({event:r,listeners:C})}var eR=/\r\n?/g,tR=/\u0000|\uFFFD/g;function v0(s){return(typeof s=="string"?s:""+s).replace(eR,`
`).replace(tR,"")}function E0(s,r){return r=v0(r),v0(s)===r}function at(s,r,l,c,y,v){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||vn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&vn(s,""+c);break;case"className":Rn(s,"class",c);break;case"tabIndex":Rn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(s,l,c);break;case"style":Sl(s,c,v);break;case"data":if(r!=="object"){Rn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fa(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&at(s,r,"name",y.name,y,null),at(s,r,"formEncType",y.formEncType,y,null),at(s,r,"formMethod",y.formMethod,y,null),at(s,r,"formTarget",y.formTarget,y,null)):(at(s,r,"encType",y.encType,y,null),at(s,r,"method",y.method,y,null),at(s,r,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fa(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=oi);break;case"onScroll":c!=null&&ke("scroll",s);break;case"onScrollEnd":c!=null&&ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Fa(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":ke("beforetoggle",s),ke("toggle",s),za(s,"popover",c);break;case"xlinkActuate":kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":za(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tc.get(l)||l,za(s,l,c))}}function Gp(s,r,l,c,y,v){switch(l){case"style":Sl(s,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?vn(s,c):(typeof c=="number"||typeof c=="bigint")&&vn(s,""+c);break;case"onScroll":c!=null&&ke("scroll",s);break;case"onScrollEnd":c!=null&&ke("scrollend",s);break;case"onClick":c!=null&&(s.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),v=s[jt]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(r,v,y),typeof c=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,c,y);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):za(s,l,c)}}}function tn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",s),ke("load",s);var c=!1,y=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:at(s,r,v,C,l,null)}}y&&at(s,r,"srcSet",l.srcSet,l,null),c&&at(s,r,"src",l.src,l,null);return;case"input":ke("invalid",s);var x=v=C=y=null,k=null,J=null;for(c in l)if(l.hasOwnProperty(c)){var te=l[c];if(te!=null)switch(c){case"name":y=te;break;case"type":C=te;break;case"checked":k=te;break;case"defaultChecked":J=te;break;case"value":v=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:at(s,r,c,te,l,null)}}_c(s,v,x,k,J,C,y,!1);return;case"select":ke("invalid",s),c=C=v=null;for(y in l)if(l.hasOwnProperty(y)&&(x=l[y],x!=null))switch(y){case"value":v=x;break;case"defaultValue":C=x;break;case"multiple":c=x;default:at(s,r,y,x,l,null)}r=v,l=C,s.multiple=!!c,r!=null?zs(s,!!c,r,!1):l!=null&&zs(s,!!c,l,!0);return;case"textarea":ke("invalid",s),v=y=c=null;for(C in l)if(l.hasOwnProperty(C)&&(x=l[C],x!=null))switch(C){case"value":c=x;break;case"defaultValue":y=x;break;case"children":v=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:at(s,r,C,x,l,null)}Bs(s,c,y,v);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(s,r,k,c,l,null)}return;case"dialog":ke("beforetoggle",s),ke("toggle",s),ke("cancel",s),ke("close",s);break;case"iframe":case"object":ke("load",s);break;case"video":case"audio":for(c=0;c<nu.length;c++)ke(nu[c],s);break;case"image":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"embed":case"source":case"link":ke("error",s),ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(c=l[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:at(s,r,J,c,l,null)}return;default:if(qa(r)){for(te in l)l.hasOwnProperty(te)&&(c=l[te],c!==void 0&&Gp(s,r,te,c,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(c=l[x],c!=null&&at(s,r,x,c,l,null))}function nR(s,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,C=null,x=null,k=null,J=null,te=null;for(X in l){var se=l[X];if(l.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=se;default:c.hasOwnProperty(X)||at(s,r,X,null,c,se)}}for(var Q in c){var X=c[Q];if(se=l[Q],c.hasOwnProperty(Q)&&(X!=null||se!=null))switch(Q){case"type":v=X;break;case"name":y=X;break;case"checked":J=X;break;case"defaultChecked":te=X;break;case"value":C=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==se&&at(s,r,Q,X,c,se)}}Ba(s,C,x,k,J,te,v,y);return;case"select":X=C=x=Q=null;for(v in l)if(k=l[v],l.hasOwnProperty(v)&&k!=null)switch(v){case"value":break;case"multiple":X=k;default:c.hasOwnProperty(v)||at(s,r,v,null,c,k)}for(y in c)if(v=c[y],k=l[y],c.hasOwnProperty(y)&&(v!=null||k!=null))switch(y){case"value":Q=v;break;case"defaultValue":x=v;break;case"multiple":C=v;default:v!==k&&at(s,r,y,v,c,k)}r=x,l=C,c=X,Q!=null?zs(s,!!l,Q,!1):!!c!=!!l&&(r!=null?zs(s,!!l,r,!0):zs(s,!!l,l?[]:"",!1));return;case"textarea":X=Q=null;for(x in l)if(y=l[x],l.hasOwnProperty(x)&&y!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:at(s,r,x,null,c,y)}for(C in c)if(y=c[C],v=l[C],c.hasOwnProperty(C)&&(y!=null||v!=null))switch(C){case"value":Q=y;break;case"defaultValue":X=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==v&&at(s,r,C,y,c,v)}vc(s,Q,X);return;case"option":for(var ge in l)if(Q=l[ge],l.hasOwnProperty(ge)&&Q!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":s.selected=!1;break;default:at(s,r,ge,null,c,Q)}for(k in c)if(Q=c[k],X=l[k],c.hasOwnProperty(k)&&Q!==X&&(Q!=null||X!=null))switch(k){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:at(s,r,k,Q,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)Q=l[Ae],l.hasOwnProperty(Ae)&&Q!=null&&!c.hasOwnProperty(Ae)&&at(s,r,Ae,null,c,Q);for(J in c)if(Q=c[J],X=l[J],c.hasOwnProperty(J)&&Q!==X&&(Q!=null||X!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:at(s,r,J,Q,c,X)}return;default:if(qa(r)){for(var ot in l)Q=l[ot],l.hasOwnProperty(ot)&&Q!==void 0&&!c.hasOwnProperty(ot)&&Gp(s,r,ot,void 0,c,Q);for(te in c)Q=c[te],X=l[te],!c.hasOwnProperty(te)||Q===X||Q===void 0&&X===void 0||Gp(s,r,te,Q,c,X);return}}for(var j in l)Q=l[j],l.hasOwnProperty(j)&&Q!=null&&!c.hasOwnProperty(j)&&at(s,r,j,null,c,Q);for(se in c)Q=c[se],X=l[se],!c.hasOwnProperty(se)||Q===X||Q==null&&X==null||at(s,r,se,Q,c,X)}function T0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],v=y.transferSize,C=y.initiatorType,x=y.duration;if(v&&x&&T0(C)){for(C=0,x=y.responseEnd,c+=1;c<l.length;c++){var k=l[c],J=k.startTime;if(J>x)break;var te=k.transferSize,se=k.initiatorType;te&&T0(se)&&(k=k.responseEnd,C+=te*(k<x?1:(x-J)/(k-J)))}if(--c,r+=8*(v+C)/(y.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Kp=null,jp=null;function Sd(s){return s.nodeType===9?s:s.ownerDocument}function S0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Yp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $p=null;function sR(){var s=window.event;return s&&s.type==="popstate"?s===$p?!1:($p=s,!0):($p=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,aR=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(s){return w0.resolve(null).then(s).catch(oR)}:C0;function oR(s){setTimeout(function(){throw s})}function ur(s){return s==="head"}function I0(s,r){var l=r,c=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(y),Ao(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")su(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,su(l);for(var v=l.firstChild;v;){var C=v.nextSibling,x=v.nodeName;v[Ii]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=C}}else l==="body"&&su(s.ownerDocument.body);l=y}while(l);Ao(r)}function x0(s,r){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function Jp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jp(l),Oa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function lR(s,r,l,c){for(;s.nodeType===1;){var y=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ii])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Qn(s.nextSibling),s===null)break}return null}function uR(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Qn(s.nextSibling),s===null))return null;return s}function R0(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Qn(s.nextSibling),s===null))return null;return s}function Qp(s){return s.data==="$?"||s.data==="$~"}function Wp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function cR(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Qn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Xp=null;function b0(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return Qn(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function N0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function M0(s,r,l){switch(r=Sd(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function su(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Oa(s)}var Wn=new Map,D0=new Set;function Ad(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ys=le.d;le.d={f:dR,r:fR,D:hR,C:pR,L:mR,m:gR,X:_R,S:yR,M:vR};function dR(){var s=ys.f(),r=pd();return s||r}function fR(s){var r=Bn(s);r!==null&&r.tag===5&&r.type==="form"?J_(r):ys.r(s)}var Eo=typeof document>"u"?null:document;function P0(s,r,l){var c=Eo;if(c&&typeof r=="string"&&r){var y=_n(r);y='link[rel="'+s+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),D0.has(y)||(D0.add(y),s={rel:s,crossOrigin:l,href:r},c.querySelector(y)===null&&(r=c.createElement("link"),tn(r,"link",s),Ut(r),c.head.appendChild(r)))}}function hR(s){ys.D(s),P0("dns-prefetch",s,null)}function pR(s,r){ys.C(s,r),P0("preconnect",s,r)}function mR(s,r,l){ys.L(s,r,l);var c=Eo;if(c&&s&&r){var y='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+_n(l.imageSizes)+'"]')):y+='[href="'+_n(s)+'"]';var v=y;switch(r){case"style":v=To(s);break;case"script":v=So(s)}Wn.has(v)||(s=T({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Wn.set(v,s),c.querySelector(y)!==null||r==="style"&&c.querySelector(ru(v))||r==="script"&&c.querySelector(au(v))||(r=c.createElement("link"),tn(r,"link",s),Ut(r),c.head.appendChild(r)))}}function gR(s,r){ys.m(s,r);var l=Eo;if(l&&s){var c=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(s)+'"]',v=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=So(s)}if(!Wn.has(v)&&(s=T({rel:"modulepreload",href:s},r),Wn.set(v,s),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(au(v)))return}c=l.createElement("link"),tn(c,"link",s),Ut(c),l.head.appendChild(c)}}}function yR(s,r,l){ys.S(s,r,l);var c=Eo;if(c&&s){var y=Ri(c).hoistableStyles,v=To(s);r=r||"default";var C=y.get(v);if(!C){var x={loading:0,preload:null};if(C=c.querySelector(ru(v)))x.loading=5;else{s=T({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Wn.get(v))&&Zp(s,l);var k=C=c.createElement("link");Ut(k),tn(k,"link",s),k._p=new Promise(function(J,te){k.onload=J,k.onerror=te}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Cd(C,r,c)}C={type:"stylesheet",instance:C,count:1,state:x},y.set(v,C)}}}function _R(s,r){ys.X(s,r);var l=Eo;if(l&&s){var c=Ri(l).hoistableScripts,y=So(s),v=c.get(y);v||(v=l.querySelector(au(y)),v||(s=T({src:s,async:!0},r),(r=Wn.get(y))&&em(s,r),v=l.createElement("script"),Ut(v),tn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function vR(s,r){ys.M(s,r);var l=Eo;if(l&&s){var c=Ri(l).hoistableScripts,y=So(s),v=c.get(y);v||(v=l.querySelector(au(y)),v||(s=T({src:s,async:!0,type:"module"},r),(r=Wn.get(y))&&em(s,r),v=l.createElement("script"),Ut(v),tn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function U0(s,r,l,c){var y=(y=ye.current)?Ad(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=To(l.href),l=Ri(y).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=To(l.href);var v=Ri(y).hoistableStyles,C=v.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,C),(v=y.querySelector(ru(s)))&&!v._p&&(C.instance=v,C.state.loading=5),Wn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wn.set(s,l),v||ER(y,s,l,C.state))),r&&c===null)throw Error(i(528,""));return C}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=So(l),l=Ri(y).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function To(s){return'href="'+_n(s)+'"'}function ru(s){return'link[rel="stylesheet"]['+s+"]"}function k0(s){return T({},s,{"data-precedence":s.precedence,precedence:null})}function ER(s,r,l,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),tn(r,"link",l),Ut(r),s.head.appendChild(r))}function So(s){return'[src="'+_n(s)+'"]'}function au(s){return"script[async]"+s}function V0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+_n(l.href)+'"]');if(c)return r.instance=c,Ut(c),c;var y=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ut(c),tn(c,"style",y),Cd(c,l.precedence,s),r.instance=c;case"stylesheet":y=To(l.href);var v=s.querySelector(ru(y));if(v)return r.state.loading|=4,r.instance=v,Ut(v),v;c=k0(l),(y=Wn.get(y))&&Zp(c,y),v=(s.ownerDocument||s).createElement("link"),Ut(v);var C=v;return C._p=new Promise(function(x,k){C.onload=x,C.onerror=k}),tn(v,"link",c),r.state.loading|=4,Cd(v,l.precedence,s),r.instance=v;case"script":return v=So(l.src),(y=s.querySelector(au(v)))?(r.instance=y,Ut(y),y):(c=l,(y=Wn.get(v))&&(c=T({},l),em(c,y)),s=s.ownerDocument||s,y=s.createElement("script"),Ut(y),tn(y,"link",c),s.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Cd(c,l.precedence,s));return r.instance}function Cd(s,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,v=y,C=0;C<c.length;C++){var x=c[C];if(x.dataset.precedence===r)v=x;else if(v!==y)break}v?v.parentNode.insertBefore(s,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Zp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function em(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var wd=null;function L0(s,r,l){if(wd===null){var c=new Map,y=wd=new Map;y.set(l,c)}else y=wd,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),y=0;y<l.length;y++){var v=l[y];if(!(v[Ii]||v[Pt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=s+C;var x=c.get(C);x?x.push(v):c.set(C,[v])}}return c}function O0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function TR(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function z0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function SR(s,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=To(c.href),v=r.querySelector(ru(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Id.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=v,Ut(v);return}v=r.ownerDocument||r,c=k0(c),(y=Wn.get(y))&&Zp(c,y),v=v.createElement("link"),Ut(v);var C=v;C._p=new Promise(function(x,k){C.onload=x,C.onerror=k}),tn(v,"link",c),l.instance=v}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Id.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var tm=0;function AR(s,r){return s.stylesheets&&s.count===0&&Rd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&Rd(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4+r);0<s.imgBytes&&tm===0&&(tm=62500*iR());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Rd(s,s.stylesheets),s.unsuspend)){var v=s.unsuspend;s.unsuspend=null,v()}},(s.imgBytes>tm?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function Id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var xd=null;function Rd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,xd=new Map,r.forEach(CR,s),xd=null,Id.call(s))}function CR(s,r){if(!(r.state.loading&4)){var l=xd.get(s);if(l)var c=l.get(null);else{l=new Map,xd.set(s,l);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var C=y[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}y=r.instance,C=y.getAttribute("data-precedence"),v=l.get(C)||c,v===c&&l.set(null,y),l.set(C,y),this.count++,c=Id.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),v?v.parentNode.insertBefore(y,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),r.state.loading|=4}}var ou={$$typeof:F,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function wR(s,r,l,c,y,v,C,x,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function B0(s,r,l,c,y,v,C,x,k,J,te,se){return s=new wR(s,r,l,C,k,J,te,se,x),r=1,v===!0&&(r|=24),v=Nn(3,null,null,r),s.current=v,v.stateNode=s,r=Uh(),r.refCount++,s.pooledCache=r,r.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:r},Oh(v),s}function q0(s){return s?(s=Xa,s):Xa}function F0(s,r,l,c,y,v){y=q0(y),c.context===null?c.context=y:c.pendingContext=y,c=Xs(r),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Zs(s,c,r),l!==null&&(Cn(l,s,r),zl(l,s,r))}function H0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function nm(s,r){H0(s,r),(s=s.alternate)&&H0(s,r)}function G0(s){if(s.tag===13||s.tag===31){var r=ra(s,67108864);r!==null&&Cn(r,s,67108864),nm(s,67108864)}}function K0(s){if(s.tag===13||s.tag===31){var r=kn();r=Yr(r);var l=ra(s,r);l!==null&&Cn(l,s,r),nm(s,r)}}var bd=!0;function IR(s,r,l,c){var y=ee.T;ee.T=null;var v=le.p;try{le.p=2,im(s,r,l,c)}finally{le.p=v,ee.T=y}}function xR(s,r,l,c){var y=ee.T;ee.T=null;var v=le.p;try{le.p=8,im(s,r,l,c)}finally{le.p=v,ee.T=y}}function im(s,r,l,c){if(bd){var y=sm(c);if(y===null)Hp(s,r,c,Nd,l),Y0(s,c);else if(bR(y,s,r,l,c))c.stopPropagation();else if(Y0(s,c),r&4&&-1<RR.indexOf(s)){for(;y!==null;){var v=Bn(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=Si(v.pendingLanes);if(C!==0){var x=v;for(x.pendingLanes|=2,x.entangledLanes|=2;C;){var k=1<<31-Ct(C);x.entanglements[1]|=k,C&=~k}qi(v),(Xe&6)===0&&(fd=hn()+500,tu(0))}}break;case 31:case 13:x=ra(v,2),x!==null&&Cn(x,v,2),pd(),nm(v,2)}if(v=sm(c),v===null&&Hp(s,r,c,Nd,l),v===y)break;y=v}y!==null&&c.stopPropagation()}else Hp(s,r,c,null,l)}}function sm(s){return s=qn(s),rm(s)}var Nd=null;function rm(s){if(Nd=null,s=xi(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===31){if(s=d(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Nd=s,null}function j0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case cl:return 2;case dl:return 8;case Ls:case dh:return 32;case lc:return 268435456;default:return 32}default:return 32}}var am=!1,cr=null,dr=null,fr=null,lu=new Map,uu=new Map,hr=[],RR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(s,r){switch(s){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":lu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(r.pointerId)}}function cu(s,r,l,c,y,v){return s===null||s.nativeEvent!==v?(s={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[y]},r!==null&&(r=Bn(r),r!==null&&G0(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),s)}function bR(s,r,l,c,y){switch(r){case"focusin":return cr=cu(cr,s,r,l,c,y),!0;case"dragenter":return dr=cu(dr,s,r,l,c,y),!0;case"mouseover":return fr=cu(fr,s,r,l,c,y),!0;case"pointerover":var v=y.pointerId;return lu.set(v,cu(lu.get(v)||null,s,r,l,c,y)),!0;case"gotpointercapture":return v=y.pointerId,uu.set(v,cu(uu.get(v)||null,s,r,l,c,y)),!0}return!1}function $0(s){var r=xi(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,ri(s.priority,function(){K0(l)});return}}else if(r===31){if(r=d(l),r!==null){s.blockedOn=r,ri(s.priority,function(){K0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Md(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=sm(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Al=c,l.target.dispatchEvent(c),Al=null}else return r=Bn(l),r!==null&&G0(r),s.blockedOn=l,!1;r.shift()}return!0}function J0(s,r,l){Md(s)&&l.delete(r)}function NR(){am=!1,cr!==null&&Md(cr)&&(cr=null),dr!==null&&Md(dr)&&(dr=null),fr!==null&&Md(fr)&&(fr=null),lu.forEach(J0),uu.forEach(J0)}function Dd(s,r){s.blockedOn===r&&(s.blockedOn=null,am||(am=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NR)))}var Pd=null;function Q0(s){Pd!==s&&(Pd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pd===s&&(Pd=null);for(var r=0;r<s.length;r+=3){var l=s[r],c=s[r+1],y=s[r+2];if(typeof c!="function"){if(rm(c||l)===null)continue;break}var v=Bn(l);v!==null&&(s.splice(r,3),r-=3,sp(v,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function Ao(s){function r(k){return Dd(k,s)}cr!==null&&Dd(cr,s),dr!==null&&Dd(dr,s),fr!==null&&Dd(fr,s),lu.forEach(r),uu.forEach(r);for(var l=0;l<hr.length;l++){var c=hr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<hr.length&&(l=hr[0],l.blockedOn===null);)$0(l),l.blockedOn===null&&hr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],v=l[c+1],C=y[jt]||null;if(typeof v=="function")C||Q0(l);else if(C){var x=null;if(v&&v.hasAttribute("formAction")){if(y=v,C=v[jt]||null)x=C.formAction;else if(rm(y)!==null)continue}else x=C.action;typeof x=="function"?l[c+1]=x:(l.splice(c,3),c-=3),Q0(l)}}}function W0(){function s(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function om(s){this._internalRoot=s}Ud.prototype.render=om.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=kn();F0(l,c,s,r,null,null)},Ud.prototype.unmount=om.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;F0(s.current,2,null,s,null,null),pd(),r[wi]=null}};function Ud(s){this._internalRoot=s}Ud.prototype.unstable_scheduleHydration=function(s){if(s){var r=pc();s={blockedOn:null,target:s,priority:r};for(var l=0;l<hr.length&&r!==0&&r<hr[l].priority;l++);hr.splice(l,0,s),l===0&&$0(s)}};var X0=e.version;if(X0!=="19.2.0")throw Error(i(527,X0,"19.2.0"));le.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var MR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{ii=kd.inject(MR),Qt=kd}catch{}}return fu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,c="",y=rv,v=av,C=ov;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError)),r=B0(s,1,!1,null,null,l,c,null,y,v,C,W0),s[wi]=r.current,Fp(s),new om(r)},fu.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var c=!1,y="",v=rv,C=av,x=ov,k=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),r=B0(s,1,!0,r,l??null,c,y,k,v,C,x,W0),r.context=q0(null),l=r.current,c=kn(),c=Yr(c),y=Xs(c),y.callback=null,Zs(l,y,c),l=c,r.current.lanes=l,Kr(r,l),qi(r),s[wi]=r.current,Fp(s),new Ud(r)},fu.version="19.2.0",fu}var lE;function FR(){if(lE)return cm.exports;lE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cm.exports=qR(),cm.exports}var HR=FR();const GR=AA(HR);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uE="popstate";function KR(n={}){function e(a,o){let{pathname:u="/",search:d="",hash:h=""}=ba(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),bm("",{pathname:u,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let h=a.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof o=="string"?o:bu(o))}function i(a,o){ei(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return YR(e,t,i,n)}function vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ei(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jR(){return Math.random().toString(36).substring(2,10)}function cE(n,e){return{usr:n.state,key:n.key,idx:e}}function bm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:t,key:e&&e.key||i||jR()}}function bu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ba(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function YR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,d="POP",h=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function T(){d="POP";let B=_(),H=B==null?null:B-p;p=B,h&&h({action:d,location:L.location,delta:H})}function A(B,H){d="PUSH";let K=bm(L.location,B,H);t&&t(K,B),p=_()+1;let F=cE(K,p),ae=L.createHref(K);try{u.pushState(F,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(ae)}o&&h&&h({action:d,location:L.location,delta:1})}function I(B,H){d="REPLACE";let K=bm(L.location,B,H);t&&t(K,B),p=_();let F=cE(K,p),ae=L.createHref(K);u.replaceState(F,"",ae),o&&h&&h({action:d,location:L.location,delta:0})}function U(B){return $R(B)}let L={get action(){return d},get location(){return n(a,u)},listen(B){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(uE,T),h=B,()=>{a.removeEventListener(uE,T),h=null}},createHref(B){return e(a,B)},createURL:U,encodeLocation(B){let H=U(B);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:A,replace:I,go(B){return u.go(B)}};return L}function $R(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:bu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function CA(n,e,t="/"){return JR(n,e,t,!1)}function JR(n,e,t,i){let a=typeof e=="string"?ba(e):e,o=Cs(a.pathname||"/",t);if(o==null)return null;let u=wA(n);QR(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=ob(o);d=rb(u[h],p,i)}return d}function wA(n,e=[],t=[],i="",a=!1){let o=(u,d,h=a,p)=>{let _={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&h)return;vt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let T=Ts([i,_.relativePath]),A=t.concat(_);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),wA(u.children,e,A,T,h)),!(u.path==null&&!u.index)&&e.push({path:T,score:ib(T,u.index),routesMeta:A})};return n.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,d);else for(let p of IA(u.path))o(u,d,!0,p)}),e}function IA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=IA(i.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...u),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function QR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sb(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var WR=/^:[\w-]+$/,XR=3,ZR=2,eb=1,tb=10,nb=-2,dE=n=>n==="*";function ib(n,e){let t=n.split("/"),i=t.length;return t.some(dE)&&(i+=nb),e&&(i+=ZR),t.filter(a=>!dE(a)).reduce((a,o)=>a+(WR.test(o)?XR:o===""?eb:tb),i)}function sb(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function rb(n,e,t=!1){let{routesMeta:i}=n,a={},o="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,_=o==="/"?e:e.slice(o.length)||"/",T=rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},_),A=h.route;if(!T&&p&&t&&!i[i.length-1].route.index&&(T=rf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:Ts([o,T.pathname]),pathnameBase:fb(Ts([o,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(o=Ts([o,T.pathnameBase]))}return u}function rf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=ab(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:T},A)=>{if(_==="*"){let U=d[A]||"";u=o.slice(0,o.length-U.length).replace(/(.)\/+$/,"$1")}const I=d[A];return T&&!I?p[_]=void 0:p[_]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function ab(n,e=!1,t=!0){ei(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function ob(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Cs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ub=n=>lb.test(n);function cb(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ba(n):n,o;if(t)if(ub(t))o=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?o=fE(t.substring(1),"/"):o=fE(t,e)}else o=e;return{pathname:o,search:hb(i),hash:pb(a)}}function fE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function pm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function db(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xA(n){let e=db(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function RA(n,e,t,i=!1){let a;typeof n=="string"?a=ba(n):(a={...n},vt(!a.pathname||!a.pathname.includes("?"),pm("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),pm("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),pm("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}d=T>=0?e[T]:"/"}let h=cb(a,d),p=u&&u!=="/"&&u.endsWith("/"),_=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||_)&&(h.pathname+="/"),h}var Ts=n=>n.join("/").replace(/\/\/+/g,"/"),fb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function mb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bA=["POST","PUT","PATCH","DELETE"];new Set(bA);var gb=["GET",...bA];new Set(gb);var jo=z.createContext(null);jo.displayName="DataRouter";var Nf=z.createContext(null);Nf.displayName="DataRouterState";z.createContext(!1);var NA=z.createContext({isTransitioning:!1});NA.displayName="ViewTransition";var yb=z.createContext(new Map);yb.displayName="Fetchers";var _b=z.createContext(null);_b.displayName="Await";var Qi=z.createContext(null);Qi.displayName="Navigation";var Bu=z.createContext(null);Bu.displayName="Location";var Wi=z.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var _g=z.createContext(null);_g.displayName="RouteError";function vb(n,{relative:e}={}){vt(qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(Qi),{hash:a,pathname:o,search:u}=Hu(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Ts([t,o])),i.createHref({pathname:d,search:u,hash:a})}function qu(){return z.useContext(Bu)!=null}function Ns(){return vt(qu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Bu).location}var MA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DA(n){z.useContext(Qi).static||z.useLayoutEffect(n)}function Fu(){let{isDataRoute:n}=z.useContext(Wi);return n?Db():Eb()}function Eb(){vt(qu(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(jo),{basename:e,navigator:t}=z.useContext(Qi),{matches:i}=z.useContext(Wi),{pathname:a}=Ns(),o=JSON.stringify(xA(i)),u=z.useRef(!1);return DA(()=>{u.current=!0}),z.useCallback((h,p={})=>{if(ei(u.current,MA),!u.current)return;if(typeof h=="number"){t.go(h);return}let _=RA(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ts([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,o,a,n])}z.createContext(null);function vg(){let{matches:n}=z.useContext(Wi),e=n[n.length-1];return e?e.params:{}}function Hu(n,{relative:e}={}){let{matches:t}=z.useContext(Wi),{pathname:i}=Ns(),a=JSON.stringify(xA(t));return z.useMemo(()=>RA(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function Tb(n,e){return PA(n,e)}function PA(n,e,t,i,a){var K;vt(qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Qi),{matches:u}=z.useContext(Wi),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let F=T&&T.path||"";UA(p,!T||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let A=Ns(),I;if(e){let F=typeof e=="string"?ba(e):e;vt(_==="/"||((K=F.pathname)==null?void 0:K.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${F.pathname}" was given in the \`location\` prop.`),I=F}else I=A;let U=I.pathname||"/",L=U;if(_!=="/"){let F=_.replace(/^\//,"").split("/");L="/"+U.replace(/^\//,"").split("/").slice(F.length).join("/")}let B=CA(n,{pathname:L});ei(T||B!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),ei(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=Ib(B&&B.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:Ts([_,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?_:Ts([_,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,t,i,a);return e&&H?z.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},H):H}function Sb(){let n=Mb(),e=mb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:a},t):null,u)}var Ab=z.createElement(Sb,null),Cb=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(Wi.Provider,{value:this.props.routeContext},z.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wb({routeContext:n,match:e,children:t}){let i=z.useContext(jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Wi.Provider,{value:n},t)}function Ib(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let _=o.findIndex(T=>T.route.id&&(u==null?void 0:u[T.route.id])!==void 0);vt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,_+1))}let d=!1,h=-1;if(t)for(let _=0;_<o.length;_++){let T=o[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(h=_),T.route.id){let{loaderData:A,errors:I}=t,U=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!I||I[T.route.id]===void 0);if(T.route.lazy||U){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let p=t&&i?(_,T)=>{var A,I;i(_,{location:t.location,params:((I=(A=t.matches)==null?void 0:A[0])==null?void 0:I.params)??{},errorInfo:T})}:void 0;return o.reduceRight((_,T,A)=>{let I,U=!1,L=null,B=null;t&&(I=u&&T.route.id?u[T.route.id]:void 0,L=T.route.errorElement||Ab,d&&(h<0&&A===0?(UA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,B=null):h===A&&(U=!0,B=T.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,A+1)),K=()=>{let F;return I?F=L:U?F=B:T.route.Component?F=z.createElement(T.route.Component,null):T.route.element?F=T.route.element:F=_,z.createElement(wb,{match:T,routeContext:{outlet:_,matches:H,isDataRoute:t!=null},children:F})};return t&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?z.createElement(Cb,{location:t.location,revalidation:t.revalidation,component:L,error:I,children:K(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:p}):K()},null)}function Eg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xb(n){let e=z.useContext(jo);return vt(e,Eg(n)),e}function Rb(n){let e=z.useContext(Nf);return vt(e,Eg(n)),e}function bb(n){let e=z.useContext(Wi);return vt(e,Eg(n)),e}function Tg(n){let e=bb(n),t=e.matches[e.matches.length-1];return vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Nb(){return Tg("useRouteId")}function Mb(){var i;let n=z.useContext(_g),e=Rb("useRouteError"),t=Tg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Db(){let{router:n}=xb("useNavigate"),e=Tg("useNavigate"),t=z.useRef(!1);return DA(()=>{t.current=!0}),z.useCallback(async(a,o={})=>{ei(t.current,MA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var hE={};function UA(n,e,t){!e&&!hE[n]&&(hE[n]=!0,ei(!1,t))}z.memo(Pb);function Pb({routes:n,future:e,state:t,unstable_onError:i}){return PA(n,void 0,t,i,e)}function mi(n){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ub({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1}){vt(!qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=ba(t));let{pathname:h="/",search:p="",hash:_="",state:T=null,key:A="default"}=t,I=z.useMemo(()=>{let U=Cs(h,u);return U==null?null:{location:{pathname:U,search:p,hash:_,state:T,key:A},navigationType:i}},[u,h,p,_,T,A,i]);return ei(I!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:z.createElement(Qi.Provider,{value:d},z.createElement(Bu.Provider,{children:e,value:I}))}function kb({children:n,location:e}){return Tb(Nm(n),e)}function Nm(n,e=[]){let t=[];return z.Children.forEach(n,(i,a)=>{if(!z.isValidElement(i))return;let o=[...e,a];if(i.type===z.Fragment){t.push.apply(t,Nm(i.props.children,o));return}vt(i.type===mi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Nm(i.props.children,o)),t.push(u)}),t}var Gd="get",Kd="application/x-www-form-urlencoded";function Mf(n){return n!=null&&typeof n.tagName=="string"}function Vb(n){return Mf(n)&&n.tagName.toLowerCase()==="button"}function Lb(n){return Mf(n)&&n.tagName.toLowerCase()==="form"}function Ob(n){return Mf(n)&&n.tagName.toLowerCase()==="input"}function zb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bb(n,e){return n.button===0&&(!e||e==="_self")&&!zb(n)}var Vd=null;function qb(){if(Vd===null)try{new FormData(document.createElement("form"),0),Vd=!1}catch{Vd=!0}return Vd}var Fb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(n){return n!=null&&!Fb.has(n)?(ei(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):n}function Hb(n,e){let t,i,a,o,u;if(Lb(n)){let d=n.getAttribute("action");i=d?Cs(d,e):null,t=n.getAttribute("method")||Gd,a=mm(n.getAttribute("enctype"))||Kd,o=new FormData(n)}else if(Vb(n)||Ob(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(i=h?Cs(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Gd,a=mm(n.getAttribute("formenctype"))||mm(d.getAttribute("enctype"))||Kd,o=new FormData(d,n),!qb()){let{name:p,type:_,value:T}=n;if(_==="image"){let A=p?`${p}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else p&&o.append(p,T)}}else{if(Mf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gd,i=null,a=Kd,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gb(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Cs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Kb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Yb(n,e,t){let i=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await Kb(o,t);return u.links?u.links():[]}return[]}));return Wb(i.flat(1).filter(jb).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function pE(n,e,t,i,a,o){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var _;return t[p].pathname!==h.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var T;let _=i.routes[h.route.id];if(!_||!_.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let A=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function $b(n,e,{includeHydrateFallback:t}={}){return Jb(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Jb(n){return[...new Set(n)]}function Qb(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Wb(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let o=JSON.stringify(Qb(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}function kA(){let n=z.useContext(jo);return Sg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Xb(){let n=z.useContext(Nf);return Sg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ag=z.createContext(void 0);Ag.displayName="FrameworkContext";function VA(){let n=z.useContext(Ag);return Sg(n,"You must render this element inside a <HydratedRouter> element"),n}function Zb(n,e){let t=z.useContext(Ag),[i,a]=z.useState(!1),[o,u]=z.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,A=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let L=H=>{H.forEach(K=>{u(K.isIntersecting)})},B=new IntersectionObserver(L,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[n]),z.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let I=()=>{a(!0)},U=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,A,{}]:[o,A,{onFocus:hu(d,I),onBlur:hu(h,U),onMouseEnter:hu(p,I),onMouseLeave:hu(_,U),onTouchStart:hu(T,I)}]:[!1,A,{}]}function hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eN({page:n,...e}){let{router:t}=kA(),i=z.useMemo(()=>CA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(nN,{page:n,matches:i,...e}):null}function tN(n){let{manifest:e,routeModules:t}=VA(),[i,a]=z.useState([]);return z.useEffect(()=>{let o=!1;return Yb(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),i}function nN({page:n,matches:e,...t}){let i=Ns(),{manifest:a,routeModules:o}=VA(),{basename:u}=kA(),{loaderData:d,matches:h}=Xb(),p=z.useMemo(()=>pE(n,e,h,a,i,"data"),[n,e,h,a,i]),_=z.useMemo(()=>pE(n,e,h,a,i,"assets"),[n,e,h,a,i]),T=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let U=new Set,L=!1;if(e.forEach(H=>{var F;let K=a.routes[H.route.id];!K||!K.hasLoader||(!p.some(ae=>ae.route.id===H.route.id)&&H.route.id in d&&((F=o[H.route.id])!=null&&F.shouldRevalidate)||K.hasClientLoader?L=!0:U.add(H.route.id))}),U.size===0)return[];let B=Gb(n,u,"data");return L&&U.size>0&&B.searchParams.set("_routes",e.filter(H=>U.has(H.route.id)).map(H=>H.route.id).join(",")),[B.pathname+B.search]},[u,d,i,a,p,e,n,o]),A=z.useMemo(()=>$b(_,a),[_,a]),I=tN(_);return z.createElement(z.Fragment,null,T.map(U=>z.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),A.map(U=>z.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),I.map(({key:U,link:L})=>z.createElement("link",{key:U,nonce:t.nonce,...L})))}function iN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var LA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LA&&(window.__reactRouterVersion="7.9.6")}catch{}function sN({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=KR({window:t,v5Compat:!0}));let a=i.current,[o,u]=z.useState({action:a.action,location:a.location}),d=z.useCallback(h=>{z.startTransition(()=>u(h))},[u]);return z.useLayoutEffect(()=>a.listen(d),[a,d]),z.createElement(Ub,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var OA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:d,target:h,to:p,preventScrollReset:_,viewTransition:T,...A},I){let{basename:U}=z.useContext(Qi),L=typeof p=="string"&&OA.test(p),B,H=!1;if(typeof p=="string"&&L&&(B=p,LA))try{let b=new URL(window.location.href),V=p.startsWith("//")?new URL(b.protocol+p):new URL(p),O=Cs(V.pathname,U);V.origin===b.origin&&O!=null?p=O+V.search+V.hash:H=!0}catch{ei(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=vb(p,{relative:a}),[F,ae,ce]=Zb(i,A),de=lN(p,{replace:u,state:d,target:h,preventScrollReset:_,relative:a,viewTransition:T});function M(b){e&&e(b),b.defaultPrevented||de(b)}let N=z.createElement("a",{...A,...ce,href:B||K,onClick:H||o?e:M,ref:iN(I,ae),target:h,"data-discover":!L&&t==="render"?"true":void 0});return F&&!L?z.createElement(z.Fragment,null,N,z.createElement(eN,{page:K})):N});Be.displayName="Link";var rN=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:d,children:h,...p},_){let T=Hu(u,{relative:p.relative}),A=Ns(),I=z.useContext(Nf),{navigator:U,basename:L}=z.useContext(Qi),B=I!=null&&hN(T)&&d===!0,H=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,K=A.pathname,F=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(K=K.toLowerCase(),F=F?F.toLowerCase():null,H=H.toLowerCase()),F&&L&&(F=Cs(F,L)||F);const ae=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ce=K===H||!a&&K.startsWith(H)&&K.charAt(ae)==="/",de=F!=null&&(F===H||!a&&F.startsWith(H)&&F.charAt(H.length)==="/"),M={isActive:ce,isPending:de,isTransitioning:B},N=ce?e:void 0,b;typeof i=="function"?b=i(M):b=[i,ce?"active":null,de?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(M):o;return z.createElement(Be,{...p,"aria-current":N,className:b,ref:_,style:V,to:u,viewTransition:d},typeof h=="function"?h(M):h)});rN.displayName="NavLink";var aN=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:u=Gd,action:d,onSubmit:h,relative:p,preventScrollReset:_,viewTransition:T,...A},I)=>{let U=dN(),L=fN(d,{relative:p}),B=u.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&OA.test(d),K=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let ae=F.nativeEvent.submitter,ce=(ae==null?void 0:ae.getAttribute("formmethod"))||u;U(ae||F.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:a,state:o,relative:p,preventScrollReset:_,viewTransition:T})};return z.createElement("form",{ref:I,method:B,action:L,onSubmit:i?h:K,...A,"data-discover":!H&&n==="render"?"true":void 0})});aN.displayName="Form";function oN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(n){let e=z.useContext(jo);return vt(e,oN(n)),e}function lN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=Fu(),h=Ns(),p=Hu(n,{relative:o});return z.useCallback(_=>{if(Bb(_,e)){_.preventDefault();let T=t!==void 0?t:bu(h)===bu(p);d(n,{replace:T,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[h,d,p,t,i,e,n,a,o,u])}var uN=0,cN=()=>`__${String(++uN)}__`;function dN(){let{router:n}=zA("useSubmit"),{basename:e}=z.useContext(Qi),t=Nb();return z.useCallback(async(i,a={})=>{let{action:o,method:u,encType:d,formData:h,body:p}=Hb(i,e);if(a.navigate===!1){let _=a.fetcherKey||cN();await n.fetch(_,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function fN(n,{relative:e}={}){let{basename:t}=z.useContext(Qi),i=z.useContext(Wi);vt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Hu(n||".",{relative:e})},u=Ns();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(_=>_==="")){d.delete("index"),h.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ts([t,o.pathname])),bu(o)}function hN(n,{relative:e}={}){let t=z.useContext(NA);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zA("useViewTransitionState"),a=Hu(n,{relative:e});if(!t.isTransitioning)return!1;let o=Cs(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Cs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return rf(a.pathname,u)!=null||rf(a.pathname,o)!=null}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),mE=n=>{const e=mN(n);return e.charAt(0).toUpperCase()+e.slice(1)},BA=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),gN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...d},h)=>z.createElement("svg",{ref:h,...yN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:BA("lucide",a),...!o&&!gN(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,_])=>z.createElement(p,_)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(n,e)=>{const t=z.forwardRef(({className:i,...a},o)=>z.createElement(_N,{ref:o,iconNode:e,className:BA(`lucide-${pN(mE(n))}`,`lucide-${n}`,i),...a}));return t.displayName=mE(n),t};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cg=je("arrow-left",vN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],TN=je("bell",EN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],AN=je("book-open",SN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gE=je("check",CN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],af=je("circle-plus",wN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xN=je("circle-x",IN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bN=je("copy",RN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],MN=je("facebook",NN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Df=je("eye",DN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],qA=je("flag",PN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],kN=je("history",UN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],LN=je("instagram",VN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zN=je("layers",ON);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qN=je("layout-dashboard",BN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pf=je("loader-circle",FN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],GN=je("mail",HN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sa=je("map-pin",KN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YN=je("menu",jN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],yE=je("moon",$N);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],FA=je("pen-line",JN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],wg=je("pen-tool",QN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ig=je("phone",WN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ro=je("search",XN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],e1=je("send",ZN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n1=je("settings",t1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Nu=je("share-2",i1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Mm=je("shield-alert",s1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_E=je("sun",r1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],HA=je("trash-2",a1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],l1=je("trending-up",o1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],c1=je("twitter",u1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GA=je("user",d1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yo=je("x",f1),h1=()=>{};var vE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},p1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},jA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,_=o>>2,T=(o&3)<<4|d>>4;let A=(d&15)<<2|p>>6,I=p&63;h||(I=64,u||(A=64)),i.push(t[_],t[T],t[A],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):p1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||T==null)throw new m1;const A=o<<2|d>>4;if(i.push(A),p!==64){const I=d<<4&240|p>>2;if(i.push(I),T!==64){const U=p<<6&192|T;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class m1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g1=function(n){const e=KA(n);return jA.encodeByteArray(e,!0)},of=function(n){return g1(n).replace(/\./g,"")},YA=function(n){try{return jA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=()=>y1().__FIREBASE_DEFAULTS__,v1=()=>{if(typeof process>"u"||typeof vE>"u")return;const n=vE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},E1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&YA(n[1]);return e&&JSON.parse(e)},Uf=()=>{try{return h1()||_1()||v1()||E1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$A=n=>{var e,t;return(t=(e=Uf())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},T1=n=>{const e=$A(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},JA=()=>{var n;return(n=Uf())==null?void 0:n.config},QA=n=>{var e;return(e=Uf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[of(JSON.stringify(t)),of(JSON.stringify(u)),""].join(".")}const Tu={};function C1(){const n={prod:[],emulator:[]};for(const e of Object.keys(Tu))Tu[e]?n.emulator.push(e):n.prod.push(e);return n}function w1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EE=!1;function XA(n,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||Tu[n]===e||Tu[n]||EE)return;Tu[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",o=C1().prod.length>0;function u(){const A=document.getElementById(i);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function h(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{EE=!0,u()},A}function _(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=w1(i),I=t("text"),U=document.getElementById(I)||document.createElement("span"),L=t("learnmore"),B=document.getElementById(L)||document.createElement("a"),H=t("preprendIcon"),K=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const F=A.element;d(F),_(B,L);const ae=p();h(K,H),F.append(K,U,B,ae),document.body.appendChild(F)}o?(U.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function x1(){var e;const n=(e=Uf())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function N1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M1(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function D1(){return!x1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function U1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="FirebaseError";class Ms extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=k1,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?V1(o,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Ms(a,d,i)}}function V1(n,e){return n.replace(L1,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const L1=/\{\$([^}]+)}/g;function O1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Aa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=n[a],u=e[a];if(TE(o)&&TE(u)){if(!Aa(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function TE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function gu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function z1(n,e){const t=new B1(n,e);return t.subscribe.bind(t)}class B1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");q1(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=gm),a.error===void 0&&(a.error=gm),a.complete===void 0&&(a.complete=gm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class Ca{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new S1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G1(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:H1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H1(n){return n===_a?void 0:n}function G1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new F1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const j1={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Y1=qe.INFO,$1={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},J1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=$1[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=Y1,this._logHandler=J1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Q1=(n,e)=>e.some(t=>n instanceof t);let SE,AE;function W1(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X1(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZA=new WeakMap,Dm=new WeakMap,eC=new WeakMap,ym=new WeakMap,Rg=new WeakMap;function Z1(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Sr(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ZA.set(t,n)}).catch(()=>{}),Rg.set(e,n),e}function eM(n){if(Dm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Dm.set(n,e)}let Pm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tM(n){Pm=n(Pm)}function nM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_m(this),e,...t);return eC.set(i,e.sort?e.sort():[e]),Sr(i)}:X1().includes(n)?function(...e){return n.apply(_m(this),e),Sr(ZA.get(this))}:function(...e){return Sr(n.apply(_m(this),e))}}function iM(n){return typeof n=="function"?nM(n):(n instanceof IDBTransaction&&eM(n),Q1(n,W1())?new Proxy(n,Pm):n)}function Sr(n){if(n instanceof IDBRequest)return Z1(n);if(ym.has(n))return ym.get(n);const e=iM(n);return e!==n&&(ym.set(n,e),Rg.set(e,n)),e}const _m=n=>Rg.get(n);function sM(n,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=Sr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Sr(u.result),h.oldVersion,h.newVersion,Sr(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const rM=["get","getKey","getAll","getAllKeys","count"],aM=["put","add","delete","clear"],vm=new Map;function CE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=aM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||rM.includes(t)))return;const o=async function(u,...d){const h=this.transaction(u,a?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&h.done]))[0]};return vm.set(e,o),o}tM(n=>({...n,get:(e,t,i)=>CE(e,t)||n.get(e,t,i),has:(e,t)=>!!CE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function lM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",wE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new xg("@firebase/app"),uM="@firebase/app-compat",cM="@firebase/analytics-compat",dM="@firebase/analytics",fM="@firebase/app-check-compat",hM="@firebase/app-check",pM="@firebase/auth",mM="@firebase/auth-compat",gM="@firebase/database",yM="@firebase/data-connect",_M="@firebase/database-compat",vM="@firebase/functions",EM="@firebase/functions-compat",TM="@firebase/installations",SM="@firebase/installations-compat",AM="@firebase/messaging",CM="@firebase/messaging-compat",wM="@firebase/performance",IM="@firebase/performance-compat",xM="@firebase/remote-config",RM="@firebase/remote-config-compat",bM="@firebase/storage",NM="@firebase/storage-compat",MM="@firebase/firestore",DM="@firebase/ai",PM="@firebase/firestore-compat",UM="firebase",kM="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",VM={[Um]:"fire-core",[uM]:"fire-core-compat",[dM]:"fire-analytics",[cM]:"fire-analytics-compat",[hM]:"fire-app-check",[fM]:"fire-app-check-compat",[pM]:"fire-auth",[mM]:"fire-auth-compat",[gM]:"fire-rtdb",[yM]:"fire-data-connect",[_M]:"fire-rtdb-compat",[vM]:"fire-fn",[EM]:"fire-fn-compat",[TM]:"fire-iid",[SM]:"fire-iid-compat",[AM]:"fire-fcm",[CM]:"fire-fcm-compat",[wM]:"fire-perf",[IM]:"fire-perf-compat",[xM]:"fire-rc",[RM]:"fire-rc-compat",[bM]:"fire-gcs",[NM]:"fire-gcs-compat",[MM]:"fire-fst",[PM]:"fire-fst-compat",[DM]:"fire-vertex","fire-js":"fire-js",[UM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,LM=new Map,Vm=new Map;function IE(n,e){try{n.container.addComponent(e)}catch(t){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oo(n){const e=n.name;if(Vm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,n);for(const t of lf.values())IE(t,n);for(const t of LM.values())IE(t,n);return!0}function bg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Gu("app","Firebase",OM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=kM;function tC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:km,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ar.create("bad-app-name",{appName:String(a)});if(t||(t=JA()),!t)throw Ar.create("no-options");const o=lf.get(a);if(o){if(Aa(t,o.options)&&Aa(i,o.config))return o;throw Ar.create("duplicate-app",{appName:a})}const u=new K1(a);for(const h of Vm.values())u.addComponent(h);const d=new zM(t,i,u);return lf.set(a,d),d}function nC(n=km){const e=lf.get(n);if(!e&&n===km&&JA())return tC();if(!e)throw Ar.create("no-app",{appName:n});return e}function Cr(n,e,t){let i=VM[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(u.join(" "));return}Oo(new Ca(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="firebase-heartbeat-database",qM=1,Mu="firebase-heartbeat-store";let Em=null;function iC(){return Em||(Em=sM(BM,qM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ar.create("idb-open",{originalErrorMessage:n.message})})),Em}async function FM(n){try{const t=(await iC()).transaction(Mu),i=await t.objectStore(Mu).get(sC(n));return await t.done,i}catch(e){if(e instanceof Ms)ws.warn(e.message);else{const t=Ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(t.message)}}}async function xE(n,e){try{const i=(await iC()).transaction(Mu,"readwrite");await i.objectStore(Mu).put(e,sC(n)),await i.done}catch(t){if(t instanceof Ms)ws.warn(t.message);else{const i=Ar.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ws.warn(i.message)}}}function sC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1024,GM=30;class KM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YM(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>GM){const u=$M(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ws.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=RE(),{heartbeatsToSend:i,unsentEntries:a}=jM(this._heartbeatsCache.heartbeats),o=of(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ws.warn(t),""}}}function RE(){return new Date().toISOString().substring(0,10)}function jM(n,e=HM){const t=[];let i=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),bE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),bE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class YM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?U1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bE(n){return of(JSON.stringify({version:2,heartbeats:n})).length}function $M(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n){Oo(new Ca("platform-logger",e=>new oM(e),"PRIVATE")),Oo(new Ca("heartbeat",e=>new KM(e),"PRIVATE")),Cr(Um,wE,n),Cr(Um,wE,"esm2020"),Cr("fire-js","")}JM("");var QM="firebase",WM="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(QM,WM,"app");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,rC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function b(){}b.prototype=N.prototype,M.F=N.prototype,M.prototype=new b,M.prototype.constructor=M,M.D=function(V,O,G){for(var P=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)P[Ze-2]=arguments[Ze];return N.prototype[O].apply(V,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,N,b){b||(b=0);const V=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)V[O]=N.charCodeAt(b++)|N.charCodeAt(b++)<<8|N.charCodeAt(b++)<<16|N.charCodeAt(b++)<<24;else for(O=0;O<16;++O)V[O]=N[b++]|N[b++]<<8|N[b++]<<16|N[b++]<<24;N=M.g[0],b=M.g[1],O=M.g[2];let G=M.g[3],P;P=N+(G^b&(O^G))+V[0]+3614090360&4294967295,N=b+(P<<7&4294967295|P>>>25),P=G+(O^N&(b^O))+V[1]+3905402710&4294967295,G=N+(P<<12&4294967295|P>>>20),P=O+(b^G&(N^b))+V[2]+606105819&4294967295,O=G+(P<<17&4294967295|P>>>15),P=b+(N^O&(G^N))+V[3]+3250441966&4294967295,b=O+(P<<22&4294967295|P>>>10),P=N+(G^b&(O^G))+V[4]+4118548399&4294967295,N=b+(P<<7&4294967295|P>>>25),P=G+(O^N&(b^O))+V[5]+1200080426&4294967295,G=N+(P<<12&4294967295|P>>>20),P=O+(b^G&(N^b))+V[6]+2821735955&4294967295,O=G+(P<<17&4294967295|P>>>15),P=b+(N^O&(G^N))+V[7]+4249261313&4294967295,b=O+(P<<22&4294967295|P>>>10),P=N+(G^b&(O^G))+V[8]+1770035416&4294967295,N=b+(P<<7&4294967295|P>>>25),P=G+(O^N&(b^O))+V[9]+2336552879&4294967295,G=N+(P<<12&4294967295|P>>>20),P=O+(b^G&(N^b))+V[10]+4294925233&4294967295,O=G+(P<<17&4294967295|P>>>15),P=b+(N^O&(G^N))+V[11]+2304563134&4294967295,b=O+(P<<22&4294967295|P>>>10),P=N+(G^b&(O^G))+V[12]+1804603682&4294967295,N=b+(P<<7&4294967295|P>>>25),P=G+(O^N&(b^O))+V[13]+4254626195&4294967295,G=N+(P<<12&4294967295|P>>>20),P=O+(b^G&(N^b))+V[14]+2792965006&4294967295,O=G+(P<<17&4294967295|P>>>15),P=b+(N^O&(G^N))+V[15]+1236535329&4294967295,b=O+(P<<22&4294967295|P>>>10),P=N+(O^G&(b^O))+V[1]+4129170786&4294967295,N=b+(P<<5&4294967295|P>>>27),P=G+(b^O&(N^b))+V[6]+3225465664&4294967295,G=N+(P<<9&4294967295|P>>>23),P=O+(N^b&(G^N))+V[11]+643717713&4294967295,O=G+(P<<14&4294967295|P>>>18),P=b+(G^N&(O^G))+V[0]+3921069994&4294967295,b=O+(P<<20&4294967295|P>>>12),P=N+(O^G&(b^O))+V[5]+3593408605&4294967295,N=b+(P<<5&4294967295|P>>>27),P=G+(b^O&(N^b))+V[10]+38016083&4294967295,G=N+(P<<9&4294967295|P>>>23),P=O+(N^b&(G^N))+V[15]+3634488961&4294967295,O=G+(P<<14&4294967295|P>>>18),P=b+(G^N&(O^G))+V[4]+3889429448&4294967295,b=O+(P<<20&4294967295|P>>>12),P=N+(O^G&(b^O))+V[9]+568446438&4294967295,N=b+(P<<5&4294967295|P>>>27),P=G+(b^O&(N^b))+V[14]+3275163606&4294967295,G=N+(P<<9&4294967295|P>>>23),P=O+(N^b&(G^N))+V[3]+4107603335&4294967295,O=G+(P<<14&4294967295|P>>>18),P=b+(G^N&(O^G))+V[8]+1163531501&4294967295,b=O+(P<<20&4294967295|P>>>12),P=N+(O^G&(b^O))+V[13]+2850285829&4294967295,N=b+(P<<5&4294967295|P>>>27),P=G+(b^O&(N^b))+V[2]+4243563512&4294967295,G=N+(P<<9&4294967295|P>>>23),P=O+(N^b&(G^N))+V[7]+1735328473&4294967295,O=G+(P<<14&4294967295|P>>>18),P=b+(G^N&(O^G))+V[12]+2368359562&4294967295,b=O+(P<<20&4294967295|P>>>12),P=N+(b^O^G)+V[5]+4294588738&4294967295,N=b+(P<<4&4294967295|P>>>28),P=G+(N^b^O)+V[8]+2272392833&4294967295,G=N+(P<<11&4294967295|P>>>21),P=O+(G^N^b)+V[11]+1839030562&4294967295,O=G+(P<<16&4294967295|P>>>16),P=b+(O^G^N)+V[14]+4259657740&4294967295,b=O+(P<<23&4294967295|P>>>9),P=N+(b^O^G)+V[1]+2763975236&4294967295,N=b+(P<<4&4294967295|P>>>28),P=G+(N^b^O)+V[4]+1272893353&4294967295,G=N+(P<<11&4294967295|P>>>21),P=O+(G^N^b)+V[7]+4139469664&4294967295,O=G+(P<<16&4294967295|P>>>16),P=b+(O^G^N)+V[10]+3200236656&4294967295,b=O+(P<<23&4294967295|P>>>9),P=N+(b^O^G)+V[13]+681279174&4294967295,N=b+(P<<4&4294967295|P>>>28),P=G+(N^b^O)+V[0]+3936430074&4294967295,G=N+(P<<11&4294967295|P>>>21),P=O+(G^N^b)+V[3]+3572445317&4294967295,O=G+(P<<16&4294967295|P>>>16),P=b+(O^G^N)+V[6]+76029189&4294967295,b=O+(P<<23&4294967295|P>>>9),P=N+(b^O^G)+V[9]+3654602809&4294967295,N=b+(P<<4&4294967295|P>>>28),P=G+(N^b^O)+V[12]+3873151461&4294967295,G=N+(P<<11&4294967295|P>>>21),P=O+(G^N^b)+V[15]+530742520&4294967295,O=G+(P<<16&4294967295|P>>>16),P=b+(O^G^N)+V[2]+3299628645&4294967295,b=O+(P<<23&4294967295|P>>>9),P=N+(O^(b|~G))+V[0]+4096336452&4294967295,N=b+(P<<6&4294967295|P>>>26),P=G+(b^(N|~O))+V[7]+1126891415&4294967295,G=N+(P<<10&4294967295|P>>>22),P=O+(N^(G|~b))+V[14]+2878612391&4294967295,O=G+(P<<15&4294967295|P>>>17),P=b+(G^(O|~N))+V[5]+4237533241&4294967295,b=O+(P<<21&4294967295|P>>>11),P=N+(O^(b|~G))+V[12]+1700485571&4294967295,N=b+(P<<6&4294967295|P>>>26),P=G+(b^(N|~O))+V[3]+2399980690&4294967295,G=N+(P<<10&4294967295|P>>>22),P=O+(N^(G|~b))+V[10]+4293915773&4294967295,O=G+(P<<15&4294967295|P>>>17),P=b+(G^(O|~N))+V[1]+2240044497&4294967295,b=O+(P<<21&4294967295|P>>>11),P=N+(O^(b|~G))+V[8]+1873313359&4294967295,N=b+(P<<6&4294967295|P>>>26),P=G+(b^(N|~O))+V[15]+4264355552&4294967295,G=N+(P<<10&4294967295|P>>>22),P=O+(N^(G|~b))+V[6]+2734768916&4294967295,O=G+(P<<15&4294967295|P>>>17),P=b+(G^(O|~N))+V[13]+1309151649&4294967295,b=O+(P<<21&4294967295|P>>>11),P=N+(O^(b|~G))+V[4]+4149444226&4294967295,N=b+(P<<6&4294967295|P>>>26),P=G+(b^(N|~O))+V[11]+3174756917&4294967295,G=N+(P<<10&4294967295|P>>>22),P=O+(N^(G|~b))+V[2]+718787259&4294967295,O=G+(P<<15&4294967295|P>>>17),P=b+(G^(O|~N))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+G&4294967295}i.prototype.v=function(M,N){N===void 0&&(N=M.length);const b=N-this.blockSize,V=this.C;let O=this.h,G=0;for(;G<N;){if(O==0)for(;G<=b;)a(this,M,G),G+=this.blockSize;if(typeof M=="string"){for(;G<N;)if(V[O++]=M.charCodeAt(G++),O==this.blockSize){a(this,V),O=0;break}}else for(;G<N;)if(V[O++]=M[G++],O==this.blockSize){a(this,V),O=0;break}}this.h=O,this.o+=N},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;N=this.o*8;for(var b=M.length-8;b<M.length;++b)M[b]=N&255,N/=256;for(this.v(M),M=Array(16),N=0,b=0;b<4;++b)for(let V=0;V<32;V+=8)M[N++]=this.g[b]>>>V&255;return M};function o(M,N){var b=d;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=N(M)}function u(M,N){this.h=N;const b=[];let V=!0;for(let O=M.length-1;O>=0;O--){const G=M[O]|0;V&&G==N||(b[O]=G,V=!1)}this.g=b}var d={};function h(M){return-128<=M&&M<128?o(M,function(N){return new u([N|0],N<0?-1:0)}):new u([M|0],M<0?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return T;if(M<0)return B(p(-M));const N=[];let b=1;for(let V=0;M>=b;V++)N[V]=M/b|0,b*=4294967296;return new u(N,0)}function _(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return B(_(M.substring(1),N));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=p(Math.pow(N,8));let V=T;for(let G=0;G<M.length;G+=8){var O=Math.min(8,M.length-G);const P=parseInt(M.substring(G,G+O),N);O<8?(O=p(Math.pow(N,O)),V=V.j(O).add(p(P))):(V=V.j(b),V=V.add(p(P)))}return V}var T=h(0),A=h(1),I=h(16777216);n=u.prototype,n.m=function(){if(L(this))return-B(this).m();let M=0,N=1;for(let b=0;b<this.g.length;b++){const V=this.i(b);M+=(V>=0?V:4294967296+V)*N,N*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(U(this))return"0";if(L(this))return"-"+B(this).toString(M);const N=p(Math.pow(M,6));var b=this;let V="";for(;;){const O=ae(b,N).g;b=H(b,O.j(N));let G=((b.g.length>0?b.g[0]:b.h)>>>0).toString(M);if(b=O,U(b))return G+V;for(;G.length<6;)G="0"+G;V=G+V}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function U(M){if(M.h!=0)return!1;for(let N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function L(M){return M.h==-1}n.l=function(M){return M=H(this,M),L(M)?-1:U(M)?0:1};function B(M){const N=M.g.length,b=[];for(let V=0;V<N;V++)b[V]=~M.g[V];return new u(b,~M.h).add(A)}n.abs=function(){return L(this)?B(this):this},n.add=function(M){const N=Math.max(this.g.length,M.g.length),b=[];let V=0;for(let O=0;O<=N;O++){let G=V+(this.i(O)&65535)+(M.i(O)&65535),P=(G>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);V=P>>>16,G&=65535,P&=65535,b[O]=P<<16|G}return new u(b,b[b.length-1]&-2147483648?-1:0)};function H(M,N){return M.add(B(N))}n.j=function(M){if(U(this)||U(M))return T;if(L(this))return L(M)?B(this).j(B(M)):B(B(this).j(M));if(L(M))return B(this.j(B(M)));if(this.l(I)<0&&M.l(I)<0)return p(this.m()*M.m());const N=this.g.length+M.g.length,b=[];for(var V=0;V<2*N;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<M.g.length;O++){const G=this.i(V)>>>16,P=this.i(V)&65535,Ze=M.i(O)>>>16,mt=M.i(O)&65535;b[2*V+2*O]+=P*mt,K(b,2*V+2*O),b[2*V+2*O+1]+=G*mt,K(b,2*V+2*O+1),b[2*V+2*O+1]+=P*Ze,K(b,2*V+2*O+1),b[2*V+2*O+2]+=G*Ze,K(b,2*V+2*O+2)}for(M=0;M<N;M++)b[M]=b[2*M+1]<<16|b[2*M];for(M=N;M<2*N;M++)b[M]=0;return new u(b,0)};function K(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function F(M,N){this.g=M,this.h=N}function ae(M,N){if(U(N))throw Error("division by zero");if(U(M))return new F(T,T);if(L(M))return N=ae(B(M),N),new F(B(N.g),B(N.h));if(L(N))return N=ae(M,B(N)),new F(B(N.g),N.h);if(M.g.length>30){if(L(M)||L(N))throw Error("slowDivide_ only works with positive integers.");for(var b=A,V=N;V.l(M)<=0;)b=ce(b),V=ce(V);var O=de(b,1),G=de(V,1);for(V=de(V,2),b=de(b,2);!U(V);){var P=G.add(V);P.l(M)<=0&&(O=O.add(b),G=P),V=de(V,1),b=de(b,1)}return N=H(M,O.j(N)),new F(O,N)}for(O=T;M.l(N)>=0;){for(b=Math.max(1,Math.floor(M.m()/N.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),G=p(b),P=G.j(N);L(P)||P.l(M)>0;)b-=V,G=p(b),P=G.j(N);U(G)&&(G=A),O=O.add(G),M=H(M,P)}return new F(O,M)}n.B=function(M){return ae(this,M).h},n.and=function(M){const N=Math.max(this.g.length,M.g.length),b=[];for(let V=0;V<N;V++)b[V]=this.i(V)&M.i(V);return new u(b,this.h&M.h)},n.or=function(M){const N=Math.max(this.g.length,M.g.length),b=[];for(let V=0;V<N;V++)b[V]=this.i(V)|M.i(V);return new u(b,this.h|M.h)},n.xor=function(M){const N=Math.max(this.g.length,M.g.length),b=[];for(let V=0;V<N;V++)b[V]=this.i(V)^M.i(V);return new u(b,this.h^M.h)};function ce(M){const N=M.g.length+1,b=[];for(let V=0;V<N;V++)b[V]=M.i(V)<<1|M.i(V-1)>>>31;return new u(b,M.h)}function de(M,N){const b=N>>5;N%=32;const V=M.g.length-b,O=[];for(let G=0;G<V;G++)O[G]=N>0?M.i(G+b)>>>N|M.i(G+b+1)<<32-N:M.i(G+b);return new u(O,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,rC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,wr=u}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aC,yu,oC,jd,Lm,lC,uC,cC;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var S=0;S<g.length;++S){var w=g[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(g,S){if(S)e:{var w=i;g=g.split(".");for(var R=0;R<g.length-1;R++){var Y=g[R];if(!(Y in w))break e;w=w[Y]}g=g[g.length-1],R=w[g],S=S(R),S!=R&&S!=null&&e(w,g,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(S){var w=[],R;for(R in S)Object.prototype.hasOwnProperty.call(S,R)&&w.push([R,S[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function h(g,S,w){return g.call.apply(g.bind,arguments)}function p(g,S,w){return p=h,p.apply(null,arguments)}function _(g,S){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),g.apply(this,R)}}function T(g,S){function w(){}w.prototype=S.prototype,g.Z=S.prototype,g.prototype=new w,g.prototype.constructor=g,g.Ob=function(R,Y,W){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return S.prototype[Y].apply(R,ue)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function I(g){const S=g.length;if(S>0){const w=Array(S);for(let R=0;R<S;R++)w[R]=g[R];return w}return[]}function U(g,S){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var w=typeof Y;if(w=w!="object"?w:Y?Array.isArray(Y)?"array":w:"null",w=="array"||w=="object"&&typeof Y.length=="number"){w=g.length||0;const W=Y.length||0;g.length=w+W;for(let ue=0;ue<W;ue++)g[w+ue]=Y[ue]}else g.push(Y)}}class L{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function B(g){u.setTimeout(()=>{throw g},0)}function H(){var g=M;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class K{constructor(){this.h=this.g=null}add(S,w){const R=F.get();R.set(S,w),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new L(()=>new ae,g=>g.reset());class ae{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,de=!1,M=new K,N=()=>{const g=Promise.resolve(void 0);ce=()=>{g.then(b)}};function b(){for(var g;g=H();){try{g.h.call(g.g)}catch(w){B(w)}var S=F;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}de=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};u.addEventListener("test",w,S),u.removeEventListener("test",w,S)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function Ze(g,S){O.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}T(Ze,O),Ze.prototype.init=function(g,S){const w=this.type=g.type,R=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(w=="mouseover"?S=g.fromElement:w=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),ee=0;function le(g,S,w,R,Y){this.listener=g,this.proxy=null,this.src=S,this.type=w,this.capture=!!R,this.ha=Y,this.key=++ee,this.da=this.fa=!1}function Ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Le(g,S,w){for(const R in g)S.call(w,g[R],R,g)}function Ye(g,S){for(const w in g)S.call(void 0,g[w],w,g)}function D(g){const S={};for(const w in g)S[w]=g[w];return S}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(g,S){let w,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(w in R)g[w]=R[w];for(let W=0;W<Z.length;W++)w=Z[W],Object.prototype.hasOwnProperty.call(R,w)&&(g[w]=R[w])}}function fe(g){this.src=g,this.g={},this.h=0}fe.prototype.add=function(g,S,w,R,Y){const W=g.toString();g=this.g[W],g||(g=this.g[W]=[],this.h++);const ue=ye(g,S,R,Y);return ue>-1?(S=g[ue],w||(S.fa=!1)):(S=new le(S,this.src,W,!!R,Y),S.fa=w,g.push(S)),S};function Ce(g,S){const w=S.type;if(w in g.g){var R=g.g[w],Y=Array.prototype.indexOf.call(R,S,void 0),W;(W=Y>=0)&&Array.prototype.splice.call(R,Y,1),W&&(Ee(S),g.g[w].length==0&&(delete g.g[w],g.h--))}}function ye(g,S,w,R){for(let Y=0;Y<g.length;++Y){const W=g[Y];if(!W.da&&W.listener==S&&W.capture==!!w&&W.ha==R)return Y}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),At={};function ut(g,S,w,R,Y){if(Array.isArray(S)){for(let W=0;W<S.length;W++)ut(g,S[W],w,R,Y);return null}return w=ul(w),g&&g[mt]?g.J(S,w,d(R)?!!R.capture:!1,Y):qr(g,S,w,!1,R,Y)}function qr(g,S,w,R,Y,W){if(!S)throw Error("Invalid event type");const ue=d(Y)?!!Y.capture:!!Y;let Ne=Fr(g);if(Ne||(g[Pe]=Ne=new fe(g)),w=Ne.add(S,w,R,ue,W),w.proxy)return w;if(R=Pa(),w.proxy=R,R.src=g,R.listener=w,g.addEventListener)G||(Y=ue),Y===void 0&&(Y=!1),g.addEventListener(S.toString(),R,Y);else if(g.attachEvent)g.attachEvent(Ei(S.toString()),R);else if(g.addListener&&g.removeListener)g.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Pa(){function g(w){return S.call(g.src,g.listener,w)}const S=ol;return g}function Ua(g,S,w,R,Y){if(Array.isArray(S))for(var W=0;W<S.length;W++)Ua(g,S[W],w,R,Y);else R=d(R)?!!R.capture:!!R,w=ul(w),g&&g[mt]?(g=g.i,W=String(S).toString(),W in g.g&&(S=g.g[W],w=ye(S,w,R,Y),w>-1&&(Ee(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete g.g[W],g.h--)))):g&&(g=Fr(g))&&(S=g.g[S.toString()],g=-1,S&&(g=ye(S,w,R,Y)),(w=g>-1?S[g]:null)&&ka(w))}function ka(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[mt])Ce(S.i,g);else{var w=g.type,R=g.proxy;S.removeEventListener?S.removeEventListener(w,R,g.capture):S.detachEvent?S.detachEvent(Ei(w),R):S.addListener&&S.removeListener&&S.removeListener(R),(w=Fr(S))?(Ce(w,g),w.h==0&&(w.src=null,S[Pe]=null)):Ee(g)}}}function Ei(g){return g in At?At[g]:At[g]="on"+g}function ol(g,S){if(g.da)g=!0;else{S=new Ze(S,this);const w=g.listener,R=g.ha||g.src;g.fa&&ka(g),g=w.call(R,S)}return g}function Fr(g){return g=g[Pe],g instanceof fe?g:null}var ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(g){return typeof g=="function"?g:(g[ll]||(g[ll]=function(S){return g.handleEvent(S)}),g[ll])}function Mt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}T(Mt,V),Mt.prototype[mt]=!0,Mt.prototype.removeEventListener=function(g,S,w,R){Ua(this,g,S,w,R)};function Ht(g,S){var w,R=g.G;if(R)for(w=[];R;R=R.G)w.push(R);if(g=g.M,R=S.type||S,typeof S=="string")S=new O(S,g);else if(S instanceof O)S.target=S.target||g;else{var Y=S;S=new O(R,g),oe(S,Y)}Y=!0;let W,ue;if(w)for(ue=w.length-1;ue>=0;ue--)W=S.g=w[ue],Y=Vs(W,R,!0,S)&&Y;if(W=S.g=g,Y=Vs(W,R,!0,S)&&Y,Y=Vs(W,R,!1,S)&&Y,w)for(ue=0;ue<w.length;ue++)W=S.g=w[ue],Y=Vs(W,R,!1,S)&&Y}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const w=g.g[S];for(let R=0;R<w.length;R++)Ee(w[R]);delete g.g[S],g.h--}}this.G=null},Mt.prototype.J=function(g,S,w,R){return this.i.add(String(g),S,!1,w,R)},Mt.prototype.K=function(g,S,w,R){return this.i.add(String(g),S,!0,w,R)};function Vs(g,S,w,R){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let Y=!0;for(let W=0;W<S.length;++W){const ue=S[W];if(ue&&!ue.da&&ue.capture==w){const Ne=ue.listener,wt=ue.ha||ue.src;ue.fa&&Ce(g.i,ue),Y=Ne.call(wt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function ch(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(g,S||0)}function oc(g){g.g=ch(()=>{g.g=null,g.i&&(g.i=!1,oc(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class hn extends V{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:oc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(g){V.call(this),this.h=g,this.g={}}T(Hr,V);var cl=[];function dl(g){Le(g.g,function(S,w){this.g.hasOwnProperty(w)&&ka(S)},g),g.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),dl(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=u.JSON.stringify,dh=u.JSON.parse,lc=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function uc(){}function cc(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){O.call(this,"d")}T(Qt,O);function zn(){O.call(this,"c")}T(zn,O);var Ct={},dc=null;function Va(){return dc=dc||new Mt}Ct.Ia="serverreachability";function fc(g){O.call(this,Ct.Ia,g)}T(fc,O);function Ti(g){const S=Va();Ht(S,new fc(S))}Ct.STAT_EVENT="statevent";function Gr(g,S){O.call(this,Ct.STAT_EVENT,g),this.stat=S}T(Gr,O);function Dt(g){const S=Va();Ht(S,new Gr(S,g))}Ct.Ja="timingevent";function Si(g,S){O.call(this,Ct.Ja,g),this.size=S}T(Si,O);function Ai(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function fh(g,S,w,R,Y,W){g.info(function(){if(g.g)if(W){var ue="",Ne=W.split("&");for(let We=0;We<Ne.length;We++){var wt=Ne[We].split("=");if(wt.length>1){const gt=wt[0];wt=wt[1];const Hn=gt.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(gt+"="+wt+"&"):ue+(gt+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+S+`
`+w+`
`+ue})}function hc(g,S,w,R,Y,W,ue){g.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+S+`
`+w+`
`+W+" "+ue})}function Ci(g,S,w,R){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+hh(g,w)+(R?" "+R:"")})}function Kr(g,S){g.info(function(){return"TIMEOUT: "+S})}si.prototype.info=function(){};function hh(g,S){if(!g.g)return S;if(!S)return null;try{const W=JSON.parse(S);if(W){for(g=0;g<W.length;g++)if(Array.isArray(W[g])){var w=W[g];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return Ls(W)}catch{return S}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function Yr(){}T(Yr,uc),Yr.prototype.g=function(){return new XMLHttpRequest},hl=new Yr;function Zi(g){return encodeURIComponent(String(g))}function pc(g){var S=1;g=g.split(":");const w=[];for(;S>0&&g.length;)w.push(g.shift()),S--;return g.length&&w.push(g.join(":")),w}function ri(g,S,w,R){this.j=g,this.i=S,this.l=w,this.S=R||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Pt={},jt={};function wi(g,S,w){g.M=1,g.A=$r(kt(S)),g.u=w,g.R=!0,La(g,null)}function La(g,S){g.F=Date.now(),Ii(g),g.B=kt(g.A);var w=g.B,R=g.S;Array.isArray(R)||(R=[String(R)]),qa(w.i,"t",R),g.C=0,w=g.j.L,g.h=new ai,g.g=bc(g.j,w?S:null,!g.u),g.P>0&&(g.O=new hn(p(g.Y,g,g.g),g.P)),S=g.V,w=g.g,R=g.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(cl[0]=Y.toString()),Y=cl);for(let W=0;W<Y.length;W++){const ue=ut(w,Y[W],R||S.handleEvent,!1,S.h||S);if(!ue)break;S.g[ue.key]=ue}S=g.J?D(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),Ti(),fh(g.i,g.v,g.B,g.l,g.S,g.u)}ri.prototype.ba=function(g){g=g.target;const S=this.O;S&&ui(g)==3?S.j():this.Y(g)},ri.prototype.Y=function(g){try{if(g==this.g)e:{const Ne=ui(this.g),wt=this.g.ya(),We=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ne!=4||wt==7||(wt==8||We<=0?Ti(3):Ti(2)),xi(this);var S=this.g.ca();this.X=S;var w=ph(this);if(this.o=S==200,hc(this.i,this.v,this.B,this.l,this.S,Ne,S),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var W=R;break t}}W=null}if(g=W)Ci(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,g);else{this.o=!1,this.m=3,Dt(12),xn(this),Bn(this);break e}}if(this.R){g=!0;let gt;for(;!this.K&&this.C<w.length;)if(gt=gc(this,w),gt==jt){Ne==4&&(this.m=4,Dt(14),g=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Pt){this.m=4,Dt(15),Ci(this.i,this.l,w,"[Invalid Chunk]"),g=!1;break}else Ci(this.i,this.l,gt,null),Ri(this,gt);if(mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||w.length!=0||this.h.h||(this.m=1,Dt(16),g=!1),this.o=this.o&&g,!g)Ci(this.i,this.l,w,"[Invalid Chunked Response]"),xn(this),Bn(this);else if(w.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Rl(ue),ue.P=!0,Dt(11))}}else Ci(this.i,this.l,w,null),Ri(this,w);Ne==4&&xn(this),this.o&&!this.K&&(Ne==4?wc(this.j,this):(this.o=!1,Ii(this)))}else ts(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),xn(this),Bn(this)}}}catch{}finally{}};function ph(g){if(!mc(g))return g.g.la();const S=Wt(g.g);if(S==="")return"";let w="";const R=S.length,Y=ui(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return xn(g),Bn(g),"";g.h.i=new u.TextDecoder}for(let W=0;W<R;W++)g.h.h=!0,w+=g.h.i.decode(S[W],{stream:!(Y&&W==R-1)});return S.length=0,g.h.g+=w,g.C=0,g.h.g}function mc(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function gc(g,S){var w=g.C,R=S.indexOf(`
`,w);return R==-1?jt:(w=Number(S.substring(w,R)),isNaN(w)?Pt:(R+=1,R+w>S.length?jt:(S=S.slice(R,R+w),g.C=R+w,S)))}ri.prototype.cancel=function(){this.K=!0,xn(this)};function Ii(g){g.T=Date.now()+g.H,Oa(g,g.H)}function Oa(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Ai(p(g.aa,g),S)}function xi(g){g.D&&(u.clearTimeout(g.D),g.D=null)}ri.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Kr(this.i,this.B),this.M!=2&&(Ti(),Dt(17)),xn(this),this.m=2,Bn(this)):Oa(this,this.T-g)};function Bn(g){g.j.I==0||g.K||wc(g.j,g)}function xn(g){xi(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,dl(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function Ri(g,S){try{var w=g.j;if(w.I!=0&&(w.g==g||Ni(w.h,g))){if(!g.L&&Ni(w.h,g)&&w.I==3){try{var R=w.Ba.g.parse(S)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<g.F)ja(w),Ks(w);else break e;ta(w),Dt(18)}}else w.xa=Y[1],0<w.xa-w.K&&Y[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ai(p(w.Va,w),6e3));bi(w.h)<=1&&w.ta&&(w.ta=void 0)}else Vi(w,11)}else if((g.L||w.g==g)&&ja(w),!P(S))for(Y=w.Ba.g.parse(S),S=0;S<Y.length;S++){let We=Y[S];const gt=We[0];if(!(gt<=w.K))if(w.K=gt,We=We[1],w.I==2)if(We[0]=="c"){w.M=We[1],w.ba=We[2];const Hn=We[3];Hn!=null&&(w.ka=Hn,w.j.info("VER="+w.ka));const Li=We[4];Li!=null&&(w.za=Li,w.j.info("SVER="+w.za));const ci=We[5];ci!=null&&typeof ci=="number"&&ci>0&&(R=1.5*ci,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const di=g.g;if(di){const na=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var W=R.h;W.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(gl(W,W.h),W.h=null))}if(R.G){const Ya=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(R.wa=Ya,tt(R.J,R.G,Ya))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-g.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var ue=g;if(R.na=Rc(R,R.L?R.ba:null,R.W),ue.L){yl(R.h,ue);var Ne=ue,wt=R.O;wt&&(Ne.H=wt),Ne.D&&(xi(Ne),Ii(Ne)),R.g=ue}else Ac(R);w.i.length>0&&ki(w)}else We[0]!="stop"&&We[0]!="close"||Vi(w,7);else w.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Vi(w,7):Il(w):We[0]!="noop"&&w.l&&w.l.qa(We),w.A=0)}}Ti(4)}catch{}}var Ut=class{constructor(g,S){this.g=g,this.map=S}};function pl(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function bi(g){return g.h?1:g.g?g.g.size:0}function Ni(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function gl(g,S){g.g?g.g.add(S):g.h=S}function yl(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}pl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function _l(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const w of g.g.values())S=S.concat(w.G);return S}return I(g.i)}var yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(g,S){if(g){g=g.split("&");for(let w=0;w<g.length;w++){const R=g[w].indexOf("=");let Y,W=null;R>=0?(Y=g[w].substring(0,R),W=g[w].substring(R+1)):Y=g[w],S(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Rn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof Rn?(this.l=g.l,Yt(this,g.j),this.o=g.o,this.g=g.g,Os(this,g.u),this.h=g.h,vl(this,Tc(g.i)),this.m=g.m):g&&(S=String(g).match(yc))?(this.l=!1,Yt(this,S[1]||"",!0),this.o=Mi(S[2]||""),this.g=Mi(S[3]||"",!0),Os(this,S[4]),this.h=Mi(S[5]||"",!0),vl(this,S[6]||"",!0),this.m=Mi(S[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Rn.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(Jr(S,Ba,!0),":");var w=this.g;return(w||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Jr(S,Ba,!0),"@"),g.push(Zi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&g.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(Jr(w,w.charAt(0)=="/"?El:_c,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",Jr(w,vc)),g.join("")},Rn.prototype.resolve=function(g){const S=kt(this);let w=!!g.j;w?Yt(S,g.j):w=!!g.o,w?S.o=g.o:w=!!g.g,w?S.g=g.g:w=g.u!=null;var R=g.h;if(w)Os(S,g.u);else if(w=!!g.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=S.h.lastIndexOf("/");Y!=-1&&(R=S.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const W=[];for(let ue=0;ue<Y.length;){const Ne=Y[ue++];Ne=="."?R&&ue==Y.length&&W.push(""):Ne==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&ue==Y.length&&W.push("")):(W.push(Ne),R=!0)}R=W.join("/")}else R=Y}return w?S.h=R:w=g.i.toString()!=="",w?vl(S,Tc(g.i)):w=!!g.m,w&&(S.m=g.m),S};function kt(g){return new Rn(g)}function Yt(g,S,w){g.j=w?Mi(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Os(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function vl(g,S,w){S instanceof Bs?(g.i=S,Fa(g.i,g.l)):(w||(S=Jr(S,zs)),g.i=new Bs(S,g.l))}function tt(g,S,w){g.i.set(S,w)}function $r(g){return tt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Mi(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Jr(g,S,w){return typeof g=="string"?(g=encodeURI(g).replace(S,_n),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function _n(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ba=/[#\/\?@]/g,_c=/[#\?:]/g,El=/[#\?]/g,zs=/[#\?@]/g,vc=/#/g;function Bs(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function vn(g){g.g||(g.g=new Map,g.h=0,g.i&&za(g.i,function(S,w){g.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}n=Bs.prototype,n.add=function(g,S){vn(this),this.i=null,g=qs(this,g);let w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(S),this.h+=1,this};function Ec(g,S){vn(g),S=qs(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function Tl(g,S){return vn(g),S=qs(g,S),g.g.has(S)}n.forEach=function(g,S){vn(this),this.g.forEach(function(w,R){w.forEach(function(Y){g.call(S,Y,R,this)},this)},this)};function Sl(g,S){vn(g);let w=[];if(typeof S=="string")Tl(g,S)&&(w=w.concat(g.g.get(qs(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)w=w.concat(g[S]);return w}n.set=function(g,S){return vn(this),this.i=null,g=qs(this,g),Tl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},n.get=function(g,S){return g?(g=Sl(this,g),g.length>0?String(g[0]):S):S};function qa(g,S,w){Ec(g,S),w.length>0&&(g.i=null,g.g.set(qs(g,S),I(w)),g.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let R=0;R<S.length;R++){var w=S[R];const Y=Zi(w);w=Sl(this,w);for(let W=0;W<w.length;W++){let ue=Y;w[W]!==""&&(ue+="="+Zi(w[W])),g.push(ue)}}return this.i=g.join("&")};function Tc(g){const S=new Bs;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function qs(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Fa(g,S){S&&!g.j&&(vn(g),g.i=null,g.g.forEach(function(w,R){const Y=R.toLowerCase();R!=Y&&(Ec(this,R),qa(this,Y,w))},g)),g.j=S}function oi(g,S){const w=new si;if(u.Image){const R=new Image;R.onload=_(qn,w,"TestLoadImage: loaded",!0,S,R),R.onerror=_(qn,w,"TestLoadImage: error",!1,S,R),R.onabort=_(qn,w,"TestLoadImage: abort",!1,S,R),R.ontimeout=_(qn,w,"TestLoadImage: timeout",!1,S,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=g}else S(!1)}function Al(g,S){const w=new si,R=new AbortController,Y=setTimeout(()=>{R.abort(),qn(w,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:R.signal}).then(W=>{clearTimeout(Y),W.ok?qn(w,"TestPingServer: ok",!0,S):qn(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),qn(w,"TestPingServer: error",!1,S)})}function qn(g,S,w,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(w)}catch{}}function Fs(){this.g=new lc}function Di(g){this.i=g.Sb||null,this.h=g.ab||!1}T(Di,uc),Di.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(g,S){Mt.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Qr,Mt),n=Qr.prototype,n.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,li(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Hs(this):li(this),this.readyState==3&&Ha(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,Hs(this))},n.Na=function(g){this.g&&(this.response=g,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,li(g)}n.setRequestHeader=function(g,S){this.A.append(g,S)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=S.next();return g.join(`\r
`)};function li(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Fn(g){let S="";return Le(g,function(w,R){S+=R,S+=":",S+=w,S+=`\r
`}),S}function Wr(g,S,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Fn(w),typeof g=="string"?w!=null&&Zi(w):tt(g,S,w))}function st(g){Mt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(st,Mt);var Pi=/^https?$/i,Cl=["POST","PUT"];n=st.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,S,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(W){Xr(this,W);return}if(g=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)w.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())w.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),Y=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Cl,S,void 0)>=0)||R||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of w)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(W){Xr(this,W)}};function Xr(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,wl(g),es(g)}function wl(g){g.A||(g.A=!0,Ht(g,"complete"),Ht(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Ht(this,"complete"),Ht(this,"abort"),es(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),st.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},n.Xa=function(){Zr(this)};function Zr(g){if(g.h&&typeof o<"u"){if(g.v&&ui(g)==4)setTimeout(g.Ca.bind(g),0);else if(Ht(g,"readystatechange"),ui(g)==4){g.h=!1;try{const W=g.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var R;if(R=W===0){let ue=String(g.D).match(yc)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),R=!Pi.test(ue?ue.toLowerCase():"")}w=R}if(w)Ht(g,"complete"),Ht(g,"success");else{g.o=6;try{var Y=ui(g)>2?g.g.statusText:""}catch{Y=""}g.l=Y+" ["+g.ca()+"]",wl(g)}}finally{es(g)}}}}function es(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const w=g.g;g.g=null,S||Ht(g,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ui(g){return g.g?g.g.readyState:0}n.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),dh(S)}};function Wt(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(g){const S={};g=(g.g&&ui(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<g.length;R++){if(P(g[R]))continue;var w=pc(g[R]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=S[Y]||[];S[Y]=W,W.push(w)}Ye(S,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(g,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||S}function Gs(g){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,g),this.Za=Ui("retryDelaySeedMs",1e4,g),this.Ta=Ui("forwardChannelMaxRetries",2,g),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(g&&g.concurrentRequestLimit),this.Ba=new Fs,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Gs.prototype,n.ka=8,n.I=1,n.connect=function(g,S,w,R){Dt(0),this.W=g,this.H=S||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Rc(this,null,this.W),ki(this)};function Il(g){if(Ga(g),g.I==3){var S=g.V++,w=kt(g.J);if(tt(w,"SID",g.M),tt(w,"RID",S),tt(w,"TYPE","terminate"),ea(g,w),S=new ri(g,g.j,S),S.M=2,S.A=$r(kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=S.A,w=!0),w||(S.g=bc(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Ii(S)}xc(g)}function Ks(g){g.g&&(Rl(g),g.g.cancel(),g.g=null)}function Ga(g){Ks(g),g.v&&(u.clearTimeout(g.v),g.v=null),ja(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function ki(g){if(!ml(g.h)&&!g.m){g.m=!0;var S=g.Ea;ce||N(),de||(ce(),de=!0),M.add(S,g),g.D=0}}function Ka(g,S){return bi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Ai(p(g.Ea,g,S),Ic(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Y=new ri(this,this.j,g);let W=this.o;if(this.U&&(W?(W=D(W),oe(W,this.U)):W=this.U),this.u!==null||this.R||(Y.J=W,W=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(S+=R,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=Sc(this,Y,S),w=kt(this.J),tt(w,"RID",g),tt(w,"CVER",22),this.G&&tt(w,"X-HTTP-Session-Id",this.G),ea(this,w),W&&(this.R?S="headers="+Zi(Fn(W))+"&"+S:this.u&&Wr(w,this.u,W)),gl(this.h,Y),this.Ra&&tt(w,"TYPE","init"),this.S?(tt(w,"$req",S),tt(w,"SID","null"),Y.U=!0,wi(Y,w,null)):wi(Y,w,S),this.I=2}}else this.I==3&&(g?xl(this,g):this.i.length==0||ml(this.h)||xl(this))};function xl(g,S){var w;S?w=S.l:w=g.V++;const R=kt(g.J);tt(R,"SID",g.M),tt(R,"RID",w),tt(R,"AID",g.K),ea(g,R),g.u&&g.o&&Wr(R,g.u,g.o),w=new ri(g,g.j,w,g.D+1),g.u===null&&(w.J=g.o),S&&(g.i=S.G.concat(g.i)),S=Sc(g,w,1e3),w.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),gl(g.h,w),wi(w,R,S)}function ea(g,S){g.H&&Le(g.H,function(w,R){tt(S,R,w)}),g.l&&Le({},function(w,R){tt(S,R,w)})}function Sc(g,S,w){w=Math.min(g.i.length,w);const R=g.l?p(g.l.Ka,g.l,g):null;e:{var Y=g.i;let Ne=-1;for(;;){const wt=["count="+w];Ne==-1?w>0?(Ne=Y[0].g,wt.push("ofs="+Ne)):Ne=0:wt.push("ofs="+Ne);let We=!0;for(let gt=0;gt<w;gt++){var W=Y[gt].g;const Hn=Y[gt].map;if(W-=Ne,W<0)Ne=Math.max(0,Y[gt].g-100),We=!1;else try{W="req"+W+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Li,ci]of ue){let di=ci;d(ci)&&(di=Ls(ci)),wt.push(W+Li+"="+encodeURIComponent(di))}}catch(Li){throw wt.push(W+"type="+encodeURIComponent("_badmap")),Li}}catch{R&&R(Hn)}}if(We){ue=wt.join("&");break e}}ue=void 0}return g=g.i.splice(0,w),S.G=g,ue}function Ac(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;ce||N(),de||(ce(),de=!0),M.add(S,g),g.A=0}}function ta(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Ai(p(g.Da,g),Ic(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,Cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Ai(p(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Ks(this),Cc(this))};function Rl(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function Cc(g){g.g=new ri(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=kt(g.na);tt(S,"RID","rpc"),tt(S,"SID",g.M),tt(S,"AID",g.K),tt(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&tt(S,"TO",g.ia),tt(S,"TYPE","xmlhttp"),ea(g,S),g.u&&g.o&&Wr(S,g.u,g.o),g.O&&(g.g.H=g.O);var w=g.g;g=g.ba,w.M=1,w.A=$r(kt(S)),w.u=null,w.R=!0,La(w,g)}n.Va=function(){this.C!=null&&(this.C=null,Ks(this),ta(this),Dt(19))};function ja(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function wc(g,S){var w=null;if(g.g==S){ja(g),Rl(g),g.g=null;var R=2}else if(Ni(g.h,S))w=S.G,yl(g.h,S),R=1;else return;if(g.I!=0){if(S.o)if(R==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var Y=g.D;R=Va(),Ht(R,new Si(R,w)),ki(g)}else Ac(g);else if(Y=S.m,Y==3||Y==0&&S.X>0||!(R==1&&Ka(g,S)||R==2&&ta(g)))switch(w&&w.length>0&&(S=g.h,S.i=S.i.concat(w)),Y){case 1:Vi(g,5);break;case 4:Vi(g,10);break;case 3:Vi(g,6);break;default:Vi(g,2)}}}function Ic(g,S){let w=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(w*=2),w*S}function Vi(g,S){if(g.j.info("Error code "+S),S==2){var w=p(g.bb,g),R=g.Ua;const Y=!R;R=new Rn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yt(R,"https"),$r(R),Y?oi(R.toString(),w):Al(R.toString(),w)}else Dt(2);g.I=0,g.l&&g.l.pa(S),xc(g),Ga(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function xc(g){if(g.I=0,g.ja=[],g.l){const S=_l(g.h);(S.length!=0||g.i.length!=0)&&(U(g.ja,S),U(g.ja,g.i),g.h.i.length=0,I(g.i),g.i.length=0),g.l.oa()}}function Rc(g,S,w){var R=w instanceof Rn?kt(w):new Rn(w);if(R.g!="")S&&(R.g=S+"."+R.g),Os(R,R.u);else{var Y=u.location;R=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;const W=new Rn(null);R&&Yt(W,R),S&&(W.g=S),Y&&Os(W,Y),w&&(W.h=w),R=W}return w=g.G,S=g.wa,w&&S&&tt(R,w,S),tt(R,"VER",g.ka),ea(g,R),R}function bc(g,S,w){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new st(new Di({ab:w})):new st(g.ma),S.Fa(g.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}n=Nc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function js(){}js.prototype.g=function(g,S){return new pn(g,S)};function pn(g,S){Mt.call(this),this.g=new Gs(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!P(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new ns(this)}T(pn,Mt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Il(this.g)},pn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.v&&(w={},w.__data__=Ls(g),g=w);S.i.push(new Ut(S.Ya++,g)),S.I==3&&ki(S)},pn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,pn.Z.N.call(this)};function Mc(g){Qt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const w in S){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}T(Mc,Qt);function Dc(){zn.call(this),this.status=1}T(Dc,zn);function ns(g){this.g=g}T(ns,Nc),ns.prototype.ra=function(){Ht(this.g,"a")},ns.prototype.qa=function(g){Ht(this.g,new Mc(g))},ns.prototype.pa=function(g){Ht(this.g,new Dc)},ns.prototype.oa=function(){Ht(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,cC=function(){return new js},uC=function(){return Va()},lC=Ct,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,jd=jr,fl.COMPLETE="complete",oC=fl,cc.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,yu=cc,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,aC=st}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",DE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new xg("@firebase/firestore");function Co(){return wa.logLevel}function me(n,...e){if(wa.logLevel<=qe.DEBUG){const t=e.map(Ng);wa.debug(`Firestore (${Qo}): ${n}`,...t)}}function Is(n,...e){if(wa.logLevel<=qe.ERROR){const t=e.map(Ng);wa.error(`Firestore (${Qo}): ${n}`,...t)}}function zo(n,...e){if(wa.logLevel<=qe.WARN){const t=e.map(Ng);wa.warn(`Firestore (${Qo}): ${n}`,...t)}}function Ng(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,dC(n,i,t)}function dC(n,e,t){let i=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Is(i),new Error(i)}function et(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||dC(e,a,i)}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ln.UNAUTHENTICATED)))}shutdown(){}}class ZM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class eD{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ss,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ss)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string",31837,{l:i}),new fC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class tD{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nD{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new tD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){et(this.o===void 0,3512);const i=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new PE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=sD(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%62))}return i}}function Fe(n,e){return n<e?-1:n>e?1:0}function Om(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),o=e.charAt(i);if(a!==o)return Tm(a)===Tm(o)?Fe(a,o):Tm(a)?1:-1}return Fe(n.length,e.length)}const rD=55296,aD=57343;function Tm(n){const e=n.charCodeAt(0);return e>=rD&&e<=aD}function Bo(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__name__";class Fi{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ie(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const o=Fi.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Fe(e.length,t.length)}static compareSegments(e,t){const i=Fi.isNumericId(e),a=Fi.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Fi.extractNumericId(e).compare(Fi.extractNumericId(t)):Om(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class ct extends Fi{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const oD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Fi{construct(e,t,i){return new sn(e,t,i)}static isValidIdentifier(e){return oD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UE}static keyField(){return new sn([UE])}static fromServerFormat(e){const t=[];let i="",a=0;const o=()=>{if(i.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(o(),a++)}if(o(),u)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ct.fromString(e))}static fromName(e){return new Se(ct.fromString(e).popFirst(5))}static empty(){return new Se(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n,e,t){if(!t)throw new pe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lD(n,e,t,i){if(e===!0&&i===!0)throw new pe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kE(n){if(!Se.isDocumentKey(n))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VE(n){if(Se.isDocumentKey(n))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function ti(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kf(n);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e){const t={typeString:n};return e&&(t.value=e),t}function ju(n,e){if(!pC(n))throw new pe(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new pe(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=-62135596800,OE=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*OE);return new pt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LE)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ft("string",pt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new pt(0,0))}static max(){return new xe(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function uD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(i===1e9?new pt(t+1,0):new pt(t,i));return new xr(a,Se.empty(),e)}function cD(n){return new xr(n.readTime,n.key,Du)}class xr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xr(xe.min(),Se.empty(),Du)}static max(){return new xr(xe.max(),Se.empty(),Du)}}function dD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==fD)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,i)=>{t(e)}))}static reject(e){return new re(((t,i)=>{i(e)}))}static waitFor(e){return new re(((t,i)=>{let a=0,o=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++o,u&&o===a&&t()}),(h=>i(h)))})),u=!0,o===a&&t()}))}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next((a=>a?re.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,o)=>{i.push(t.call(this,a,o))})),this.waitFor(i)}static mapArray(e,t){return new re(((i,a)=>{const o=e.length,u=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next((_=>{u[p]=_,++d,d===o&&i(u)}),(_=>a(_)))}}))}static doWhile(e,t){return new re(((i,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):i()};o()}))}}function pD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function Lf(n){return n==null}function uf(n){return n===0&&1/n==-1/0}function mD(n){return typeof n=="number"&&Number.isInteger(n)&&!uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="";function gD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zE(e)),e=yD(n.get(t),e);return zE(e)}function yD(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case mC:t+="";break;default:t+=o}}return t}function zE(n){return n+mC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ur(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Od(this.root,e,this.comparator,!1)}getReverseIterator(){return new Od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Od(this.root,e,this.comparator,!0)}}class Od{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??nn.RED,this.left=a??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,o){return new nn(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,i,a,o){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new On([])}unionWith(e){let t=new Kt(sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yC("Invalid base64 string: "+o):o}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const _D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(n){if(et(!!n,39018),typeof n=="string"){let e=0;const t=_D.exec(n);if(et(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function br(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="server_timestamp",vC="__type__",EC="__previous_value__",TC="__local_write_time__";function Pg(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[vC])==null?void 0:i.stringValue)===_C}function Of(n){const e=n.mapValue.fields[EC];return Pg(e)?Of(e):e}function Pu(n){const e=Rr(n.mapValue.fields[TC].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,i,a,o,u,d,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=_}}const cf="(default)";class Uu{constructor(e,t){this.projectId=e,this.database=t||cf}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===cf}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="__type__",ED="__max__",zd={mapValue:{}},AC="__vector__",df="value";function Nr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pg(n)?4:SD(n)?9007199254740991:TD(n)?10:11:Ie(28295,{value:n})}function Ji(n,e){if(n===e)return!0;const t=Nr(n);if(t!==Nr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pu(n).isEqual(Pu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Rr(a.timestampValue),d=Rr(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return br(a.bytesValue).isEqual(br(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Rt(a.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Rt(a.integerValue)===Rt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Rt(a.doubleValue),d=Rt(o.doubleValue);return u===d?uf(u)===uf(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(BE(u)!==BE(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!Ji(u[h],d[h])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function ku(n,e){return(n.values||[]).find((t=>Ji(t,e)))!==void 0}function qo(n,e){if(n===e)return 0;const t=Nr(n),i=Nr(e);if(t!==i)return Fe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const d=Rt(o.integerValue||o.doubleValue),h=Rt(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(n,e);case 3:return FE(n.timestampValue,e.timestampValue);case 4:return FE(Pu(n),Pu(e));case 5:return Om(n.stringValue,e.stringValue);case 6:return(function(o,u){const d=br(o),h=br(u);return d.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const d=o.split("/"),h=u.split("/");for(let p=0;p<d.length&&p<h.length;p++){const _=Fe(d[p],h[p]);if(_!==0)return _}return Fe(d.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const d=Fe(Rt(o.latitude),Rt(u.latitude));return d!==0?d:Fe(Rt(o.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return HE(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var A,I,U,L;const d=o.fields||{},h=u.fields||{},p=(A=d[df])==null?void 0:A.arrayValue,_=(I=h[df])==null?void 0:I.arrayValue,T=Fe(((U=p==null?void 0:p.values)==null?void 0:U.length)||0,((L=_==null?void 0:_.values)==null?void 0:L.length)||0);return T!==0?T:HE(p,_)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===zd.mapValue&&u===zd.mapValue)return 0;if(o===zd.mapValue)return 1;if(u===zd.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=u.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let T=0;T<h.length&&T<_.length;++T){const A=Om(h[T],_[T]);if(A!==0)return A;const I=qo(d[h[T]],p[_[T]]);if(I!==0)return I}return Fe(h.length,_.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function FE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Rr(n),i=Rr(e),a=Fe(t.seconds,i.seconds);return a!==0?a:Fe(t.nanos,i.nanos)}function HE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const o=qo(t[a],i[a]);if(o)return o}return Fe(t.length,i.length)}function Fo(n){return zm(n)}function zm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Rr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return br(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const o of t.values||[])a?a=!1:i+=",",i+=zm(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${zm(t.fields[u])}`;return a+"}"})(n.mapValue):Ie(61005,{value:n})}function Yd(n){switch(Nr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(n);return e?16+Yd(e):16;case 5:return 2*n.stringValue.length;case 6:return br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Yd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Ur(i.fields,((o,u)=>{a+=o.length+Yd(u)})),a})(n.mapValue);default:throw Ie(13486,{value:n})}}function GE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bm(n){return!!n&&"integerValue"in n}function Ug(n){return!!n&&"arrayValue"in n}function KE(n){return!!n&&"nullValue"in n}function jE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function TD(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[SC])==null?void 0:i.stringValue)===AC}function Su(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ur(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Su(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Su(n.arrayValue.values[t]);return e}return{...n}}function SD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ED}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=sn.emptyPath(),i={},a=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,i,a),i={},a=[],t=d.popLast()}u?i[d.lastSegment()]=Su(u):a.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,a)}delete(e){const t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];$d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ur(t,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new In(Su(this.value))}}function CC(n){const e=[];return Ur(n.fields,((t,i)=>{const a=new sn([t]);if($d(i)){const o=CC(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,i,a,o,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new un(e,0,xe.min(),xe.min(),xe.min(),In.empty(),0)}static newFoundDocument(e,t,i,a){return new un(e,1,t,xe.min(),i,a,0)}static newNoDocument(e,t){return new un(e,2,t,xe.min(),xe.min(),In.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,xe.min(),xe.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.position=e,this.inclusive=t}}function YE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?i=Se.comparator(Se.fromName(u.referenceValue),t.key):i=qo(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function $E(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t="asc"){this.field=e,this.dir=t}}function AD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{}class qt extends wC{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new wD(e,t,i):t==="array-contains"?new RD(e,i):t==="in"?new bD(e,i):t==="not-in"?new ND(e,i):t==="array-contains-any"?new MD(e,i):new qt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ID(e,i):new xD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qo(t,this.value)):t!==null&&Nr(this.value)===Nr(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends wC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _i(e,t)}matches(e){return IC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IC(n){return n.op==="and"}function xC(n){return CD(n)&&IC(n)}function CD(n){for(const e of n.filters)if(e instanceof _i)return!1;return!0}function qm(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Fo(n.value);if(xC(n))return n.filters.map((e=>qm(e))).join(",");{const e=n.filters.map((t=>qm(t))).join(",");return`${n.op}(${e})`}}function RC(n,e){return n instanceof qt?(function(i,a){return a instanceof qt&&i.op===a.op&&i.field.isEqual(a.field)&&Ji(i.value,a.value)})(n,e):n instanceof _i?(function(i,a){return a instanceof _i&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,d)=>o&&RC(u,a.filters[d])),!0):!1})(n,e):void Ie(19439)}function bC(n){return n instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`})(n):n instanceof _i?(function(t){return t.op.toString()+" {"+t.getFilters().map(bC).join(" ,")+"}"})(n):"Filter"}class wD extends qt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class ID extends qt{constructor(e,t){super(e,"in",t),this.keys=NC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xD extends qt{constructor(e,t){super(e,"not-in",t),this.keys=NC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function NC(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Se.fromName(i.referenceValue)))}class RD extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ug(t)&&ku(t.arrayValue,this.value)}}class bD extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class ND extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class MD extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ku(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t=null,i=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Te=null}}function JE(n,e=null,t=[],i=[],a=null,o=null,u=null){return new DD(n,e,t,i,a,o,u)}function kg(n){const e=be(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>qm(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Fo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Fo(i))).join(",")),e.Te=t}return e.Te}function Vg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$E(n.startAt,e.startAt)&&$E(n.endAt,e.endAt)}function Fm(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t=null,i=[],a=[],o=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PD(n,e,t,i,a,o,u,d){return new Yu(n,e,t,i,a,o,u,d)}function Lg(n){return new Yu(n)}function QE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MC(n){return n.collectionGroup!==null}function Au(n){const e=be(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Kt(sn.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new hf(o,i))})),t.has(sn.keyField().canonicalString())||e.Ie.push(new hf(sn.keyField(),i))}return e.Ie}function Hi(n){const e=be(n);return e.Ee||(e.Ee=UD(e,Au(n))),e.Ee}function UD(n,e){if(n.limitType==="F")return JE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new hf(a.field,o)}));const t=n.endAt?new ff(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ff(n.startAt.position,n.startAt.inclusive):null;return JE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Hm(n,e){const t=n.filters.concat([e]);return new Yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gm(n,e,t){return new Yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zf(n,e){return Vg(Hi(n),Hi(e))&&n.limitType===e.limitType}function DC(n){return`${kg(Hi(n))}|lt:${n.limitType}`}function wo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>bC(a))).join(", ")}]`),Lf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Fo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Fo(a))).join(",")),`Target(${i})`})(Hi(n))}; limitType=${n.limitType})`}function Bf(n,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Se.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,a){for(const o of Au(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(u,d,h){const p=YE(u,d,h);return u.inclusive?p<=0:p<0})(i.startAt,Au(i),a)||i.endAt&&!(function(u,d,h){const p=YE(u,d,h);return u.inclusive?p>=0:p>0})(i.endAt,Au(i),a))})(n,e)}function kD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PC(n){return(e,t)=>{let i=!1;for(const a of Au(n)){const o=VD(a,e,t);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function VD(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(o,u,d){const h=u.data.field(o),p=d.data.field(o);return h!==null&&p!==null?qo(h,p):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((t,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return gC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Et(Se.comparator);function xs(){return LD}const UC=new Et(Se.comparator);function _u(...n){let e=UC;for(const t of n)e=e.insert(t.key,t);return e}function kC(n){let e=UC;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function va(){return Cu()}function VC(){return Cu()}function Cu(){return new Na((n=>n.toString()),((n,e)=>n.isEqual(e)))}const OD=new Et(Se.comparator),zD=new Kt(Se.comparator);function He(...n){let e=zD;for(const t of n)e=e.add(t);return e}const BD=new Kt(Fe);function qD(){return BD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function LC(n){return{integerValue:""+n}}function OC(n,e){return mD(e)?LC(e):Og(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function FD(n,e,t){return n instanceof pf?(function(a,o){const u={fields:{[vC]:{stringValue:_C},[TC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Pg(o)&&(o=Of(o)),o&&(u.fields[EC]=o),{mapValue:u}})(t,e):n instanceof Vu?BC(n,e):n instanceof Lu?qC(n,e):(function(a,o){const u=zC(a,o),d=WE(u)+WE(a.Ae);return Bm(u)&&Bm(a.Ae)?LC(d):Og(a.serializer,d)})(n,e)}function HD(n,e,t){return n instanceof Vu?BC(n,e):n instanceof Lu?qC(n,e):t}function zC(n,e){return n instanceof Ou?(function(i){return Bm(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class pf extends qf{}class Vu extends qf{constructor(e){super(),this.elements=e}}function BC(n,e){const t=FC(e);for(const i of n.elements)t.some((a=>Ji(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Lu extends qf{constructor(e){super(),this.elements=e}}function qC(n,e){let t=FC(e);for(const i of n.elements)t=t.filter((a=>!Ji(a,i)));return{arrayValue:{values:t}}}class Ou extends qf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function WE(n){return Rt(n.integerValue||n.doubleValue)}function FC(n){return Ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t){this.field=e,this.transform=t}}function KD(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof Vu&&a instanceof Vu||i instanceof Lu&&a instanceof Lu?Bo(i.elements,a.elements,Ji):i instanceof Ou&&a instanceof Ou?Ji(i.Ae,a.Ae):i instanceof pf&&a instanceof pf})(n.transform,e.transform)}class jD{constructor(e,t){this.version=e,this.transformResults=t}}class gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ff{}function HC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hf(n.key,gn.none()):new $u(n.key,n.data,gn.none());{const t=n.data,i=In.empty();let a=new Kt(sn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new kr(n.key,i,new On(a.toArray()),gn.none())}}function YD(n,e,t){n instanceof $u?(function(a,o,u){const d=a.value.clone(),h=ZE(a.fieldTransforms,o,u.transformResults);d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof kr?(function(a,o,u){if(!Jd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=ZE(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(GC(a)),h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function wu(n,e,t,i){return n instanceof $u?(function(o,u,d,h){if(!Jd(o.precondition,u))return d;const p=o.value.clone(),_=eT(o.fieldTransforms,h,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,i):n instanceof kr?(function(o,u,d,h){if(!Jd(o.precondition,u))return d;const p=eT(o.fieldTransforms,h,u),_=u.data;return _.setAll(GC(o)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((T=>T.field)))})(n,e,t,i):(function(o,u,d){return Jd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function $D(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=zC(i.transform,a||null);o!=null&&(t===null&&(t=In.empty()),t.set(i.field,o))}return t||null}function XE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Bo(i,a,((o,u)=>KD(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class $u extends Ff{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class kr extends Ff{constructor(e,t,i,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function ZE(n,e,t){const i=new Map;et(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);i.set(o.field,HD(u,d,t[a]))}return i}function eT(n,e,t){const i=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);i.set(a.field,FD(o,u,e))}return i}class Hf extends Ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JD extends Ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&YD(o,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=wu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=wu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=VC();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const h=HC(u,d);h!==null&&i.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((t,i)=>XE(t,i)))&&Bo(this.baseMutations,e.baseMutations,((t,i)=>XE(t,i)))}}class zg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){et(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return OD})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new zg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ke;function ZD(n){switch(n){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function KC(n){if(n===void 0)return Is("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Bt.OK:return ie.OK;case Bt.CANCELLED:return ie.CANCELLED;case Bt.UNKNOWN:return ie.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ie.INTERNAL;case Bt.UNAVAILABLE:return ie.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ie.NOT_FOUND;case Bt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Bt.ABORTED:return ie.ABORTED;case Bt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Bt.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:n})}}(Ke=Bt||(Bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new wr([4294967295,4294967295],0);function tT(n){const e=eP().encode(n),t=new rC;return t.update(e),new Uint8Array(t.digest())}function nT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wr([t,i],0),new wr([a,o],0)]}class Bg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vu(`Invalid padding: ${t}`);if(i<0)throw new vu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new vu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=wr.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(wr.fromNumber(i)));return a.compare(tP)===1&&(a=new wr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=tT(e),[i,a]=nT(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Bg(o,a,t);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=tT(e),[i,a]=nT(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t,i,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ju.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Gf(xe.min(),a,new Et(Fe),xs(),He())}}class Ju{constructor(e,t,i,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ju(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class jC{constructor(e,t){this.targetId=e,this.Ce=t}}class YC{constructor(e,t,i=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class iT{constructor(){this.ve=0,this.Fe=sT(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),i=He();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:o})}})),new Ju(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=sT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nP{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=Bd(),this.He=Bd(),this.Ye=new Et(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(Fm(o))if(i===0){const u=new Se(o.path);this.et(t,u,un.newNoDocument(u,xe.min()))}else et(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const d=this.ut(e),h=d?this.ct(d,e,u):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=br(i).toUint8Array()}catch(h){if(h instanceof yC)return zo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Bg(u,a,o)}catch(h){return zo(h instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const d=this.ot(u);if(d){if(o.current&&Fm(d.target)){const h=new Se(d.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,un.newNoDocument(h,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let i=He();this.He.forEach(((o,u)=>{let d=!0;u.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Gf(e,t,this.Ye,this.je,i);return this.je=xs(),this.Je=Bd(),this.He=Bd(),this.Ye=new Et(Fe),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new iT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Kt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Kt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bd(){return new Et(Se.comparator)}function sT(){return new Et(Se.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},sP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rP={and:"AND",or:"OR"};class aP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Km(n,e){return n.useProto3Json||Lf(e)?e:{value:e}}function mf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $C(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oP(n,e){return mf(n,e.toTimestamp())}function Gi(n){return et(!!n,49232),xe.fromTimestamp((function(t){const i=Rr(t);return new pt(i.seconds,i.nanos)})(n))}function qg(n,e){return jm(n,e).canonicalString()}function jm(n,e){const t=(function(a){return new ct(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function JC(n){const e=ct.fromString(n);return et(ew(e),10190,{key:e.toString()}),e}function Ym(n,e){return qg(n.databaseId,e.path)}function Sm(n,e){const t=JC(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(WC(t))}function QC(n,e){return qg(n.databaseId,e)}function lP(n){const e=JC(n);return e.length===4?ct.emptyPath():WC(e)}function $m(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WC(n){return et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rT(n,e,t){return{name:Ym(n,e),fields:t.value.mapValue.fields}}function uP(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,_){return p.useProto3Json?(et(_===void 0||typeof _=="string",58123),rn.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),rn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const _=p.code===void 0?ie.UNKNOWN:KC(p.code);return new pe(_,p.message||"")})(u);t=new YC(i,a,o,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Sm(n,i.document.name),o=Gi(i.document.updateTime),u=i.document.createTime?Gi(i.document.createTime):xe.min(),d=new In({mapValue:{fields:i.document.fields}}),h=un.newFoundDocument(a,o,u,d),p=i.targetIds||[],_=i.removedTargetIds||[];t=new Qd(p,_,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Sm(n,i.document),o=i.readTime?Gi(i.readTime):xe.min(),u=un.newNoDocument(a,o),d=i.removedTargetIds||[];t=new Qd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Sm(n,i.document),o=i.removedTargetIds||[];t=new Qd([],o,a,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new XD(a,o),d=i.targetId;t=new jC(d,u)}}return t}function cP(n,e){let t;if(e instanceof $u)t={update:rT(n,e.key,e.value)};else if(e instanceof Hf)t={delete:Ym(n,e.key)};else if(e instanceof kr)t={update:rT(n,e.key,e.data),updateMask:vP(e.fieldMask)};else{if(!(e instanceof JD))return Ie(16599,{Vt:e.type});t={verify:Ym(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const d=u.transform;if(d instanceof pf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ou)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:oP(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie(27497)})(n,e.precondition)),t}function dP(n,e){return n&&n.length>0?(et(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?Gi(a.updateTime):Gi(o);return u.isEqual(xe.min())&&(u=Gi(o)),new jD(u,a.transformResults||[])})(t,e)))):[]}function fP(n,e){return{documents:[QC(n,e.path)]}}function hP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=QC(n,a);const o=(function(p){if(p.length!==0)return ZC(_i.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((_=>(function(A){return{field:Io(A.field),direction:gP(A.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Km(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function pP(n){let e=lP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){et(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let o=[];t.where&&(o=(function(T){const A=XC(T);return A instanceof _i&&xC(A)?A.getFilters():[A]})(t.where));let u=[];t.orderBy&&(u=(function(T){return T.map((A=>(function(U){return new hf(xo(U.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let A;return A=typeof T=="object"?T.value:T,Lf(A)?null:A})(t.limit));let h=null;t.startAt&&(h=(function(T){const A=!!T.before,I=T.values||[];return new ff(I,A)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const A=!T.before,I=T.values||[];return new ff(I,A)})(t.endAt)),PD(e,a,u,o,d,"F",h,p)}function mP(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function XC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xo(t.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xo(t.unaryFilter.field);return qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xo(t.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qt.create(xo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _i.create(t.compositeFilter.filters.map((i=>XC(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function gP(n){return iP[n]}function yP(n){return sP[n]}function _P(n){return rP[n]}function Io(n){return{fieldPath:n.canonicalString()}}function xo(n){return sn.fromServerFormat(n.fieldPath)}function ZC(n){return n instanceof qt?(function(t){if(t.op==="=="){if(jE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(KE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(KE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:yP(t.op),value:t.value}}})(n):n instanceof _i?(function(t){const i=t.getFilters().map((a=>ZC(a)));return i.length===1?i[0]:{compositeFilter:{op:_P(t.op),filters:i}}})(n):Ie(54877,{filter:n})}function vP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ew(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t,i,a,o=xe.min(),u=xe.min(),d=rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.yt=e}}function TP(n){const e=pP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Cn=new AP}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(xr.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class AP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Kt(ct.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Kt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tw=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(tw,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="LruGarbageCollector",CP=1048576;function lT([n,e],[t,i]){const a=Fe(n,t);return a===0?Fe(e,i):a}class wP{constructor(e){this.Ir=e,this.buffer=new Kt(lT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(oT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?me(oT,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Vr(3e5)}))}}class xP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Vf.ce);const i=new wP(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(aT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,o,u,d,h,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,d=Date.now(),this.removeTargets(e,i,t)))).next((T=>(o=T,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(p=Date.now(),Co()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${T} documents in `+(p-h)+`ms
Total Duration: ${p-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:T}))))}}function RP(n,e){return new xP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.changes=new Na((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&wu(i.mutation,a,On.empty(),pt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,He()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=He()){const a=va();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((o=>{let u=_u();return o.forEach(((d,h)=>{u=u.insert(d,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=va();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,He())))}populateOverlays(e,t,i){const a=[];return i.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,i,a){let o=xs();const u=Cu(),d=(function(){return Cu()})();return t.forEach(((h,p)=>{const _=i.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof kr)?o=o.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),wu(_.mutation,p,_.mutation.getFieldMask(),pt.now())):u.set(p.key,On.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,_)=>u.set(p,_))),t.forEach(((p,_)=>d.set(p,new NP(_,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Cu();let a=new Et(((u,d)=>u-d)),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let _=i.get(h)||On.empty();_=d.applyToLocalView(p,_),i.set(h,_);const T=(a.get(d.batchId)||He()).add(h);a=a.insert(d.batchId,T)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,_=h.value,T=VC();_.forEach((A=>{if(!o.has(A)){const I=HC(t.get(A),i.get(A));I!==null&&T.set(A,I),o=o.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,T))}return re.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-o.size):re.resolve(va());let d=Du,h=o;return u.next((p=>re.forEach(p,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),o.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{h=h.insert(_,A)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,He()))).next((_=>({batchId:d,changes:kC(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((i=>{let a=_u();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const o=t.collectionGroup;let u=_u();return this.indexManager.getCollectionParents(e,o).next((d=>re.forEach(d,(h=>{const p=(function(T,A){return new Yu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((_=>{_.forEach(((T,A)=>{u=u.insert(T,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,a)))).next((u=>{o.forEach(((h,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,un.newInvalidDocument(_)))}));let d=_u();return u.forEach(((h,p)=>{const _=o.get(h);_!==void 0&&wu(_.mutation,p,On.empty(),pt.now()),Bf(t,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:TP(a.bundledQuery),readTime:Gi(a.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.overlays=new Et(Se.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=va();return re.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,o)=>{this.St(e,t,o)})),re.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const a=va(),o=t.length+1,u=new Se(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>i&&a.set(h.getKey(),h)}return re.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let o=new Et(((p,_)=>p-_));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let _=o.get(p.largestBatchId);_===null&&(_=va(),o=o.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=va(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,_)=>d.set(p,_))),!(d.size()>=a)););return re.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new WD(t,i));let o=this.qr.get(t);o===void 0&&(o=He(),this.qr.set(t,o)),this.qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Qr=new Kt(Jt.$r),this.Ur=new Kt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Jt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Se(new ct([])),i=new Jt(t,e),a=new Jt(t,e+1),o=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new ct([])),i=new Jt(t,e),a=new Jt(t,e+1);let o=He();return this.Ur.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Jt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Jt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new QD(o,t,i,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Jt(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),o=a<0?0:a;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Dg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Jt(t,0),a=new Jt(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(u=>{const d=this.Xr(u.Yr);o.push(d)})),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Kt(Fe);return t.forEach((a=>{const o=new Jt(a,0),u=new Jt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(d=>{i=i.add(d.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let o=i;Se.isDocumentKey(o)||(o=o.child(""));const u=new Jt(new Se(o),0);let d=new Kt(Fe);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.Yr)),!0)}),u),re.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){et(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(t.mutations,(a=>{const o=new Jt(a.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Jt(t,0),a=this.Zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.ri=e,this.docs=(function(){return new Et(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),o=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let i=xs();return t.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():un.newInvalidDocument(a))})),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let o=xs();const u=t.path,d=new Se(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:_}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||dD(cD(_),i)<=0||(a.has(_.key)||Bf(t,_))&&(o=o.insert(_.key,_.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,t,i,a){Ie(9500)}ii(e,t){return re.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new LP(this)}getSize(e){return re.resolve(this.size)}}class LP extends bP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.persistence=e,this.si=new Na((t=>kg(t)),Vg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let a=0;const o=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),re.waitFor(o).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),re.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Vf(0),this.li=!1,this.li=!0,this.hi=new UP,this.referenceDelegate=e(this),this.Pi=new OP(this),this.indexManager=new SP,this.remoteDocumentCache=(function(a){return new VP(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new EP(t),this.Ii=new DP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new kP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const a=new zP(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class zP extends hD{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new Fg,this.Vi=null}static mi(e){return new Hg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const a=Se.fromPath(i);return this.gi(e,a).next((o=>{o||t.removeEntry(a,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gf{constructor(e,t){this.persistence=e,this.pi=new Na((i=>gD(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=RP(this,t)}static mi(e,t){return new gf(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((i,a)=>this.br(e,i,a).next((o=>o?re.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((d=>{d||(i++,o.removeEntry(u,xe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yd(e.data.value)),t}br(e,t,i){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=He(),a=He();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Gg(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D1()?8:pD(dn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new BP;return this.Ss(e,t,u).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>o.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Co()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Co()<=qe.DEBUG&&me("QueryEngine","Query:",wo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Co()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):re.resolve())}ys(e,t){if(QE(t))return re.resolve(null);let i=Hi(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Gm(t,null,"F"),i=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=He(...o);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((h=>{const p=this.Ds(t,d);return this.Cs(t,p,u,h.readTime)?this.ys(e,Gm(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,i,a){return QE(t)||a.isEqual(xe.min())?re.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,i,a)?re.resolve(null):(Co()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(t)),this.vs(e,u,t,uD(a,Du)).next((d=>d)))}))}Ds(e,t){let i=new Kt(PC(e));return t.forEach(((a,o)=>{Bf(e,o)&&(i=i.add(o))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,i){return Co()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",wo(t)),this.ps.getDocumentsMatchingQuery(e,t,xr.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="LocalStore",FP=3e8;class HP{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Et(Fe),this.xs=new Na((o=>kg(o)),Vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function GP(n,e,t,i){return new HP(n,e,t,i)}async function iw(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],d=[];let h=He();for(const p of a){u.push(p.batchId);for(const _ of p.mutations)h=h.add(_.key)}for(const p of o){d.push(p.batchId);for(const _ of p.mutations)h=h.add(_.key)}return t.localDocuments.getDocuments(i,h).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function KP(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,_){const T=p.batch,A=T.keys();let I=re.resolve();return A.forEach((U=>{I=I.next((()=>_.getEntry(h,U))).next((L=>{const B=p.docVersions.get(U);et(B!==null,48541),L.version.compareTo(B)<0&&(T.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),_.addEntry(L)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(h,T)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let h=He();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function sw(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function jP(n,e){const t=be(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((_,T)=>{const A=a.get(T);if(!A)return;d.push(t.Pi.removeMatchingKeys(o,_.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(o,_.addedDocuments,T))));let I=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(rn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,i)),a=a.insert(T,I),(function(L,B,H){return L.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=FP?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(A,I,_)&&d.push(t.Pi.updateTargetData(o,I))}));let h=xs(),p=He();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,_))})),d.push(YP(o,u,e.documentUpdates).next((_=>{h=_.ks,p=_.qs}))),!i.isEqual(xe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(o).next((T=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));d.push(_)}return re.waitFor(d).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(t.Ms=a,o)))}function YP(n,e,t){let i=He(),a=He();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=xs();return t.forEach(((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(xe.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):me(Kg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{ks:u,qs:a}}))}function $P(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Dg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function JP(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((o=>o?(a=o,re.resolve(a)):t.Pi.allocateTargetId(i).next((u=>(a=new Er(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Jm(n,e,t){const i=be(n),a=i.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Xo(u))throw u;me(Kg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function uT(n,e,t){const i=be(n);let a=xe.min(),o=He();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,p,_){const T=be(h),A=T.xs.get(_);return A!==void 0?re.resolve(T.Ms.get(A)):T.Pi.getTargetData(p,_)})(i,u,Hi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next((h=>{o=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?a:xe.min(),t?o:He()))).next((d=>(QP(i,kD(e),d),{documents:d,Qs:o})))))}function QP(n,e,t){let i=n.Os.get(e)||xe.min();t.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(e,i)}class cT{constructor(){this.activeTargetIds=qD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WP{constructor(){this.Mo=new cT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="ConnectivityMonitor";class fT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(dT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function Qm(){return qd===null?qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",ZP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===cf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,o){const u=Qm(),d=this.zo(e,t.toUriEncodedString());me(Am,`Sending RPC '${e}' ${u}:`,d,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:p}=new URL(d),_=$o(p);return this.Jo(e,d,h,i,_).then((T=>(me(Am,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw zo(Am,`RPC '${e}' ${u} failed with error: `,T,"url: ",d,"request:",i),T}))}Ho(e,t,i,a,o,u){return this.Go(e,t,i,a,o)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const i=ZP[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class nU extends eU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,o){const u=Qm();return new Promise(((d,h)=>{const p=new aC;p.setWithCredentials(!0),p.listenOnce(oC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case jd.NO_ERROR:const T=p.getResponseJson();me(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case jd.TIMEOUT:me(on,`RPC '${e}' ${u} timed out`),h(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const A=p.getStatus();if(me(on,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I==null?void 0:I.error;if(U&&U.status&&U.message){const L=(function(H){const K=H.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(K)>=0?K:ie.UNKNOWN})(U.status);h(new pe(L,U.message))}else h(new pe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(on,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(a);me(on,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",_,i,15)}))}T_(e,t,i){const a=Qm(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cC(),d=uC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const _=o.join("");me(on,`Creating RPC '${e}' stream ${a}: ${_}`,h);const T=u.createWebChannel(_,h);this.I_(T);let A=!1,I=!1;const U=new tU({Yo:B=>{I?me(on,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(A||(me(on,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),me(on,`RPC '${e}' stream ${a} sending:`,B),T.send(B))},Zo:()=>T.close()}),L=(B,H,K)=>{B.listen(H,(F=>{try{K(F)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return L(T,yu.EventType.OPEN,(()=>{I||(me(on,`RPC '${e}' stream ${a} transport opened.`),U.o_())})),L(T,yu.EventType.CLOSE,(()=>{I||(I=!0,me(on,`RPC '${e}' stream ${a} transport closed`),U.a_(),this.E_(T))})),L(T,yu.EventType.ERROR,(B=>{I||(I=!0,zo(on,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),U.a_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))})),L(T,yu.EventType.MESSAGE,(B=>{var H;if(!I){const K=B.data[0];et(!!K,16349);const F=K,ae=(F==null?void 0:F.error)||((H=F[0])==null?void 0:H.error);if(ae){me(on,`RPC '${e}' stream ${a} received error:`,ae);const ce=ae.status;let de=(function(b){const V=Bt[b];if(V!==void 0)return KC(V)})(ce),M=ae.message;de===void 0&&(de=ie.INTERNAL,M="Unknown error status: "+ce+" with message "+ae.message),I=!0,U.a_(new pe(de,M)),T.close()}else me(on,`RPC '${e}' stream ${a} received:`,K),U.u_(K)}})),L(d,lC.STAT_EVENT,(B=>{B.stat===Lm.PROXY?me(on,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===Lm.NOPROXY&&me(on,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n){return new aP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,i=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="PersistentStream";class aw{constructor(e,t,i,a,o,u,d,h){this.Mi=e,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new pe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(hT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(hT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iU extends aw{constructor(e,t,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=uP(this.serializer,e),i=(function(o){if(!("targetChange"in o))return xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Gi(u.readTime):xe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=$m(this.serializer),t.addTarget=(function(o,u){let d;const h=u.target;if(d=Fm(h)?{documents:fP(o,h)}:{query:hP(o,h).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=$C(o,u.resumeToken);const p=Km(o,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(xe.min())>0){d.readTime=mf(o,u.snapshotVersion.toTimestamp());const p=Km(o,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=mP(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=$m(this.serializer),t.removeTarget=e,this.q_(t)}}class sU extends aw{constructor(e,t,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=dP(e.writeResults,e.commitTime),i=Gi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>cP(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{}class aU extends rU{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,jm(t,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ie.UNKNOWN,o.toString())}))}Ho(e,t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,jm(t,i),a,u,d,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class lU{constructor(e,t,i,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ma(this)&&(me(Ia,"Restarting streams for network reachability change."),await(async function(h){const p=be(h);p.Ea.add(4),await Qu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await jf(p)})(this))}))})),this.Ra=new oU(i,a)}}async function jf(n){if(Ma(n))for(const e of n.da)await e(!0)}async function Qu(n){for(const e of n.da)await e(!1)}function ow(n,e){const t=be(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Jg(t)?$g(t):Zo(t).O_()&&Yg(t,e))}function jg(n,e){const t=be(n),i=Zo(t);t.Ia.delete(e),i.O_()&&lw(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ma(t)&&t.Ra.set("Unknown"))}function Yg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(n).Y_(e)}function lw(n,e){n.Va.Ue(e),Zo(n).Z_(e)}function $g(n){n.Va=new nP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zo(n).start(),n.Ra.ua()}function Jg(n){return Ma(n)&&!Zo(n).x_()&&n.Ia.size>0}function Ma(n){return be(n).Ea.size===0}function uw(n){n.Va=void 0}async function uU(n){n.Ra.set("Online")}async function cU(n){n.Ia.forEach(((e,t)=>{Yg(n,e)}))}async function dU(n,e){uw(n),Jg(n)?(n.Ra.ha(e),$g(n)):n.Ra.set("Unknown")}async function fU(n,e,t){if(n.Ra.set("Online"),e instanceof YC&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(n,e)}catch(i){me(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yf(n,i)}else if(e instanceof Qd?n.Va.Ze(e):e instanceof jC?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const i=await sw(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const d=o.Va.Tt(u);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=o.Ia.get(p);_&&o.Ia.set(p,_.withResumeToken(h.resumeToken,u))}})),d.targetMismatches.forEach(((h,p)=>{const _=o.Ia.get(h);if(!_)return;o.Ia.set(h,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),lw(o,h);const T=new Er(_.target,h,p,_.sequenceNumber);Yg(o,T)})),o.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){me(Ia,"Failed to raise snapshot:",i),await yf(n,i)}}async function yf(n,e,t){if(!Xo(e))throw e;n.Ea.add(1),await Qu(n),n.Ra.set("Offline"),t||(t=()=>sw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(Ia,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await jf(n)}))}function cw(n,e){return e().catch((t=>yf(n,t,e)))}async function Yf(n){const e=be(n),t=Mr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dg;for(;hU(e);)try{const a=await $P(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,pU(e,a)}catch(a){await yf(e,a)}dw(e)&&fw(e)}function hU(n){return Ma(n)&&n.Ta.length<10}function pU(n,e){n.Ta.push(e);const t=Mr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function dw(n){return Ma(n)&&!Mr(n).x_()&&n.Ta.length>0}function fw(n){Mr(n).start()}async function mU(n){Mr(n).ra()}async function gU(n){const e=Mr(n);for(const t of n.Ta)e.ea(t.mutations)}async function yU(n,e,t){const i=n.Ta.shift(),a=zg.from(i,e,t);await cw(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Yf(n)}async function _U(n,e){e&&Mr(n).X_&&await(async function(i,a){if((function(u){return ZD(u)&&u!==ie.ABORTED})(a.code)){const o=i.Ta.shift();Mr(i).B_(),await cw(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Yf(i)}})(n,e),dw(n)&&fw(n)}async function pT(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),me(Ia,"RemoteStore received new credentials");const i=Ma(t);t.Ea.add(3),await Qu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jf(t)}async function vU(n,e){const t=be(n);e?(t.Ea.delete(2),await jf(t)):e||(t.Ea.add(2),await Qu(t),t.Ra.set("Unknown"))}function Zo(n){return n.ma||(n.ma=(function(t,i,a){const o=be(t);return o.sa(),new iU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:uU.bind(null,n),t_:cU.bind(null,n),r_:dU.bind(null,n),H_:fU.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Jg(n)?$g(n):n.Ra.set("Unknown")):(await n.ma.stop(),uw(n))}))),n.ma}function Mr(n){return n.fa||(n.fa=(function(t,i,a){const o=be(t);return o.sa(),new sU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:mU.bind(null,n),r_:_U.bind(null,n),ta:gU.bind(null,n),na:yU.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Yf(n)):(await n.fa.stop(),n.Ta.length>0&&(me(Ia,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t,i,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,o){const u=Date.now()+i,d=new Qg(e,t,u,a,o);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(n,e){if(Is("AsyncQueue",`${e}: ${n}`),Xo(n))return new pe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=_u(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new No;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.ga=new Et(Se.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Go{constructor(e,t,i,a,o,u,d,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,o){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Go(e,t,No.emptySet(t),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TU{constructor(){this.queries=gT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=be(t),o=a.queries;a.queries=gT(),o.forEach(((u,d)=>{for(const h of d.Sa)h.onError(i)}))})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function gT(){return new Na((n=>DC(n)),zf)}async function hw(n,e){const t=be(n);let i=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(i=2):(o=new EU,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=Wg(u,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Xg(t)}async function pw(n,e){const t=be(n),i=e.query;let a=3;const o=t.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function SU(n,e){const t=be(n);let i=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.Sa)d.Fa(a)&&(i=!0);u.wa=a}}i&&Xg(t)}function AU(n,e,t){const i=be(n),a=i.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);i.queries.delete(e)}function Xg(n){n.Ca.forEach((e=>{e.next()}))}var Wm,yT;(yT=Wm||(Wm={})).Ma="default",yT.Cache="cache";class mw{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.key=e}}class yw{constructor(e){this.key=e}}class CU{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=PC(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new mT,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,T)=>{const A=a.get(_),I=Bf(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let B=!1;A&&I?A.data.isEqual(I.data)?U!==L&&(i.track({type:3,doc:I}),B=!0):this.su(A,I)||(i.track({type:2,doc:I}),B=!0,(h&&this.eu(I,h)>0||p&&this.eu(I,p)<0)&&(d=!0)):!A&&I?(i.track({type:0,doc:I}),B=!0):A&&!I&&(i.track({type:1,doc:A}),B=!0,(h||p)&&(d=!0)),B&&(I?(u=u.add(I),o=L?o.add(_):o.delete(_)):(u=u.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tu:u,iu:i,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,T)=>(function(I,U){const L=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:B})}};return L(I)-L(U)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,p=h!==this.Za;return this.Za=h,u.length!==0||p?{snapshot:new Go(this.query,e.tu,o,u,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new yw(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new gw(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zg="SyncEngine";class wU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class IU{constructor(e){this.key=e,this.hu=!1}}class xU{constructor(e,t,i,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Na((d=>DC(d)),zf),this.Iu=new Map,this.Eu=new Set,this.du=new Et(Se.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RU(n,e,t=!0){const i=Aw(n);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await _w(i,e,t,!0),a}async function bU(n,e){const t=Aw(n);await _w(t,e,!0,!1)}async function _w(n,e,t,i){const a=await JP(n.localStore,Hi(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return i&&(d=await NU(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&ow(n.remoteStore,a),d}async function NU(n,e,t,i,a){n.pu=(T,A,I)=>(async function(L,B,H,K){let F=B.view.ru(H);F.Cs&&(F=await uT(L.localStore,B.query,!1).then((({documents:M})=>B.view.ru(M,F))));const ae=K&&K.targetChanges.get(B.targetId),ce=K&&K.targetMismatches.get(B.targetId)!=null,de=B.view.applyChanges(F,L.isPrimaryClient,ae,ce);return vT(L,B.targetId,de.au),de.snapshot})(n,T,A,I);const o=await uT(n.localStore,e,!0),u=new CU(e,o.Qs),d=u.ru(o.documents),h=Ju.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,h);vT(n,t,p.au);const _=new wU(e,t,u);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function MU(n,e,t){const i=be(n),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!zf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Jm(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&jg(i.remoteStore,a.targetId),Xm(i,a.targetId)})).catch(Wo)):(Xm(i,a.targetId),await Jm(i.localStore,a.targetId,!0))}async function DU(n,e){const t=be(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),jg(t.remoteStore,i.targetId))}async function PU(n,e,t){const i=BU(n);try{const a=await(function(u,d){const h=be(u),p=pt.now(),_=d.reduce(((I,U)=>I.add(U.key)),He());let T,A;return h.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=xs(),L=He();return h.Ns.getEntries(I,_).next((B=>{U=B,U.forEach(((H,K)=>{K.isValidDocument()||(L=L.add(H))}))})).next((()=>h.localDocuments.getOverlayedDocuments(I,U))).next((B=>{T=B;const H=[];for(const K of d){const F=$D(K,T.get(K.key).overlayedDocument);F!=null&&H.push(new kr(K.key,F,CC(F.value.mapValue),gn.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,H,d)})).next((B=>{A=B;const H=B.applyToLocalDocumentSet(T,L);return h.documentOverlayCache.saveOverlays(I,B.batchId,H)}))})).then((()=>({batchId:A.batchId,changes:kC(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,d,h){let p=u.Vu[u.currentUser.toKey()];p||(p=new Et(Fe)),p=p.insert(d,h),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,t),await Wu(i,a.changes),await Yf(i.remoteStore)}catch(a){const o=Wg(a,"Failed to persist write");t.reject(o)}}async function vw(n,e){const t=be(n);try{const i=await jP(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?et(u.hu,14607):a.removedDocuments.size>0&&(et(u.hu,42227),u.hu=!1))})),await Wu(t,i,e)}catch(i){await Wo(i)}}function _T(n,e,t){const i=be(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((o,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const h=be(u);h.onlineState=d;let p=!1;h.queries.forEach(((_,T)=>{for(const A of T.Sa)A.va(d)&&(p=!0)})),p&&Xg(h)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function UU(n,e,t){const i=be(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),o=a&&a.key;if(o){let u=new Et(Se.comparator);u=u.insert(o,un.newNoDocument(o,xe.min()));const d=He().add(o),h=new Gf(xe.min(),new Map,new Et(Fe),u,d);await vw(i,h),i.du=i.du.remove(o),i.Au.delete(e),ey(i)}else await Jm(i.localStore,e,!1).then((()=>Xm(i,e,t))).catch(Wo)}async function kU(n,e){const t=be(n),i=e.batch.batchId;try{const a=await KP(t.localStore,e);Tw(t,i,null),Ew(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wu(t,a)}catch(a){await Wo(a)}}async function VU(n,e,t){const i=be(n);try{const a=await(function(u,d){const h=be(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return h.mutationQueue.lookupMutationBatch(p,d).next((T=>(et(T!==null,37113),_=T.keys(),h.mutationQueue.removeMutationBatch(p,T)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>h.localDocuments.getDocuments(p,_)))}))})(i.localStore,e);Tw(i,e,t),Ew(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wu(i,a)}catch(a){await Wo(a)}}function Ew(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Tw(n,e,t){const i=be(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Xm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||Sw(n,i)}))}function Sw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(jg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ey(n))}function vT(n,e,t){for(const i of t)i instanceof gw?(n.Ru.addReference(i.key,e),LU(n,i)):i instanceof yw?(me(Zg,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Sw(n,i.key)):Ie(19791,{wu:i})}function LU(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(me(Zg,"New document in limbo: "+t),n.Eu.add(i),ey(n))}function ey(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(ct.fromString(e)),i=n.fu.next();n.Au.set(i,new IU(t)),n.du=n.du.insert(t,i),ow(n.remoteStore,new Er(Hi(Lg(t.path)),i,"TargetPurposeLimboResolution",Vf.ce))}}async function Wu(n,e,t){const i=be(n),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,h)=>{u.push(i.pu(h,e,t).then((p=>{var _;if((p||t)&&i.isPrimaryClient){const T=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:_.current;i.sharedClientState.updateQueryState(h.targetId,T?"current":"not-current")}if(p){a.push(p);const T=Gg.As(h.targetId,p);o.push(T)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(h,p){const _=be(h);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(p,(A=>re.forEach(A.Es,(I=>_.persistence.referenceDelegate.addReference(T,A.targetId,I))).next((()=>re.forEach(A.ds,(I=>_.persistence.referenceDelegate.removeReference(T,A.targetId,I)))))))))}catch(T){if(!Xo(T))throw T;me(Kg,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const I=_.Ms.get(A),U=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(A,L)}}})(i.localStore,o))}async function OU(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){me(Zg,"User change. New user:",e.toKey());const i=await iw(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new pe(ie.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wu(t,i.Ls)}}function zU(n,e){const t=be(n),i=t.Au.get(e);if(i&&i.hu)return He().add(i.key);{let a=He();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const d=t.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function Aw(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UU.bind(null,e),e.Pu.H_=SU.bind(null,e.eventManager),e.Pu.yu=AU.bind(null,e.eventManager),e}function BU(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VU.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return GP(this.persistence,new qP,e.initialUser,this.serializer)}Cu(e){return new nw(Hg.mi,this.serializer)}Du(e){return new WP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class qU extends _f{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){et(this.persistence.referenceDelegate instanceof gf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new IP(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new nw((i=>gf.mi(i,t)),this.serializer)}}class Zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_T(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OU.bind(null,this.syncEngine),await vU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TU})()}createDatastore(e){const t=Kf(e.databaseInfo.databaseId),i=(function(o){return new nU(o)})(e.databaseInfo);return(function(o,u,d,h){return new aU(o,u,d,h)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,o,u,d){return new lU(i,a,o,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>_T(this.syncEngine,t,0)),(function(){return fT.v()?new fT:new XP})())}createSyncEngine(e,t){return(function(a,o,u,d,h,p,_){const T=new xU(a,o,u,d,h,p);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const o=be(a);me(Ia,"RemoteStore shutting down."),o.Ea.add(5),await Qu(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class FU{constructor(e,t,i,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{me(Dr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(me(Dr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Wg(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function wm(n,e){n.asyncQueue.verifyOperationInProgress(),me(Dr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await iw(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function ET(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HU(n);me(Dr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>pT(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>pT(e.remoteStore,a))),n._onlineComponents=e}async function HU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Dr,"Using user provided OfflineComponentProvider");try{await wm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await wm(n,new _f)}}else me(Dr,"Using default OfflineComponentProvider"),await wm(n,new qU(void 0));return n._offlineComponents}async function ww(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Dr,"Using user provided OnlineComponentProvider"),await ET(n,n._uninitializedComponentsProvider._online)):(me(Dr,"Using default OnlineComponentProvider"),await ET(n,new Zm))),n._onlineComponents}function GU(n){return ww(n).then((e=>e.syncEngine))}async function Iw(n){const e=await ww(n),t=e.eventManager;return t.onListen=RU.bind(null,e.syncEngine),t.onUnlisten=MU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DU.bind(null,e.syncEngine),t}function KU(n,e,t={}){const i=new Ss;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,h,p){const _=new Cw({next:A=>{_.Nu(),u.enqueueAndForget((()=>pw(o,T)));const I=A.docs.has(d);!I&&A.fromCache?p.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&h&&h.source==="server"?p.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new mw(Lg(d.path),_,{includeMetadataChanges:!0,qa:!0});return hw(o,T)})(await Iw(n),n.asyncQueue,e,t,i))),i.promise}function jU(n,e,t={}){const i=new Ss;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,h,p){const _=new Cw({next:A=>{_.Nu(),u.enqueueAndForget((()=>pw(o,T))),A.fromCache&&h.source==="server"?p.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new mw(d,_,{includeMetadataChanges:!0,qa:!0});return hw(o,T)})(await Iw(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firestore.googleapis.com",ST=!0;class AT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rw,this.ssl=ST}else this.host=e.host,this.ssl=e.ssl??ST;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CP)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new XM;switch(i.type){case"firstParty":return new nD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=TT.get(t);i&&(me("ComponentProvider","Removing Datastore"),TT.delete(t),i.terminate())})(this),Promise.resolve()}}function YU(n,e,t,i={}){var p;n=ti(n,$f);const a=$o(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(WA(`https://${d}`),XA("Firestore",!0)),o.host!==Rw&&o.host!==d&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:i};if(!Aa(h,u)&&(n._setSettings(h),i.mockUserToken)){let _,T;if(typeof i.mockUserToken=="string")_=i.mockUserToken,T=ln.MOCK_USER;else{_=A1(i.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(A)}n._authCredentials=new ZM(new fC(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new el(this.firestore,e,this._query)}}class bt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ju(t,bt._jsonSchema))return new bt(e,i||null,new Se(ct.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ft("string",bt._jsonSchemaVersion),referencePath:Ft("string")};class Ir extends el{constructor(e,t,i){super(e,t,Lg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Se(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function tl(n,e,...t){if(n=Nt(n),hC("collection","path",e),n instanceof $f){const i=ct.fromString(e,...t);return VE(i),new Ir(n,null,i)}{if(!(n instanceof bt||n instanceof Ir))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return VE(i),new Ir(n.firestore,null,i)}}function fn(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=Mg.newId()),hC("doc","path",e),n instanceof $f){const i=ct.fromString(e,...t);return kE(i),new bt(n,null,new Se(i))}{if(!(n instanceof bt||n instanceof Ir))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return kE(i),new bt(n.firestore,n instanceof Ir?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="AsyncQueue";class wT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rw(this,"async_queue_retry"),this._c=()=>{const i=Cm();i&&me(CT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Cm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Cm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;me(CT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",IT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Qg.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:IT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function IT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Vr extends $f{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new wT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wT(e),this._firestoreClient=void 0,await e}}}function $U(n,e){const t=typeof n=="object"?n:nC(),i=typeof n=="string"?n:cf,a=bg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=T1("firestore");o&&YU(a,...o)}return a}function Jf(n){if(n._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JU(n),n._firestoreClient}function JU(n){var i,a,o;const e=n._freezeSettings(),t=(function(d,h,p,_){return new vD(d,h,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,xw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new FU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(rn.fromBase64String(e))}catch(t){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ft("string",Xn._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(ju(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Ft("string",Ki._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ji(e.vectorValues);throw new pe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Ft("string",ji._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=/^__.*__$/;class WU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}class bw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new kr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class ty{constructor(e,t,i,a,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nw(this.Ac)&&QU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Kf(e)}Cc(e,t,i,a=!1){return new ty({Ac:e,methodName:t,Dc:i,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zu(n){const e=n._freezeSettings(),t=Kf(n._databaseId);return new XU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ny(n,e,t,i,a,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);sy("Data must be an object, but it was:",u,i);const d=Pw(i,u);let h,p;if(o.merge)h=new On(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const _=[];for(const T of o.mergeFields){const A=eg(e,T,t);if(!u.contains(A))throw new pe(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);kw(_,A)||_.push(A)}h=new On(_),p=u.fieldTransforms.filter((T=>h.covers(T.field)))}else h=null,p=u.fieldTransforms;return new WU(new In(d),h,p)}class Wf extends Qf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wf}}class iy extends Qf{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Ou(e.serializer,OC(e.serializer,this.Fc));return new GD(e.path,t)}isEqual(e){return e instanceof iy&&this.Fc===e.Fc}}function Mw(n,e,t,i){const a=n.Cc(1,e,t);sy("Data must be an object, but it was:",a,i);const o=[],u=In.empty();Ur(i,((h,p)=>{const _=ry(e,h,t);p=Nt(p);const T=a.yc(_);if(p instanceof Wf)o.push(_);else{const A=ec(p,T);A!=null&&(o.push(_),u.set(_,A))}}));const d=new On(o);return new bw(u,d,a.fieldTransforms)}function Dw(n,e,t,i,a,o){const u=n.Cc(1,e,t),d=[eg(e,i,t)],h=[a];if(o.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)d.push(eg(e,o[A])),h.push(o[A+1]);const p=[],_=In.empty();for(let A=d.length-1;A>=0;--A)if(!kw(p,d[A])){const I=d[A];let U=h[A];U=Nt(U);const L=u.yc(I);if(U instanceof Wf)p.push(I);else{const B=ec(U,L);B!=null&&(p.push(I),_.set(I,B))}}const T=new On(p);return new bw(_,T,u.fieldTransforms)}function ZU(n,e,t,i=!1){return ec(t,n.Cc(i?4:3,e))}function ec(n,e){if(Uw(n=Nt(n)))return sy("Unsupported field value:",e,n),Pw(n,e);if(n instanceof Qf)return(function(i,a){if(!Nw(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let u=0;for(const d of i){let h=ec(d,a.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,a){if((i=Nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OC(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=pt.fromDate(i);return{timestampValue:mf(a.serializer,o)}}if(i instanceof pt){const o=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mf(a.serializer,o)}}if(i instanceof Ki)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xn)return{bytesValue:$C(a.serializer,i._byteString)};if(i instanceof bt){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ji)return(function(u,d){return{mapValue:{fields:{[SC]:{stringValue:AC},[df]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Og(d.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${kf(i)}`)})(n,e)}function Pw(n,e){const t={};return gC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(n,((i,a)=>{const o=ec(a,e.mc(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function Uw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof Ki||n instanceof Xn||n instanceof bt||n instanceof Qf||n instanceof ji)}function sy(n,e,t){if(!Uw(t)||!pC(t)){const i=kf(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function eg(n,e,t){if((e=Nt(e))instanceof Xu)return e._internalPath;if(typeof e=="string")return ry(n,e);throw vf("Field path arguments must be of type string or ",n,!1,void 0,t)}const ek=new RegExp("[~\\*/\\[\\]]");function ry(n,e,t){if(e.search(ek)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xu(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vf(n,e,t,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${i}`),u&&(h+=` in document ${a}`),h+=")"),new pe(ie.INVALID_ARGUMENT,d+n+h)}function kw(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,i,a,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ay("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tk extends Vw{data(){return super.data()}}function ay(n,e){return typeof e=="string"?ry(n,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class ik extends oy{}function Ds(n,e,...t){let i=[];e instanceof oy&&i.push(e),i=i.concat(t),(function(o){const u=o.filter((h=>h instanceof ly)).length,d=o.filter((h=>h instanceof Xf)).length;if(u>1||u>0&&d>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Xf extends ik{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Xf(e,t,i)}_apply(e){const t=this._parse(e);return Lw(e._query,t),new el(e.firestore,e.converter,Hm(e._query,t))}_parse(e){const t=Zu(e.firestore);return(function(o,u,d,h,p,_,T){let A;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){RT(T,_);const U=[];for(const L of T)U.push(xT(h,o,L));A={arrayValue:{values:U}}}else A=xT(h,o,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||RT(T,_),A=ZU(d,u,T,_==="in"||_==="not-in");return qt.create(p,_,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zf(n,e,t){const i=e,a=ay("where",n);return Xf._create(a,i,t)}class ly extends oy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ly(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const d=o.getFlattenedFilters();for(const h of d)Lw(u,h),u=Hm(u,h)})(e._query,t),new el(e.firestore,e.converter,Hm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xT(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&t.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!Se.isDocumentKey(i))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return GE(n,new Se(i))}if(t instanceof bt)return GE(n,t._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(t)}.`)}function RT(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lw(n,e){const t=(function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sk{convertValue(e,t="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ur(e,((a,o)=>{i[a]=this.convertValue(o,t)})),i}convertVectorValue(e){var i,a,o;const t=(o=(a=(i=e.fields)==null?void 0:i[df].arrayValue)==null?void 0:a.values)==null?void 0:o.map((u=>Rt(u.doubleValue)));return new ji(t)}convertGeoPoint(e){return new Ki(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Of(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=Rr(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);et(ew(i),9688,{name:e});const a=new Uu(i.get(1),i.get(3)),o=new Se(i.popFirst(5));return a.isEqual(t)||Is(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends Vw{constructor(e,t,i,a,o,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ay("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ta._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:Ft("string",Ta._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Wd extends Ta{data(e={}){return super.data(e)}}class Mo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Eu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Wd(this._firestore,this._userDataWriter,i.key,i,new Eu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const h=new Wd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new Wd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:rk(d.type),doc:h,oldIndex:p,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n){n=ti(n,bt);const e=ti(n.firestore,Vr);return KU(Jf(e),n._key).then((t=>ak(e,n,t)))}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Ft("string",Mo._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Ow extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function Xi(n){n=ti(n,el);const e=ti(n.firestore,Vr),t=Jf(e),i=new Ow(e);return nk(n._query),jU(t,n._query).then((a=>new Mo(e,i,n,a)))}function zw(n,e,t){n=ti(n,bt);const i=ti(n.firestore,Vr),a=uy(n.converter,e,t);return tc(i,[ny(Zu(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,gn.none())])}function nl(n,e,t,...i){n=ti(n,bt);const a=ti(n.firestore,Vr),o=Zu(a);let u;return u=typeof(e=Nt(e))=="string"||e instanceof Xu?Dw(o,"updateDoc",n._key,e,t,i):Mw(o,"updateDoc",n._key,e),tc(a,[u.toMutation(n._key,gn.exists(!0))])}function eh(n){return tc(ti(n.firestore,Vr),[new Hf(n._key,gn.none())])}function th(n,e){const t=ti(n.firestore,Vr),i=fn(n),a=uy(n.converter,e);return tc(t,[ny(Zu(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,gn.exists(!1))]).then((()=>i))}function tc(n,e){return(function(i,a){const o=new Ss;return i.asyncQueue.enqueueAndForget((async()=>PU(await GU(i),a,o))),o.promise})(Jf(n),e)}function ak(n,e,t){const i=t.docs.get(e._key),a=new Ow(n);return new Ta(n,a,e._key,i,new Eu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zu(e)}set(e,t,i){this._verifyNotCommitted();const a=Im(e,this._firestore),o=uy(a.converter,t,i),u=ny(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,gn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const o=Im(e,this._firestore);let u;return u=typeof(t=Nt(t))=="string"||t instanceof Xu?Dw(this._dataReader,"WriteBatch.update",o._key,t,i,a):Mw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Im(e,this._firestore);return this._mutations=this._mutations.concat(new Hf(t._key,gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Im(n,e){if((n=Nt(n)).firestore!==e)throw new pe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function lk(n){return new iy("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){return Jf(n=ti(n,Vr)),new ok(n,(e=>tc(n,e)))}(function(e,t=!0){(function(a){Qo=a})(Jo),Oo(new Ca("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),d=new Vr(new eD(i.getProvider("auth-internal")),new iD(u,i.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(p.options.projectId,_)})(u,a),u);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Cr(ME,DE,e),Cr(ME,DE,"esm2020")})();function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uk=Bw,qw=new Gu("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new xg("@firebase/auth");function ck(n,...e){Ef.logLevel<=qe.WARN&&Ef.warn(`Auth (${Jo}): ${n}`,...e)}function Xd(n,...e){Ef.logLevel<=qe.ERROR&&Ef.error(`Auth (${Jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n,...e){throw fy(n,...e)}function yi(n,...e){return fy(n,...e)}function dy(n,e,t){const i={...uk(),[e]:t};return new Gu("auth","Firebase",i).create(e,{appName:n.name})}function As(n){return dy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dk(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ni(n,"argument-error"),dy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return qw.create(n,...e)}function we(n,e,...t){if(!n)throw fy(e,...t)}function vs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xd(e),new Error(e)}function Rs(n,e){n||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function fk(){return NT()==="http:"||NT()==="https:"}function NT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fk()||b1()||"connection"in navigator)?navigator.onLine:!0}function pk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rs(t>e,"Short delay should be less than long delay!"),this.isMobile=I1()||N1()}get(){return hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n,e){Rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yk=new nc(3e4,6e4);function Lr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ps(n,e,t,i,a={}){return Hw(n,a,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const d=Ku({key:n.config.apiKey,...u}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...o};return R1()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&$o(n.emulatorConfig.host)&&(p.credentials="include"),Fw.fetch()(await Gw(n,n.config.apiHost,t,d),p)})}async function Hw(n,e,t){n._canInitEmulator=!1;const i={...mk,...e};try{const a=new vk(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Fd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Fd(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Fd(n,"user-disabled",u);const _=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw dy(n,_,p);ni(n,_)}}catch(a){if(a instanceof Ms)throw a;ni(n,"network-request-failed",{message:String(a)})}}async function ic(n,e,t,i,a={}){const o=await Ps(n,e,t,i,a);return"mfaPendingCredential"in o&&ni(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Gw(n,e,t,i){const a=`${e}${t}?${i}`,o=n,u=o.config.emulator?hy(n.config,a):`${n.config.apiScheme}://${a}`;return gk.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function _k(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yi(this.auth,"network-request-failed")),yk.get())})}}function Fd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=yi(n,e,i);return a.customData._tokenResponse=t,a}function MT(n){return n!==void 0&&n.enterprise!==void 0}class Ek{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _k(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tk(n,e){return Ps(n,"GET","/v2/recaptchaConfig",Lr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(n,e){return Ps(n,"POST","/v1/accounts:delete",e)}async function Tf(n,e){return Ps(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ak(n,e=!1){const t=Nt(n),i=await t.getIdToken(e),a=py(i);we(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:i,authTime:Iu(xm(a.auth_time)),issuedAtTime:Iu(xm(a.iat)),expirationTime:Iu(xm(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function xm(n){return Number(n)*1e3}function py(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{const a=YA(t);return a?JSON.parse(a):(Xd("Failed to decode base64 JWT payload"),null)}catch(a){return Xd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function DT(n){const e=py(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ms&&Ck(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Ck({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(n){var T;const e=n.auth,t=await n.getIdToken(),i=await Ko(n,Tf(e,{idToken:t}));we(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=(T=a.providerUserInfo)!=null&&T.length?Kw(a.providerUserInfo):[],u=xk(n.providerData,o),d=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=d?h:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ng(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,_)}async function Ik(n){const e=Nt(n);await Sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xk(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Kw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(n,e){const t=await Hw(n,{},async()=>{const i=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await Gw(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return n.emulatorConfig&&$o(n.emulatorConfig.host)&&(h.credentials="include"),Fw.fetch()(u,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bk(n,e){return Ps(n,"POST","/v2/accounts:revokeToken",Lr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=DT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await Rk(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,u=new Do;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(we(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(we(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ng(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ak(this,e)}reload(){return Ik(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Sf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await Ko(this,Sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:I,providerData:U,stsTokenManager:L}=t;we(T&&L,e,"internal-error");const B=Do.fromJSON(this.name,L);we(typeof T=="string",e,"internal-error"),mr(i,e.name),mr(a,e.name),we(typeof A=="boolean",e,"internal-error"),we(typeof I=="boolean",e,"internal-error"),mr(o,e.name),mr(u,e.name),mr(d,e.name),mr(h,e.name),mr(p,e.name),mr(_,e.name);const H=new gi({uid:T,auth:e,email:a,emailVerified:A,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:o,tenantId:d,stsTokenManager:B,createdAt:p,lastLoginAt:_});return U&&Array.isArray(U)&&(H.providerData=U.map(K=>({...K}))),h&&(H._redirectEventId=h),H}static async _fromIdTokenResponse(e,t,i=!1){const a=new Do;a.updateFromServerResponse(t);const o=new gi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Sf(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];we(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?Kw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Do;d.updateFromIdToken(i);const h=new gi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ng(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;function Es(n){Rs(n instanceof Function,"Expected a class definition");let e=PT.get(n);return e?(Rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jw.type="NONE";const UT=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Zd(this.userKey,a.apiKey,o),this.fullPersistenceKey=Zd("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Tf(this.auth,{idToken:e}).catch(()=>{});return t?gi._fromGetAccountInfoResponse(this.auth,t,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Po(Es(UT),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Es(UT);const u=Zd(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const _=await p._get(u);if(_){let T;if(typeof _=="string"){const A=await Tf(e,{idToken:_}).catch(()=>{});if(!A)break;T=await gi._fromGetAccountInfoResponse(e,A,_)}else T=gi._fromJSON(e,_);p!==o&&(d=T),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Po(o,e,i):(o=h[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Po(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xw(e))return"Blackberry";if(Zw(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||Jw(e))&&!e.includes("edge/"))return"Chrome";if(Ww(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Yw(n=dn()){return/firefox\//i.test(n)}function $w(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jw(n=dn()){return/crios\//i.test(n)}function Qw(n=dn()){return/iemobile/i.test(n)}function Ww(n=dn()){return/android/i.test(n)}function Xw(n=dn()){return/blackberry/i.test(n)}function Zw(n=dn()){return/webos/i.test(n)}function my(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Nk(n=dn()){var e;return my(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Mk(){return M1()&&document.documentMode===10}function eI(n=dn()){return my(n)||Ww(n)||Zw(n)||Xw(n)||/windows phone/i.test(n)||Qw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n,e=[]){let t;switch(n){case"Browser":t=kT(dn());break;case"Worker":t=`${kT(dn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,d)=>{try{const h=e(o);u(h)}catch(h){d(h)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(n,e={}){return Ps(n,"GET","/v2/passwordPolicy",Lr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=6;class kk{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Uk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VT(this),this.idTokenSubscription=new VT(this),this.beforeStateQueue=new Dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Es(t)),this._initializationPromise=this.queue(async()=>{var i,a,o;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Tf(this,{idToken:e}),i=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(o=this.redirectUser)==null?void 0:o._redirectEventId,d=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(As(this));const t=e?Nt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pk(this),t=new kk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await bk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Es(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Es(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ck(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Or(n){return Nt(n)}class VT{constructor(e){this.auth=e,this.observer=null,this.addObserver=z1(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lk(n){nh=n}function nI(n){return nh.loadJS(n)}function Ok(){return nh.recaptchaEnterpriseScript}function zk(){return nh.gapiScript}function Bk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qk{constructor(){this.enterprise=new Fk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Fk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Hk="recaptcha-enterprise",iI="NO_RECAPTCHA";class Gk{constructor(e){this.type=Hk,this.auth=Or(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{Tk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ek(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(h=>{d(h)})})}function a(o,u,d){const h=window.grecaptcha;MT(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(iI)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qk().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(d=>{if(!t&&MT(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Ok();h.length!==0&&(h+=d),nI(h).then(()=>{a(d,o,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function LT(n,e,t,i=!1,a=!1){const o=new Gk(n);let u;if(a)u=iI;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ig(n,e,t,i,a){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await LT(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await LT(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n,e){const t=bg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Aa(o,e??{}))return a;ni(a,"already-initialized")}return t.initialize({options:e})}function jk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Es);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Yk(n,e,t){const i=Or(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=sI(e),{host:u,port:d}=$k(e),h=d===null?"":`:${d}`,p={url:`${o}//${u}${h}/`},_=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(Aa(p,i.config.emulator)&&Aa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,$o(u)?(WA(`${o}//${u}${h}`),XA("Auth",!0)):Jk()}function sI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $k(n){const e=sI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:OT(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:OT(u)}}}function OT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Jk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,t){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function Qk(n,e){return Ps(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,e){return ic(n,"POST","/v1/accounts:signInWithPassword",Lr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(n,e){return ic(n,"POST","/v1/accounts:signInWithEmailLink",Lr(n,e))}async function Zk(n,e){return ic(n,"POST","/v1/accounts:signInWithEmailLink",Lr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends gy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new zu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new zu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,t,"signInWithPassword",Wk);case"emailLink":return Xk(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,i,"signUpPassword",Qk);case"emailLink":return Zk(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e){return ic(n,"POST","/v1/accounts:signInWithIdp",Lr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="http://localhost";class xa extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=t;if(!i||!a)return null;const u=new xa(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Uo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Uo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:e2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n2(n){const e=mu(gu(n)).link,t=e?mu(gu(e)).deep_link_id:null,i=mu(gu(n)).deep_link_id;return(i?mu(gu(i)).link:null)||i||t||e||n}class yy{constructor(e){const t=mu(gu(e)),i=t.apiKey??null,a=t.oobCode??null,o=t2(t.mode??null);we(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=n2(e);try{return new yy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,t){return zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=yy.parseLink(t);return we(i,"argument-error"),zu._fromEmailAndCode(e,i.code,i.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends _y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends sc{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return _s.credential(t,i)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends sc{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends sc{constructor(){super("twitter.com")}static credential(e,t){return xa._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _r.credential(t,i)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(n,e){return ic(n,"POST","/v1/accounts:signUp",Lr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await gi._fromIdTokenResponse(e,i,a),u=zT(i);return new Ra({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=zT(i);return new Ra({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function zT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Ms{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Af(e,t,i,a)}}function rI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(n,o,e,i):o})}async function s2(n,e,t=!1){const i=await Ko(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ra._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(n,e,t=!1){const{auth:i}=n;if(Vn(i.app))return Promise.reject(As(i));const a="reauthenticate";try{const o=await Ko(n,rI(i,a,e,n),t);we(o.idToken,i,"internal-error");const u=py(o.idToken);we(u,i,"internal-error");const{sub:d}=u;return we(n.uid===d,i,"user-mismatch"),Ra._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ni(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(n,e,t=!1){if(Vn(n.app))return Promise.reject(As(n));const i="signIn",a=await rI(n,i,e),o=await Ra._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(o.user),o}async function a2(n,e){return aI(Or(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(n){const e=Or(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o2(n,e,t){if(Vn(n.app))return Promise.reject(As(n));const i=Or(n),u=await ig(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i2).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&oI(n),h}),d=await Ra._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function l2(n,e,t){return Vn(n.app)?Promise.reject(As(n)):a2(Nt(n),il.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&oI(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(n,e){return Ps(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Nt(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ko(i,u2(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function d2(n,e,t,i){return Nt(n).onIdTokenChanged(e,t,i)}function f2(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function h2(n,e,t,i){return Nt(n).onAuthStateChanged(e,t,i)}function p2(n){return Nt(n).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=1e3,g2=10;class uI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);Mk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,g2):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uI.type="LOCAL";const y2=uI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cI.type="SESSION";const dI=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(t.origin,o)),h=await _2(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,h)=>{const p=vy("",20);a.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(A.data.response);break;default:clearTimeout(_),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function E2(n){Yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function T2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function A2(){return fI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",C2=1,wf="firebaseLocalStorage",pI="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sh(n,e){return n.transaction([wf],e?"readwrite":"readonly").objectStore(wf)}function w2(){const n=indexedDB.deleteDatabase(hI);return new rc(n).toPromise()}function sg(){const n=indexedDB.open(hI,C2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wf,{keyPath:pI})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wf)?e(i):(i.close(),await w2(),e(await sg()))})})}async function BT(n,e,t){const i=sh(n,!0).put({[pI]:e,value:t});return new rc(i).toPromise()}async function I2(n,e){const t=sh(n,!1).get(e),i=await new rc(t).toPromise();return i===void 0?null:i.value}function qT(n,e){const t=sh(n,!0).delete(e);return new rc(t).toPromise()}const x2=800,R2=3;class mI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>R2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(A2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await T2(),!this.activeServiceWorker)return;this.sender=new v2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await BT(e,Cf,"1"),await qT(e,Cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>BT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>I2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=sh(a,!1).getAll();return new rc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mI.type="LOCAL";const b2=mI;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n,e){return e?Es(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function N2(n){return aI(n.auth,new Ey(n),n.bypassAuthState)}function M2(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),r2(t,new Ey(n),n.bypassAuthState)}async function D2(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),s2(t,new Ey(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return D2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:ni(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new nc(2e3,1e4);async function U2(n,e,t){if(Vn(n.app))return Promise.reject(yi(n,"operation-not-supported-in-this-environment"));const i=Or(n);dk(n,e,_y);const a=gI(i,t);return new Ea(i,"signInViaPopup",e,a).executeNotNull()}class Ea extends yI{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P2.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="pendingRedirect",ef=new Map;class V2 extends yI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const i=await L2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(n,e){const t=B2(e),i=z2(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function O2(n,e){ef.set(n._key(),e)}function z2(n){return Es(n._redirectPersistence)}function B2(n){return Zd(k2,n.config.apiKey,n.name)}async function q2(n,e,t=!1){if(Vn(n.app))return Promise.reject(As(n));const i=Or(n),a=gI(i,e),u=await new V2(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=600*1e3;class H2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!_I(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(FT(e))}saveEventToCache(e){this.cachedEventUids.add(FT(e)),this.lastProcessedEventTime=Date.now()}}function FT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _I({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(n,e={}){return Ps(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function $2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await K2(n);for(const t of e)try{if(J2(t))return}catch{}ni(n,"unauthorized-domain")}function J2(n){const e=tg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Y2.test(t))return!1;if(j2.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new nc(3e4,6e4);function HT(){const n=Yi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function W2(n){return new Promise((e,t)=>{var a,o,u;function i(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),t(yi(n,"network-request-failed"))},timeout:Q2.get()})}if((o=(a=Yi().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=Yi().gapi)!=null&&u.load)i();else{const d=Bk("iframefcb");return Yi()[d]=()=>{gapi.load?i():t(yi(n,"network-request-failed"))},nI(`${zk()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw tf=null,e})}let tf=null;function X2(n){return tf=tf||W2(n),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new nc(5e3,15e3),eV="__/auth/iframe",tV="emulator/auth/iframe",nV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sV(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hy(e,tV):`https://${n.config.authDomain}/${eV}`,i={apiKey:e.apiKey,appName:n.name,v:Jo},a=iV.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Ku(i).slice(1)}`}async function rV(n){const e=await X2(n),t=Yi().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:sV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nV,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=yi(n,"network-request-failed"),d=Yi().setTimeout(()=>{o(u)},Z2.get());function h(){Yi().clearTimeout(d),a(i)}i.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oV=500,lV=600,uV="_blank",cV="http://localhost";class GT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dV(n,e,t,i=oV,a=lV){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h={...aV,width:i.toString(),height:a.toString(),top:o,left:u},p=dn().toLowerCase();t&&(d=Jw(p)?uV:t),Yw(p)&&(e=e||cV,h.scrollbars="yes");const _=Object.entries(h).reduce((A,[I,U])=>`${A}${I}=${U},`,"");if(Nk(p)&&d!=="_self")return fV(e||"",d),new GT(null);const T=window.open(e||"",d,_);we(T,n,"popup-blocked");try{T.focus()}catch{}return new GT(T)}function fV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="__/auth/handler",pV="emulator/auth/handler",mV=encodeURIComponent("fac");async function KT(n,e,t,i,a,o){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Jo,eventId:a};if(e instanceof _y){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",O1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof sc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const h=await n._getAppCheckToken(),p=h?`#${mV}=${encodeURIComponent(h)}`:"";return`${gV(n)}?${Ku(d).slice(1)}${p}`}function gV({config:n}){return n.emulator?hy(n,pV):`https://${n.authDomain}/${hV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class yV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dI,this._completeRedirectFn=q2,this._overrideRedirectResult=O2}async _openPopup(e,t,i,a){var u;Rs((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const o=await KT(e,t,i,tg(),a);return dV(e,o,vy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await KT(e,t,i,tg(),a);return E2(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Rs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await rV(e),i=new H2(e);return t.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rm,{type:Rm},a=>{var u;const o=(u=a==null?void 0:a[0])==null?void 0:u[Rm];o!==void 0&&t(!!o),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eI()||$w()||my()}}const _V=yV;var jT="@firebase/auth",YT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TV(n){Oo(new Ca("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tI(n)},p=new Vk(i,a,o,h);return jk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Oo(new Ca("auth-internal",e=>{const t=Or(e.getProvider("auth").getImmediate());return(i=>new vV(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(jT,YT,EV(n)),Cr(jT,YT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=300,AV=QA("authIdTokenMaxAge")||SV;let $T=null;const CV=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>AV)return;const a=t==null?void 0:t.token;$T!==a&&($T=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function wV(n=nC()){const e=bg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Kk(n,{popupRedirectResolver:_V,persistence:[b2,y2,dI]}),i=QA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=CV(o.toString());f2(t,u,()=>u(t.currentUser)),d2(t,d=>u(d))}}const a=$A("auth");return a&&Yk(t,`http://${a}`),t}function IV(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Lk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const o=yi("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",IV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TV("Browser");var Ln=(n=>(n.PENDING="PENDING",n.APPROVED="APPROVED",n.REJECTED="REJECTED",n))(Ln||{}),ve=(n=>(n.POLICE="Police",n.HOSPITAL="Hospital",n.HOTEL="Hotel",n.BANK="Bank",n.SCHOOL="School/College",n.RESTAURANT="Restaurant",n.FIRE_SERVICE="Fire Service",n.BLOOD_DONATION="Blood Donation",n.LAWYER="Lawyer",n.EVENT_MANAGEMENT="Event Management",n.TOURIST_SPOT="Tourist Spot",n.GOVT_OFFICE="Govt Office",n.SUPERSHOP="Supershop",n.PHOTOGRAPHER="Photographer",n.HOTLINE="Hotline",n.BUS_STAND="Bus Stand",n.OTHER="Other",n))(ve||{});const xV={apiKey:"AIzaSyAM7uCsBZiesyHhKxmooqwQNlelrbtEuTs",authDomain:"deshisheba-50b52.firebaseapp.com",projectId:"deshisheba-50b52",storageBucket:"deshisheba-50b52.firebasestorage.app",messagingSenderId:"1058371410866",appId:"1:1058371410866:web:e8ffe2e8fb0cf4e42d62ab"},vr={"Dhaka Division":{Norshingdi:["Sadar Upazila","Monorhordi Upazila","Shibpur Upazila","Palash Upazila","Belab Upazila","Raipura Upazila"],Narayangonj:["Sadar Upazila","Bandor Upazila","Sonargaon Upazila","Arai Hazar Upazila","Rupgonj Upazila"],Munshigonj:["Sadar Upazila","Tungibari Upazila","Louhagonj Upazila","Sree Nagar Upazila","Sirajdi Khan Upazila","Gazaria Upazila"],Gazipur:["Sadar Upazila","Tongi Upazila","Kaligonj Upazila","Kaliakoir Upazila","Kapashia Upazila","Sreepur Upazila"],Manikgonj:["Sadar Upazila","Singair Upazila","Daulatpur Upazila","Horirampur Upazila","Gheor Upazila","Shibaloy Upazila","Saturia Upazila"],Dhaka:["Kotwali Thana","Mohammadpur Thana","Lalbagh Thana","Sutrapur Thana","Motijgil Thana","Demra Thana","Sabujbagh Thana","Mirpur Thana","Gulshan Thana","Uttara Thana","Pallabi Thana","Cantonment Thana","Dhanmondi Thana","Tejgaon Thana","Ramna Thana","Keranigonj Upazila","Dohar Upazila","Nawabgonj Upazila","Savar Upazila","Dhamrai Upazila"]},"Faridpur Region":{Faridpur:["Sadar Upazila","Boalmari Upazila","Sadarpur Upazila","Char Bhadrashon Upazila","Bhanga Upazila","Nagarkanda Upazila","Madhukhali Upazila","Alphadanga Upazila","Saltha Upazila"],Rajbari:["Sadar Upazila","Pangsha Upazila","Goalondo Upazila","Kalukhali Upazila","Baliakandi Upazila"],Gopalgonj:["Sadar Upazila","Kashiani Upazila","Tongipara Upazila","Muksudpur Upazila","Kotalipara Upazila"],Madaripur:["Sadar Upazila","Kalkini Upazila","Rajoir Upazila","Shibchar Upazila"],Sariyatpur:["Sadar Upazila","Damudda Upazila","Noria Upazila","Jagira Upazila","Vedorgonj Upazila","Goshair Hat Upazila"]},"Barishal Division":{Borguna:["Sadar Upazila","Amtoli Upazila","Betagi Upazila","Taltoli Upazila","Patharghata Upazila","Bamna Upazila"],Bhola:["Sadar Upazila","Daulatkhan Upazila","Lalmohon Upazila","Monpura Upazila","Charfassion Upazila","Tajumuddin Upazila","Borhanuddin Upazila"],Jhalokathi:["Sadar Upazila","Nalchiti Upazila","Rajapur Upazila","Kathalia Upazila"],Barishal:["Sadar Upazila","Muladi Upazila","Gournadi Upazila","Agoil Jhora Upazila","Hijla Upazila","Ujirpur Upazila","Mehedigonj Upazila","Babugonj Upazila","Bakergonj Upazila","Banaripara Upazila"],Patuakhali:["Sadar Upazila","Golachipa Upazila","Kolapara Upazila","Dosmina Upazila","Bauphal Upazila","Rangabali Upazila","Dumki Upazila","Mirjagonj Upazila"],Perojpur:["Sadar Upazila","Mothbaria Upazila","Nazirpur Upazila","Nesarabad Upazila","Zianagar Upazila","Kaukhali Upazila","Bhandaria Upazila"]},"Khulna Division":{Khulna:["Sadar Thana","Sonadanga Thana","Daulatpur Thana","Phultola Upazila","Dumuria Upazila","Terokhada Upazila","Degholia Upazila","Rupsha Upazila","Batiaghata Upazila","Dakop Upazila","Koira Upazila"],Norail:["Sadar Upazila","Kalia Upazila","Lohagora Upazila"],Magura:["Sadar Upazila","Sreepur Upazila","Salikha Upazila","Mohammadpur Upazila"],Satkhira:["Sadar Upazila","Shyam nagar Upazila","Assa suni Upazila","Tala Upazila","Kaligonj Upazila","Kolaroa Upazila","Debhata Upazila"],Bagerhat:["Sadar Upazila","Kochua Upazila","Rampal Upazila","Saron Khola Upazila","Morolgonj Upazila","Mollarhat Upazila","Chitolmari Upazila","Fakirhat Upazila","Mongla Upazila"],Jhenaidah:["Sadar Upazila","Kaligonj Upazila","Kot Chandpur Upazila","Horina Kundu Upazila","Shailkupa Upazila","Moheshpur Upazila"],Jessore:["Sadar Upazila","Keshobpur Upazila","Jhikorgacha Upazila","Monirampur Upazila","Bagharpara Upazila","Chowgacha Upazila","Sharsha Upazila","Avoynagar Upazila"],Meherpur:["Sadar Upazila","Gangni Upazila","Mujib Nagar Upazila"],Chuadanga:["Sadar Upazila","Jibon Nagar Upazila","Damur Huda Upazila","Alamdanga Upazila","Kushtia"],Kushtia:["Sadar Upazila","Kumarkhali Upazila","Daulatpur Upazila","Bheramara Upazila","Khoksha Upazila","Mirpur Upazila"]},"Sylhet Division":{Sylhet:["Sadar Upazila","Gopalgonj Upazila","Beanibazar Upazila","Jokigonj Upazila","Companigonj Upazila","Jaintapur Upazila","Daxin Surma Upazila","Fenchugonj Upazila","Bishwanath Upazila","Balagonj Upazila","Gowainghat Upazila","Kanaighat Upazila"],Sunamgonj:["Sadar Upazila","Jamalgonj Upazila","Jagannathpur Upazila","Sulla Upazila","Dharam Pasha Upazila","Bishwambharpur Upazila","South Sunamgonj Upazila","Satok Upazila","Doarabazar Upazila","Derai Upazila","Tahirpur Upazila"],Mowlovibazar:["Sadar Upazila","Rajnagar Upazila","Kulaura Upazila","Juri Upazila","Boro Lekha Upazila","Komolgonj Upazila","Srimangal Upazila"],Hobigonj:["Sadar Upazila","Bahubal Upazila","Lakhai Upazila","Nobigonj Upazila","Chunarughat Upazila","Madhabpur Upazila","Baniachong Upazila","Ajmirigonj Upazila"]},"Mymensingh Division":{Tangail:["Sadar Upazila","Delduar Upazila","Mirjapur Upazila","Bhuapur Upazila","Ghatail Upazila","Basail Upazila","Nagorpur Upazila","Kalihati Upazila","Sakhipur Upazila","Gopalpur Upazila","Dhanbari Upazila","Madhupur Upazila"],Keshoregonj:["Sadar Upazila","Hossainpur Upazila","Karimgonj Upazila","Pakundia Upazila","Nikli Upazila","Bajitpur Upazila","Kuliarchar Upazila","Bhairab Upazila","Mithamoin Upazila","Itna Upazila","Kotiadi Upazila","Austagram Upazila","Tarail Upazila"],Netrokona:["Sadar Upazila","Atpara Upazila","Barhatta Upazila","Mohongonj Upazila","Kalmakanda Upazila","Durgapur Upazila","Madan Upazila","Kendua Upazila","Purbodhola Upazila","Khaliajuri Upazila"],Jamalpur:["Sadar Upazila","Islampur Upazila","Dewangonj Upazila","Sarishabari Upazila","Madargonj Upazila","Bokshigonj Upazila","Melandaha Upazila"],Sherpur:["Sadar Upazila","Nokla Upazila","Nalitabari Upazila","Jhenaigati Upazila","Sribordi Upazila"],Mymensingh:["Sadar Upazila","Muktagacha Upazila","Phulbaria Upazila","Bhaluka Upazila","Trishal Upazila","Gafargaon Upazila","Nandail Upazila","Ishwargonj Upazila","Dhobaura Upazila","Gouripur Upazila","Phulpur Upazila","Haluaghat Upazila","Tarakanda Upazila"]},"Comilla Division":{Noakhali:["Sadar Upazila","Begumgonj Upazila","Companigonj Upazila","Subarnachar Upazila","Sonaimuri Upazila","Chatkhil Upazila","Senbagh Upazila","Kabirhat Upazila","Hatiya Upazila"],Feni:["Sadar Upazila","Daganbhuiyan Upazila","Fulgazi Upazila","Parshuram Upazila","Chhagalnaiya Upazila","Sonagazi Upazila"],Laxmipur:["Sadar Upazila","Raipur Upazila","Ramgoti Upazila","Ramgonj Upazila","Kamalnagar Upazila"],Chandpur:["Sadar Upazila","Matlab South Upazila","Faridgonj Upazila","Hajigonj Upazila","Haimchar Upazila","Matlab North Upazila","Kachua Upazila","Shahrasti Upazila"],"B. Baria":["Sadar Upazila","Sarail Upazila","Kosba Upazila","Bancharampur Upazila","Nabinagar Upazila","Bijoy Nagar Upazila","Ashugonj Upazila","Akhaura Upazila","Nasirnagar Upazila"],Comilla:["Sadar Adarsho Upazila","Sadar South Upazila","Brahmanpara Upazila","Daudkandi Upazila","Burichang Upazila","Chauddagram Upazila","Laksam Upazila","Monohorgonj Upazila","Meghna Upazila","Homna Upazila","Titas Upazila","Nangalkot Upazila","Muradnagar Upazila","Barura Upazila","Chandina Upazila","Debidwar Upazila"]},"Chittagong Division":{Chittagonj:["Kotwali Thana","Panchlaish Thana","Chandgaon Thana","Bandor Thana","Pahartoli Thana","Double Mooring Thana","Anwara Upazila","Patiya Upazila","Boalkhali Upazila","Satkania Upazila","Chandanaish Upazila","Bashkhali Upazila","Lohagora Upazila","Sandwip Upazila","Hathazari Upazila","Mirsharai Upazila","Fatikchhari Upazila","Rangunia Upazila","Sitakunda Upazila","Raozan Upazila"],"Cox's Bazar":["Sadar Upazila","Moheshkhali Upazila","Kutubdia Upazila","Teknaf Upazila","Ramu Upazila","Ukhia Upazila","Chokoria Upazila","Pekua Upazila"],Khagrachari:["Sadar Upazila","Panchari Upazila","Mohalchari Upazila","Dighinala Upazila","Matiranga Upazila","Laxmichari Upazila","Manikchari Upazila","Ramgarh Upazila"],Bandarbon:["Sadar Upazila","Thanchi Upazila","Ruma Upazila","Roangchari Upazila","Alikadam Upazila","Lama Upazila","Naikhangchari Upazila"],Rangamati:["Sadar Upazila","Barkal Upazila","Longodu Upazila","Baghaichari Upazila","Naniarchar Upazila","Kaukhali Upazila","Rajasthali Upazila","Belaichari Upazila","Jurachari Upazila","Kaptai Upazila"]},"Rajshahi Division":{Bogra:["Sadar Upazila","Shajahanpur Upazila","Sariakandi Upazila","Shibgonj Upazila","Gabtoli Upazila","Dhunot Upazila","Sonatola Upazila","Dupchachia Upazila","Adamdighi Upazila","Nandigram Upazila","Sherpur Upazila","Kahalu Upazila"],Pabna:["Sadar Upazila","Atghoria Upazila","Ishwardi Upazila","Bera Upazila","Santhia Upazila","Sujanagar Upazila","Chatmohor Upazila","Bhangura Upazila","Faridpur Upazila"],Rajshahi:["Poba Upazila","Putia Upazila","Charghat Upazila","Tanor Upazila","Baghmara Upazila","Bagha Upazila","Mohonpur Upazila","Godagari Upazila","Durgapur Upazila","Boalia Thana","Rajpara Thana"],Natore:["Sadar Upazila","Singra Upazila","Bagatipara Upazila","Boraigram Upazila","Gurudaspur Upazila","Lalpur Upazila","Naldanga Upazila"],"Chapai N. Gonj":["Sadar Upazila","Shibgonj Upazila","Gomostapur Upazila","Nachol Upazila","Bholahat Upazila"],Nogaon:["Sadar Upazila","Raninagar Upazila","Atrai Upazila","Niamatpur Upazila","Porsha Upazila","Sapahar Upazila","Manda Upazila","Dhamoirhat Upazila","Badalgachi Upazila","Patnitala Upazila","Mohadebpur Upazila"],Joipurhat:["Sadar Upazila","Akkelpur Upazila","Kalai Upazila","Panchbibi Upazila","Khetlal Upazila"],Sirajgonj:["Sadar Upazila","Kamarkhand Upazila","Belkuchi Upazila","Kazipur Upazila","Chowhali Upazila","Shahjadpur Upazila","Tarash Upazila","Ullapara Upazila","Raigonj Upazila"]},"Rangpur Division":{Nilphamari:["Sadar Upazila","Dimla Upazila","Jaldhaka Upazila","Domar Upazila","Kishoregonj Upazila","Saidpur Upazila"],Thakurgaon:["Sadar Upazila","Baliadangi Upazila","Pirgonj Upazila","Haripur Upazila","Ranisankail Upazila"],Gaibandha:["Sadar Upazila","Gobindagonj Upazila","Phulchari Upazila","Saghata Upazila","Sundargonj Upazila","Palashbari Upazila","Sadullapur Upazila"],Lalmonirhat:["Sadar Upazila","Aditmari Upazila","Hatibandha Upazila","Kaligonj Upazila","Patgram Upazila"],Kurigram:["Sadar Upazila","Rowmari Upazila","Rajibpur Upazila","Chilmari Upazila","Ulipur Upazila","Rajarhat Upazila","Phulbari Upazila","Nageshwori Upazila","Bhurungamari Upazila"],Dinajpur:["Sadar Upazila","Parbotipur Upazila","Phulbari Upazila","Birampur Upazila","Hakimpur Upazila","Nawabgonj Upazila","Ghoraghat Upazila","Bochagonj Upazila","Birol Upazila","Kaharol Upazila","Birgonj Upazila","Khansama Upazila","Chirirbandar Upazila"],Rangpur:["Sadar Upazila","Gongachora Upazila","Badargonj Upazila","Taragonj Upazila","Kaunia Upazila","Pirgacha Upazila","Mithapukur Upazila","Pirgonj Upazila"],Panchagarh:["Sadar Upazila","Atwari Upazila","Boda Upazila","Debigonj Upazila","Tetulia Upazila"]}},vI={[ve.POLICE]:"",[ve.HOSPITAL]:"",[ve.HOTEL]:"",[ve.BANK]:"",[ve.SCHOOL]:"",[ve.RESTAURANT]:"",[ve.FIRE_SERVICE]:"",[ve.BLOOD_DONATION]:"",[ve.LAWYER]:"",[ve.EVENT_MANAGEMENT]:"",[ve.TOURIST_SPOT]:"",[ve.GOVT_OFFICE]:"",[ve.SUPERSHOP]:"",[ve.PHOTOGRAPHER]:"",[ve.HOTLINE]:"",[ve.BUS_STAND]:"",[ve.OTHER]:""},rg=[{id:ve.POLICE,name:"Police",icon:"",fields:[{id:"emergency_contact",label:"Emergency Hotline",type:"tel",required:!0}],isSystem:!0},{id:ve.HOSPITAL,name:"Hospital",icon:"",fields:[{id:"ambulance_hotline",label:"Ambulance Hotline",type:"tel",required:!1},{id:"visiting_hours",label:"Visiting Hours",type:"text",required:!1}],isSystem:!0},{id:ve.HOTEL,name:"Hotel",icon:"",fields:[{id:"price_range",label:"Price Range",type:"text",required:!1},{id:"stars",label:"Star Rating",type:"number",required:!1}],isSystem:!0},{id:ve.TOURIST_SPOT,name:"Tourist Place",icon:"",fields:[{id:"ticket_price",label:"Ticket Price",type:"text",required:!1}],isSystem:!0},{id:ve.BANK,name:"Bank",icon:"",fields:[{id:"branch_code",label:"Branch Code",type:"text",required:!1}],isSystem:!0},{id:ve.SCHOOL,name:"School/College",icon:"",fields:[{id:"type",label:"Institution Type",type:"text",required:!0,placeholder:"School, College, Madrasa"}],isSystem:!0},{id:ve.SUPERSHOP,name:"Supershop",icon:"",fields:[{id:"delivery_available",label:"Home Delivery?",type:"text",required:!1}],isSystem:!0},{id:ve.PHOTOGRAPHER,name:"Photographer",icon:"",fields:[{id:"specialty",label:"Specialty",type:"text",required:!1,placeholder:"Wedding, Passport, etc."}],isSystem:!0},{id:ve.LAWYER,name:"Lawyer",icon:"",fields:[{id:"specialization",label:"Specialization",type:"text",required:!1}],isSystem:!0},{id:ve.BLOOD_DONATION,name:"Blood/Donation",icon:"",fields:[{id:"groups_available",label:"Groups Available",type:"text",required:!1}],isSystem:!0},{id:ve.GOVT_OFFICE,name:"Govt Office",icon:"",fields:[{id:"office_head",label:"Head of Office",type:"text",required:!1}],isSystem:!0},{id:ve.RESTAURANT,name:"Restaurant",icon:"",fields:[{id:"cuisine",label:"Cuisine Type",type:"text",required:!1}],isSystem:!0},{id:ve.FIRE_SERVICE,name:"Fire Service",icon:"",fields:[],isSystem:!0},{id:ve.HOTLINE,name:"Hotline",icon:"",fields:[{id:"service_type",label:"Service Type",type:"text",required:!0}],isSystem:!0},{id:ve.BUS_STAND,name:"Bus Stand",icon:"",fields:[{id:"routes",label:"Major Routes",type:"text",required:!1}],isSystem:!0},{id:ve.EVENT_MANAGEMENT,name:"Event Management",icon:"",fields:[],isSystem:!0},{id:ve.OTHER,name:"Other",icon:"",fields:[],isSystem:!0}],RV={[ve.HOSPITAL]:["General Hospital","Sadar Hospital","Medical College","Community Clinic","Health Complex","Eye Hospital","Diagnostic Center","Red Crescent","City Hospital","Model Clinic","Upazila Health Complex","Popular Diagnostic","Ibn Sina","Labaid","Square Clinic"],[ve.POLICE]:["Thana","Police Station","Police Fari","Circle Office","Highway Police","Metropolitan Police","Investigation Center","Police Outpost","RAB Camp","Tourist Police","Railway Police","Sadar Thana","Model Thana","Police Lines","Range Office"],[ve.HOTEL]:["Hotel Sea Palace","Hotel Agrabad","Parjatan Motel","Guest House","Resort & Spa","City Inn","Hotel Star","Grand Hotel","Hotel Diamond","Royal Palace","Green View","River View","Hotel Razmoni","Holiday Inn","Rest House"],[ve.SCHOOL]:["Govt High School","Pilot School","Girls School","Zilla School","College","University College","Model School","Technical College","Public School","Primary School","Academy","Kindergarten","Madrasa","Polytechnic","Womans College"],[ve.RESTAURANT]:["Bhai Bhai Hotel","Radhuni","Star Kabab","Panshi","Kutum Bari","Sodesh","Spicy Corner","Food Garden","Cafe","Birkiyani House","Sweets & Bakery","Bangla Hotel","Chinese Restaurant","Fast Food","Tea Stall"],[ve.BANK]:["Sonali Bank","Rupali Bank","Janata Bank","Agrani Bank","Dutch Bangla Bank","Brac Bank","Islami Bank","Grameen Bank","Pubali Bank","City Bank","Krishi Bank","One Bank","Prime Bank","UCB","Eastern Bank"],[ve.FIRE_SERVICE]:["Fire Service Station","Civil Defense","Fire Station"],[ve.BLOOD_DONATION]:["Blood Bank","Sandhani","Badhon","Red Crescent"],[ve.TOURIST_SPOT]:["Park","Museum","Sea Beach","River Bank","Historical Place","Zamindar Bari","Tea Garden","Lake","Eco Park","Forest"],[ve.GOVT_OFFICE]:["DC Office","UNO Office","Land Office","Election Office","Passport Office","Sub-Registry Office","Municipality Office","Union Parishad","BADC Office","Agriculture Office"],[ve.LAWYER]:["Chamber","Notary Public","Bar Association","Legal Aid"],[ve.EVENT_MANAGEMENT]:["Community Center","Convention Hall","Wedding Planner","Decorator"],[ve.SUPERSHOP]:["Shwapno","Agora","Meena Bazar","Daily Shopping","Big Bazar","City Mart"],[ve.PHOTOGRAPHER]:["Digital Studio","Wedding Photography","Color Lab","Portrait Studio"],[ve.HOTLINE]:["Emergency Hotline","Ambulance Service","Women Support","Child Help Line","Legal Aid Hotline"],[ve.BUS_STAND]:["Bus Terminal","Counter","Stop","Ticket Counter"],[ve.OTHER]:["Service Center","Workshop","Store","Market"]},Hd=n=>n[Math.floor(Math.random()*n.length)],bV=()=>{const n=[],e=Object.keys(vr);for(const t of Object.values(ve)){const i=RV[t]||["Service"];for(let a=0;a<12;a++){const o=Hd(e),u=Object.keys(vr[o]),d=Hd(u),h=vr[o][d],p=Hd(h),_=Hd(i),T=`default-${t.toLowerCase().replace(/\s+/g,"-")}-${a+1}`;n.push({id:T,name:`${d} ${_}`,category:t,description:`Reliable ${t} located in ${p}. Open for service.`,phone:`017${Math.floor(1e7+Math.random()*9e7)}`,address:{division:o,district:d,upazila:p,village:"Sadar Area"},status:Ln.APPROVED,submittedBy:"admin",submitterName:"System Admin",submittedAt:Date.now()-Math.floor(Math.random()*1e9),likes:Math.floor(Math.random()*100),tags:[t.toLowerCase(),p.toLowerCase(),"service","bd"]})}}return n},NV=bV(),EI=tC(xV),_t=$U(EI),ac=wV(EI),rh=tl(_t,"services"),MV=tl(_t,"users"),TI=tl(_t,"categories"),SI=tl(_t,"reports"),Ty=tl(_t,"notifications"),AI=tl(_t,"blogs"),Sy=async n=>{const e=fn(_t,"users",n.uid);try{const t=await cy(e),i={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,lastLogin:Date.now()};t.exists()?await nl(e,i):await zw(e,{...i,role:n.email==="admin@deshisheba.com"?"admin":"user",isBanned:!1,createdAt:Date.now()})}catch(t){console.warn("Failed to sync user to Firestore",t)}},DV=async()=>{const n=new _s;try{const e=await U2(ac,n);return await Sy(e.user),e.user}catch(e){throw console.error("Error signing in",e),e}},PV=async(n,e,t)=>{try{const i=await o2(ac,n,e);return await c2(i.user,{displayName:t}),await Sy(i.user),i.user}catch(i){throw i}},UV=async(n,e)=>{try{const t=await l2(ac,n,e);return await Sy(t.user),t.user}catch(t){throw t}},JT=()=>p2(ac),kV=n=>h2(ac,n),VV=async()=>{let e=bT(_t),t=0;if(console.log("Starting database seeding/restoration..."),(await Xi(TI)).empty){console.log("Seeding categories...");for(const a of rg){const o=fn(_t,"categories",a.id);e.set(o,a),t++}}else console.log("Categories exist. Skipping category re-seed.");console.log("Restoring default services...");for(const a of NV){const{id:o,...u}=a,d=fn(_t,"services",o);e.set(d,{...u,views:Math.floor(Math.random()*500)}),t++,t>=500&&(await e.commit(),e=bT(_t),t=0)}t>0&&await e.commit(),console.log("Database seeding/restoration complete.")},CI=async(n,e)=>{try{const t=fn(_t,n,e);await nl(t,{views:lk(1)})}catch(t){console.warn("Failed to increment view",t)}},LV=async n=>{try{return(await th(rh,{...n,status:Ln.PENDING,submittedAt:Date.now(),likes:0,views:0})).id}catch(e){throw console.error("Error adding service: ",e),e}},OV=async(n,e)=>{try{const t=fn(_t,"services",n);await nl(t,{...e,status:Ln.PENDING})}catch(t){throw console.error("Error updating service: ",t),t}},wI=async n=>{try{const e=await cy(fn(_t,"services",n));return e.exists()?{id:e.id,...e.data()}:null}catch(e){return console.error("Error getting service: ",e),null}},ag=async(n=Ln.APPROVED)=>{try{const e=Ds(rh,Zf("status","==",n));return(await Xi(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return console.error("Error fetching services: ",e),[]}},zV=async()=>{try{const n=Ds(rh,Zf("status","==",Ln.APPROVED));return(await Xi(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>(a.views||0)-(i.views||0)).slice(0,4)}catch(n){return console.error("Error fetching popular services",n),[]}},BV=async n=>{try{const e=Ds(rh,Zf("submittedBy","==",n));return(await Xi(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return console.error("Error fetching user services: ",e),[]}},qV=async(n,e)=>{try{const t=fn(_t,"services",n);await nl(t,{status:e})}catch(t){throw console.error("Error updating status: ",t),t}},og=async n=>{try{await eh(fn(_t,"services",n))}catch(e){throw console.error("Error deleting service: ",e),e}},FV=async n=>{try{await th(SI,n)}catch(e){throw console.error("Error submitting report: ",e),e}},HV=async()=>{try{const n=Ds(SI);return(await Xi(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>a.reportedAt-i.reportedAt)}catch(n){return console.error("Error fetching reports: ",n),[]}},GV=async n=>{try{await eh(fn(_t,"reports",n))}catch(e){throw console.error("Error deleting report: ",e),e}},KV=async n=>{try{await th(Ty,n)}catch(e){throw console.error("Error sending notification",e),e}},jV=async n=>{try{const e=Ds(Ty,Zf("userId","in",[n,"ALL"]));return(await Xi(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,o)=>o.createdAt-a.createdAt)}catch(e){return console.error("Error fetching notifications",e),[]}},YV=async()=>{try{const n=Ds(Ty);return(await Xi(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>a.createdAt-i.createdAt)}catch(n){return console.error("Error fetching all notifications",n),[]}},$V=async n=>{try{const e=fn(_t,"notifications",n);await nl(e,{isRead:!0})}catch(e){console.error(e)}},JV=async()=>{try{const n=Ds(MV);return(await Xi(n)).docs.map(i=>i.data()).sort((i,a)=>a.createdAt-i.createdAt)}catch(n){return console.error("Error fetching users: ",n),[]}},QV=async(n,e)=>{try{const t=fn(_t,"users",n);await nl(t,{isBanned:!e})}catch(t){throw console.error("Error toggling ban: ",t),t}},Ay=async()=>{try{const n=Ds(TI),e=await Xi(n);return e.empty?rg:e.docs.map(t=>({id:t.id,...t.data()}))}catch(n){return console.error("Error fetching categories: ",n),rg}},WV=async n=>{try{const e=fn(_t,"categories",n.id);await zw(e,n)}catch(e){throw console.error("Error saving category: ",e),e}},XV=async n=>{try{await eh(fn(_t,"categories",n))}catch(e){throw console.error("Error deleting category: ",e),e}},ZV=async n=>{try{await th(AI,{...n,views:0})}catch(e){throw console.error("Error adding blog: ",e),e}},II=async()=>{try{const n=Ds(AI);return(await Xi(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>a.createdAt-i.createdAt)}catch(n){return console.error("Error fetching blogs",n),[]}},eL=async n=>{try{const e=fn(_t,"blogs",n),t=await cy(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){return console.error("Error fetching blog",e),null}},tL=async n=>{try{await eh(fn(_t,"blogs",n))}catch(e){throw console.error(e),e}},Ve=({children:n,variant:e="primary",className:t="",loading:i=!1,disabled:a,...o})=>{const u="px-4 py-2 rounded-lg font-medium transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",d={primary:"bg-primary-600 hover:bg-primary-700 text-white shadow-lg shadow-primary-500/20",secondary:"bg-white dark:bg-dark-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-dark-900",danger:"bg-red-500 hover:bg-red-600 text-white shadow-red-500/30",ghost:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-dark-800"};return E.jsxs("button",{disabled:a||i,className:`${u} ${d[e]} ${t}`,...o,children:[i&&E.jsx(Pf,{className:"w-4 h-4 animate-spin"}),n]})},Pr=({children:n,className:e=""})=>E.jsx("div",{className:`bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 p-4 ${e}`,children:n}),$i=({children:n,color:e="blue"})=>{const t={blue:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border border-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 border border-red-200 dark:border-red-800",gray:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-600"};return E.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${t[e]||t.gray}`,children:n})},yn=n=>E.jsx("input",{...n,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-dark-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-all placeholder:text-slate-400 ${n.className}`}),xu=n=>E.jsxs("div",{className:"relative",children:[E.jsx("select",{...n,className:`w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-dark-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-primary-500 focus:outline-none appearance-none ${n.className}`,children:n.children}),E.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-700 dark:text-slate-300",children:E.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:E.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),xI=({value:n,onChange:e,allowAutoDetect:t=!0})=>{const[i,a]=z.useState([]),[o,u]=z.useState([]),[d,h]=z.useState(!1);z.useEffect(()=>{n.division&&vr[n.division]?a(Object.keys(vr[n.division])):(a([]),u([]))},[n.division]),z.useEffect(()=>{var _;n.division&&n.district&&((_=vr[n.division])!=null&&_[n.district])?u(vr[n.division][n.district]):u([])},[n.district,n.division]);const p=()=>{h(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(()=>{setTimeout(()=>{e({division:"Dhaka",district:"Dhaka",upazila:"Mirpur",village:""}),h(!1)},1e3)},_=>{console.error("Geo error",_),alert("Could not detect location. Please select manually."),h(!1)}):(alert("Geolocation not supported."),h(!1))};return E.jsxs("div",{className:"space-y-3",children:[t&&E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Select Location"}),E.jsxs(Ve,{variant:"ghost",className:"text-sm py-1 h-auto",onClick:p,loading:d,children:[E.jsx(Sa,{className:"w-3 h-3 mr-1"}),"Auto-Detect"]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs(xu,{value:n.division,onChange:_=>e({...n,division:_.target.value,district:"",upazila:""}),children:[E.jsx("option",{value:"",children:"Select Division"}),Object.keys(vr).map(_=>E.jsx("option",{value:_,children:_},_))]}),E.jsxs(xu,{value:n.district,disabled:!n.division,onChange:_=>e({...n,district:_.target.value,upazila:""}),children:[E.jsx("option",{value:"",children:"Select District"}),i.map(_=>E.jsx("option",{value:_,children:_},_))]}),E.jsxs(xu,{value:n.upazila,disabled:!n.district,onChange:_=>e({...n,upazila:_.target.value}),children:[E.jsx("option",{value:"",children:"Select Upazila"}),o.map(_=>E.jsx("option",{value:_,children:_},_))]}),E.jsx(yn,{placeholder:"Village/Area (Optional)",value:n.village,onChange:_=>e({...n,village:_.target.value})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nL,iL;function sL(){return{geminiUrl:nL,vertexUrl:iL}}function rL(n,e,t,i){var a,o;if(!(n!=null&&n.baseUrl)){const u=sL();return e?(a=u.vertexUrl)!==null&&a!==void 0?a:t:(o=u.geminiUrl)!==null&&o!==void 0?o:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Us{}function he(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const o=e[a];return o!=null?String(o):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function m(n,e,t){for(let o=0;o<e.length-1;o++){const u=e[o];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in n))if(Array.isArray(t))n[d]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(n[d])){const h=n[d];if(Array.isArray(t))for(let p=0;p<h.length;p++){const _=h[p];m(_,e.slice(o+1),t[p])}else for(const p of h)m(p,e.slice(o+1),t)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in n||(n[d]=[{}]);const h=n[d];m(h[0],e.slice(o+1),t);return}(!n[u]||typeof n[u]!="object")&&(n[u]={}),n=n[u]}const i=e[e.length-1],a=n[i];if(a!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===a)return;if(typeof a=="object"&&typeof t=="object"&&a!==null&&t!==null)Object.assign(a,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function f(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const a=e[i];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in n){const u=n[o];return Array.isArray(u)?u.map(d=>f(d,e.slice(i+1),t)):t}else return t}else n=n[a]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function aL(n,e){for(const[t,i]of Object.entries(e)){const a=t.split("."),o=i.split("."),u=new Set;let d=-1;for(let h=0;h<a.length;h++)if(a[h]==="*"){d=h;break}if(d!==-1&&o.length>d)for(let h=d;h<o.length;h++){const p=o[h];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&u.add(p)}lg(n,a,o,0,u)}}function lg(n,e,t,i,a){if(i>=e.length||typeof n!="object"||n===null)return;const o=e[i];if(o.endsWith("[]")){const u=o.slice(0,-2),d=n;if(u in d&&Array.isArray(d[u]))for(const h of d[u])lg(h,e,t,i+1,a)}else if(o==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const u=n,d=Object.keys(u).filter(p=>!p.startsWith("_")&&!a.has(p)),h={};for(const p of d)h[p]=u[p];for(const[p,_]of Object.entries(h)){const T=[];for(const A of t.slice(i))A==="*"?T.push(p):T.push(A);m(u,T,_)}for(const p of d)delete u[p]}}else{const u=n;o in u&&lg(u[o],e,t,i+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cy(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oL(n){const e={},t=f(n,["operationName"]);t!=null&&m(e,["operationName"],t);const i=f(n,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function lL(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],cL(u)),e}function uL(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["response"]);return u!=null&&m(e,["response"],dL(u)),e}function cL(n){const e={},t=f(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>fL(u))),m(e,["generatedVideos"],o)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function dL(n){const e={},t=f(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>hL(u))),m(e,["generatedVideos"],o)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function fL(n){const e={},t=f(n,["video"]);return t!=null&&m(e,["video"],vL(t)),e}function hL(n){const e={},t=f(n,["_self"]);return t!=null&&m(e,["video"],EL(t)),e}function pL(n){const e={},t=f(n,["operationName"]);return t!=null&&m(e,["_url","operationName"],t),e}function mL(n){const e={},t=f(n,["operationName"]);return t!=null&&m(e,["_url","operationName"],t),e}function gL(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["response"]);return u!=null&&m(e,["response"],yL(u)),e}function yL(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&m(e,["parent"],i);const a=f(n,["documentName"]);return a!=null&&m(e,["documentName"],a),e}function RI(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["response"]);return u!=null&&m(e,["response"],_L(u)),e}function _L(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&m(e,["parent"],i);const a=f(n,["documentName"]);return a!=null&&m(e,["documentName"],a),e}function vL(n){const e={},t=f(n,["uri"]);t!=null&&m(e,["uri"],t);const i=f(n,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Cy(i));const a=f(n,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function EL(n){const e={},t=f(n,["gcsUri"]);t!=null&&m(e,["uri"],t);const i=f(n,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Cy(i));const a=f(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var QT;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(QT||(QT={}));var WT;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(WT||(WT={}));var XT;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(XT||(XT={}));var Tr;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Tr||(Tr={}));var ZT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ZT||(ZT={}));var eS;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(eS||(eS={}));var tS;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(tS||(tS={}));var nS;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nS||(nS={}));var iS;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(iS||(iS={}));var sS;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(sS||(sS={}));var rS;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rS||(rS={}));var aS;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(aS||(aS={}));var oS;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(oS||(oS={}));var lS;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(lS||(lS={}));var uS;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(uS||(uS={}));var cS;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cS||(cS={}));var dS;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dS||(dS={}));var fS;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(fS||(fS={}));var hS;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hS||(hS={}));var If;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(If||(If={}));var pS;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pS||(pS={}));var mS;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mS||(mS={}));var gS;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gS||(gS={}));var ug;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ug||(ug={}));var yS;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yS||(yS={}));var _S;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_S||(_S={}));var vS;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(vS||(vS={}));var ES;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ES||(ES={}));var TS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(TS||(TS={}));var SS;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(SS||(SS={}));var AS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(AS||(AS={}));var CS;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(CS||(CS={}));var wS;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(wS||(wS={}));var IS;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(IS||(IS={}));var xS;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xS||(xS={}));var RS;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(RS||(RS={}));var bS;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bS||(bS={}));var NS;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(NS||(NS={}));var MS;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(MS||(MS={}));var DS;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(DS||(DS={}));var PS;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(PS||(PS={}));var US;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(US||(US={}));var kS;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(kS||(kS={}));var VS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(VS||(VS={}));var LS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(LS||(LS={}));var OS;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(OS||(OS={}));var zS;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zS||(zS={}));var BS;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(BS||(BS={}));var qS;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qS||(qS={}));var FS;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(FS||(FS={}));var HS;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(HS||(HS={}));var GS;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(GS||(GS={}));var KS;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KS||(KS={}));var jS;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(jS||(jS={}));var bo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(bo||(bo={}));class cg{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class pu{get text(){var e,t,i,a,o,u,d,h;if(((a=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",_=!1;const T=[];for(const A of(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[I,U]of Object.entries(A))I!=="text"&&I!=="thought"&&I!=="thoughtSignature"&&(U!==null||U!==void 0)&&T.push(I);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;_=!0,p+=A.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?p:void 0}get data(){var e,t,i,a,o,u,d,h;if(((a=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const _=[];for(const T of(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[A,I]of Object.entries(T))A!=="inlineData"&&(I!==null||I!==void 0)&&_.push(A);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,i,a,o,u,d,h;if(((a=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,i,a,o,u,d,h,p;if(((a=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,i,a,o,u,d,h,p;if(((a=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(h=(d=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.output}}class YS{}class $S{}class TL{}class SL{}class AL{}class CL{}class JS{}class QS{}class WS{}class wL{}class xf{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new xf;let a;const o=e;return t?a=uL(o):a=lL(o),Object.assign(i,a),i}}class XS{}class ZS{}class eA{}class IL{}class xL{}class RL{}class wy{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new wy,o=gL(e);return Object.assign(i,o),i}}class bL{}class NL{}class ML{}class tA{}class DL{get text(){var e,t,i;let a="",o=!1;const u=[];for(const d of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(d))h!=="text"&&h!=="thought"&&p!==null&&u.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;o=!0,a+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?a:void 0}get data(){var e,t,i;let a="";const o=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[d,h]of Object.entries(u))d!=="inlineData"&&h!==null&&o.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(a+=atob(u.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class PL{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Iy{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new Iy,o=RI(e);return Object.assign(i,o),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function bI(n,e){const t=Qe(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function NI(n){return Array.isArray(n)?n.map(e=>Rf(e)):[Rf(n)]}function Rf(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function MI(n){const e=Rf(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DI(n){const e=Rf(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nA(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function PI(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>nA(e)):[nA(n)]}function dg(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function iA(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function sA(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function cn(n){if(n==null)throw new Error("ContentUnion is required");return dg(n)?n:{role:"user",parts:PI(n)}}function xy(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=cn(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=cn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>cn(t)):[cn(e)]}function Zn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(iA(n)||sA(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[cn(n)]}const e=[],t=[],i=dg(n[0]);for(const a of n){const o=dg(a);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(a);else{if(iA(a)||sA(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(a)}}return i||e.push({role:"user",parts:PI(t)}),e}function UL(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Tr).includes(t[0].toUpperCase())?t[0].toUpperCase():Tr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Tr).includes(i.toUpperCase())?i.toUpperCase():Tr.TYPE_UNSPECIFIED})}}function ko(n){const e={},t=["items"],i=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&UL(n.type,e);for(const[u,d]of Object.entries(n))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Tr).includes(d.toUpperCase())?d.toUpperCase():Tr.TYPE_UNSPECIFIED}else if(t.includes(u))e[u]=ko(d);else if(i.includes(u)){const h=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}h.push(ko(p))}e[u]=h}else if(a.includes(u)){const h={};for(const[p,_]of Object.entries(d))h[p]=ko(_);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Ry(n){return ko(n)}function by(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Ny(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function sl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ko(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ko(e.response));return n}function rl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function kL(n,e,t,i=1){const a=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:a?`${t}/${e}`:e}function ks(n,e){if(typeof e!="string")throw new Error("name must be a string");return kL(n,e,"cachedContents")}function UI(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function zr(n){return Cy(n)}function VL(n){return n!=null&&typeof n=="object"&&"name"in n}function LL(n){return n!=null&&typeof n=="object"&&"video"in n}function OL(n){return n!=null&&typeof n=="object"&&"uri"in n}function kI(n){var e;let t;if(VL(n)&&(t=n.name),!(OL(n)&&(t=n.uri,t===void 0))&&!(LL(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const a=t.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${t}`);t=a[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function VI(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function LI(n){for(const e of["models","tunedModels","publisherModels"])if(zL(n,e))return n[e];return[]}function zL(n,e){return n!==null&&typeof n=="object"&&e in n}function BL(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function qL(n,e={}){const t=[],i=new Set;for(const a of n){const o=a.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const u=BL(a,e);u.functionDeclarations&&t.push(...u.functionDeclarations)}return{functionDeclarations:t}}function OI(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,a=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function FL(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zI(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const a=t.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let o=!1;for(const u of a){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function al(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function BI(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HL(n){const e={},t=f(n,["responsesFile"]);t!=null&&m(e,["fileName"],t);const i=f(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>A4(u))),m(e,["inlinedResponses"],o)}const a=f(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["inlinedEmbedContentResponses"],o)}return e}function GL(n){const e={},t=f(n,["predictionsFormat"]);t!=null&&m(e,["format"],t);const i=f(n,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const a=f(n,["bigqueryDestination","outputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function KL(n){const e={},t=f(n,["format"]);t!=null&&m(e,["predictionsFormat"],t);const i=f(n,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const a=f(n,["bigqueryUri"]);if(a!=null&&m(e,["bigqueryDestination","outputUri"],a),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nf(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const a=f(n,["metadata","state"]);a!=null&&m(e,["state"],BI(a));const o=f(n,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const u=f(n,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const d=f(n,["metadata","updateTime"]);d!=null&&m(e,["updateTime"],d);const h=f(n,["metadata","model"]);h!=null&&m(e,["model"],h);const p=f(n,["metadata","output"]);return p!=null&&m(e,["dest"],HL(zI(p))),e}function fg(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["displayName"]);i!=null&&m(e,["displayName"],i);const a=f(n,["state"]);a!=null&&m(e,["state"],BI(a));const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["createTime"]);u!=null&&m(e,["createTime"],u);const d=f(n,["startTime"]);d!=null&&m(e,["startTime"],d);const h=f(n,["endTime"]);h!=null&&m(e,["endTime"],h);const p=f(n,["updateTime"]);p!=null&&m(e,["updateTime"],p);const _=f(n,["model"]);_!=null&&m(e,["model"],_);const T=f(n,["inputConfig"]);T!=null&&m(e,["src"],jL(T));const A=f(n,["outputConfig"]);A!=null&&m(e,["dest"],GL(zI(A)));const I=f(n,["completionStats"]);return I!=null&&m(e,["completionStats"],I),e}function jL(n){const e={},t=f(n,["instancesFormat"]);t!=null&&m(e,["format"],t);const i=f(n,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const a=f(n,["bigquerySource","inputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function YL(n,e){const t={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=f(e,["fileName"]);i!=null&&m(t,["fileName"],i);const a=f(e,["inlinedRequests"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>S4(n,u))),m(t,["requests","requests"],o)}return t}function $L(n){const e={},t=f(n,["format"]);t!=null&&m(e,["instancesFormat"],t);const i=f(n,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const a=f(n,["bigqueryUri"]);if(a!=null&&m(e,["bigquerySource","inputUri"],a),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function JL(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function QL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],al(n,i)),t}function WL(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],al(n,i)),t}function XL(n){const e={},t=f(n,["content"]);t!=null&&m(e,["content"],t);const i=f(n,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],ZL(i));const a=f(n,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const o=f(n,["finishReason"]);o!=null&&m(e,["finishReason"],o);const u=f(n,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=f(n,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const h=f(n,["index"]);h!=null&&m(e,["index"],h);const p=f(n,["logprobsResult"]);p!=null&&m(e,["logprobsResult"],p);const _=f(n,["safetyRatings"]);if(_!=null){let A=_;Array.isArray(A)&&(A=A.map(I=>I)),m(e,["safetyRatings"],A)}const T=f(n,["urlContextMetadata"]);return T!=null&&m(e,["urlContextMetadata"],T),e}function ZL(n){const e={},t=f(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>a)),m(e,["citations"],i)}return e}function qI(n){const e={},t=f(n,["parts"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(o=>N4(o))),m(e,["parts"],a)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function e4(n,e){const t={},i=f(n,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),f(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function t4(n,e){const t={},i=f(n,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const a=f(n,["dest"]);return e!==void 0&&a!=null&&m(e,["outputConfig"],KL(FL(a))),t}function rA(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["src"]);a!=null&&m(t,["batch","inputConfig"],YL(n,OI(n,a)));const o=f(e,["config"]);return o!=null&&e4(o,t),t}function n4(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["model"],Qe(n,i));const a=f(e,["src"]);a!=null&&m(t,["inputConfig"],$L(OI(n,a)));const o=f(e,["config"]);return o!=null&&t4(o,t),t}function i4(n,e){const t={},i=f(n,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),t}function s4(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["src"]);a!=null&&m(t,["batch","inputConfig"],d4(n,a));const o=f(e,["config"]);return o!=null&&i4(o,t),t}function r4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],al(n,i)),t}function a4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],al(n,i)),t}function o4(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);return o!=null&&m(e,["error"],o),e}function l4(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);return o!=null&&m(e,["error"],o),e}function u4(n,e){const t={},i=f(e,["contents"]);if(i!=null){let o=xy(n,i);Array.isArray(o)&&(o=o.map(u=>u)),m(t,["requests[]","request","content"],o)}const a=f(e,["config"]);return a!=null&&(m(t,["_self"],c4(a,t)),aL(t,{"requests[].*":"requests[].request.*"})),t}function c4(n,e){const t={},i=f(n,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const a=f(n,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const o=f(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function d4(n,e){const t={},i=f(e,["fileName"]);i!=null&&m(t,["file_name"],i);const a=f(e,["inlinedRequests"]);return a!=null&&m(t,["requests"],u4(n,a)),t}function f4(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function h4(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const a=f(n,["name"]);if(a!=null&&m(e,["name"],a),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function p4(n){const e={},t=f(n,["mode"]);t!=null&&m(e,["mode"],t);const i=f(n,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function m4(n,e,t){const i={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&m(t,["systemInstruction"],qI(cn(a)));const o=f(e,["temperature"]);o!=null&&m(i,["temperature"],o);const u=f(e,["topP"]);u!=null&&m(i,["topP"],u);const d=f(e,["topK"]);d!=null&&m(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&m(i,["candidateCount"],h);const p=f(e,["maxOutputTokens"]);p!=null&&m(i,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&m(i,["stopSequences"],_);const T=f(e,["responseLogprobs"]);T!=null&&m(i,["responseLogprobs"],T);const A=f(e,["logprobs"]);A!=null&&m(i,["logprobs"],A);const I=f(e,["presencePenalty"]);I!=null&&m(i,["presencePenalty"],I);const U=f(e,["frequencyPenalty"]);U!=null&&m(i,["frequencyPenalty"],U);const L=f(e,["seed"]);L!=null&&m(i,["seed"],L);const B=f(e,["responseMimeType"]);B!=null&&m(i,["responseMimeType"],B);const H=f(e,["responseSchema"]);H!=null&&m(i,["responseSchema"],Ry(H));const K=f(e,["responseJsonSchema"]);if(K!=null&&m(i,["responseJsonSchema"],K),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=f(e,["safetySettings"]);if(t!==void 0&&F!=null){let G=F;Array.isArray(G)&&(G=G.map(P=>M4(P))),m(t,["safetySettings"],G)}const ae=f(e,["tools"]);if(t!==void 0&&ae!=null){let G=rl(ae);Array.isArray(G)&&(G=G.map(P=>P4(sl(P)))),m(t,["tools"],G)}const ce=f(e,["toolConfig"]);if(t!==void 0&&ce!=null&&m(t,["toolConfig"],D4(ce)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const de=f(e,["cachedContent"]);t!==void 0&&de!=null&&m(t,["cachedContent"],ks(n,de));const M=f(e,["responseModalities"]);M!=null&&m(i,["responseModalities"],M);const N=f(e,["mediaResolution"]);N!=null&&m(i,["mediaResolution"],N);const b=f(e,["speechConfig"]);if(b!=null&&m(i,["speechConfig"],by(b)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=f(e,["thinkingConfig"]);V!=null&&m(i,["thinkingConfig"],V);const O=f(e,["imageConfig"]);return O!=null&&m(i,["imageConfig"],T4(O)),i}function g4(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>XL(p))),m(e,["candidates"],h)}const a=f(n,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const o=f(n,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const u=f(n,["responseId"]);u!=null&&m(e,["responseId"],u);const d=f(n,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function y4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],al(n,i)),t}function _4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],al(n,i)),t}function v4(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function E4(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function T4(n){const e={},t=f(n,["aspectRatio"]);t!=null&&m(e,["aspectRatio"],t);const i=f(n,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function S4(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["request","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let d=Zn(a);Array.isArray(d)&&(d=d.map(h=>qI(h))),m(t,["request","contents"],d)}const o=f(e,["metadata"]);o!=null&&m(t,["metadata"],o);const u=f(e,["config"]);return u!=null&&m(t,["request","generationConfig"],m4(n,u,f(t,["request"],{}))),t}function A4(n){const e={},t=f(n,["response"]);t!=null&&m(e,["response"],g4(t));const i=f(n,["error"]);return i!=null&&m(e,["error"],i),e}function C4(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=f(n,["pageToken"]);if(e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),f(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function w4(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=f(n,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const o=f(n,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),t}function I4(n){const e={},t=f(n,["config"]);return t!=null&&C4(t,e),e}function x4(n){const e={},t=f(n,["config"]);return t!=null&&w4(t,e),e}function R4(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["operations"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>nf(u))),m(e,["batchJobs"],o)}return e}function b4(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["batchPredictionJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>fg(u))),m(e,["batchJobs"],o)}return e}function N4(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const a=f(n,["executableCode"]);a!=null&&m(e,["executableCode"],a);const o=f(n,["fileData"]);o!=null&&m(e,["fileData"],f4(o));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],h4(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const h=f(n,["inlineData"]);h!=null&&m(e,["inlineData"],JL(h));const p=f(n,["text"]);p!=null&&m(e,["text"],p);const _=f(n,["thought"]);_!=null&&m(e,["thought"],_);const T=f(n,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const A=f(n,["videoMetadata"]);return A!=null&&m(e,["videoMetadata"],A),e}function M4(n){const e={},t=f(n,["category"]);if(t!=null&&m(e,["category"],t),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(n,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function D4(n){const e={},t=f(n,["functionCallingConfig"]);t!=null&&m(e,["functionCallingConfig"],p4(t));const i=f(n,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function P4(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(T=>T)),m(e,["functionDeclarations"],_)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(n,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=f(n,["computerUse"]);a!=null&&m(e,["computerUse"],a);const o=f(n,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const u=f(n,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&m(e,["googleMaps"],v4(d));const h=f(n,["googleSearch"]);h!=null&&m(e,["googleSearch"],E4(h));const p=f(n,["urlContext"]);return p!=null&&m(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bs;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(bs||(bs={}));class Da{constructor(e,t,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,a)}init(e,t,i){var a,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=t.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(o=(a=u.config)===null||a===void 0?void 0:a.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U4 extends Us{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new Da(bs.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=rA(this.apiClient,e),i=t._url,a=he("{model}:batchGenerateContent",i),d=t.batch.inputConfig.requests,h=d.requests,p=[];for(const _ of h){const T=Object.assign({},_);if(T.systemInstruction){const A=T.systemInstruction;delete T.systemInstruction;const I=T.request;I.systemInstruction=A,T.request=I}p.push(T)}return d.requests=p,delete t.config,delete t._url,delete t._query,{path:a,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},a=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${a}`),i.dest===void 0){const o=this.getGcsUri(e),u=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${a}`;else if(u)i.dest=`${u}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=n4(this.apiClient,e);return d=he("batchPredictionJobs",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>fg(_))}else{const p=rA(this.apiClient,e);return d=he("{model}:batchGenerateContent",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>nf(_))}}async createEmbeddingsInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=s4(this.apiClient,e);return o=he("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>nf(h))}}async get(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=_4(this.apiClient,e);return d=he("batchPredictionJobs/{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>fg(_))}else{const p=y4(this.apiClient,e);return d=he("batches/{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>nf(_))}}async cancel(e){var t,i,a,o;let u="",d={};if(this.apiClient.isVertexAI()){const h=WL(this.apiClient,e);u=he("batchPredictionJobs/{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=QL(this.apiClient,e);u=he("batches/{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=x4(e);return d=he("batchPredictionJobs",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=b4(_),A=new tA;return Object.assign(A,T),A})}else{const p=I4(e);return d=he("batches",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=R4(_),A=new tA;return Object.assign(A,T),A})}}async delete(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=a4(this.apiClient,e);return d=he("batchPredictionJobs/{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>l4(_))}else{const p=r4(this.apiClient,e);return d=he("batches/{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>o4(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k4(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function aA(n){const e={},t=f(n,["parts"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(o=>sO(o))),m(e,["parts"],a)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function V4(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const a=f(n,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const o=f(n,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const u=f(n,["contents"]);if(e!==void 0&&u!=null){let _=Zn(u);Array.isArray(_)&&(_=_.map(T=>aA(T))),m(e,["contents"],_)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],aA(cn(d)));const h=f(n,["tools"]);if(e!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>aO(T))),m(e,["tools"],_)}const p=f(n,["toolConfig"]);if(e!==void 0&&p!=null&&m(e,["toolConfig"],rO(p)),f(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function L4(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const a=f(n,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const o=f(n,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const u=f(n,["contents"]);if(e!==void 0&&u!=null){let T=Zn(u);Array.isArray(T)&&(T=T.map(A=>A)),m(e,["contents"],T)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],cn(d));const h=f(n,["tools"]);if(e!==void 0&&h!=null){let T=h;Array.isArray(T)&&(T=T.map(A=>oO(A))),m(e,["tools"],T)}const p=f(n,["toolConfig"]);e!==void 0&&p!=null&&m(e,["toolConfig"],p);const _=f(n,["kmsKeyName"]);return e!==void 0&&_!=null&&m(e,["encryption_spec","kmsKeyName"],_),t}function O4(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["model"],bI(n,i));const a=f(e,["config"]);return a!=null&&V4(a,t),t}function z4(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["model"],bI(n,i));const a=f(e,["config"]);return a!=null&&L4(a,t),t}function B4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],ks(n,i)),t}function q4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],ks(n,i)),t}function F4(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function H4(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function G4(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function K4(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const a=f(n,["name"]);if(a!=null&&m(e,["name"],a),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function j4(n){const e={},t=f(n,["mode"]);t!=null&&m(e,["mode"],t);const i=f(n,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Y4(n){const e={};if(f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=f(n,["description"]);t!=null&&m(e,["description"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const a=f(n,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(n,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const u=f(n,["response"]);u!=null&&m(e,["response"],u);const d=f(n,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function $4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],ks(n,i)),t}function J4(n,e){const t={},i=f(e,["name"]);return i!=null&&m(t,["_url","name"],ks(n,i)),t}function Q4(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function W4(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function X4(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=f(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),t}function Z4(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=f(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),t}function eO(n){const e={},t=f(n,["config"]);return t!=null&&X4(t,e),e}function tO(n){const e={},t=f(n,["config"]);return t!=null&&Z4(t,e),e}function nO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["cachedContents"],o)}return e}function iO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["cachedContents"],o)}return e}function sO(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const a=f(n,["executableCode"]);a!=null&&m(e,["executableCode"],a);const o=f(n,["fileData"]);o!=null&&m(e,["fileData"],G4(o));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],K4(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const h=f(n,["inlineData"]);h!=null&&m(e,["inlineData"],k4(h));const p=f(n,["text"]);p!=null&&m(e,["text"],p);const _=f(n,["thought"]);_!=null&&m(e,["thought"],_);const T=f(n,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const A=f(n,["videoMetadata"]);return A!=null&&m(e,["videoMetadata"],A),e}function rO(n){const e={},t=f(n,["functionCallingConfig"]);t!=null&&m(e,["functionCallingConfig"],j4(t));const i=f(n,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function aO(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(T=>T)),m(e,["functionDeclarations"],_)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(n,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=f(n,["computerUse"]);a!=null&&m(e,["computerUse"],a);const o=f(n,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const u=f(n,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&m(e,["googleMaps"],Q4(d));const h=f(n,["googleSearch"]);h!=null&&m(e,["googleSearch"],W4(h));const p=f(n,["urlContext"]);return p!=null&&m(e,["urlContext"],p),e}function oO(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let T=t;Array.isArray(T)&&(T=T.map(A=>Y4(A))),m(e,["functionDeclarations"],T)}const i=f(n,["retrieval"]);i!=null&&m(e,["retrieval"],i);const a=f(n,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],a);const o=f(n,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(n,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=f(n,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const h=f(n,["googleMaps"]);h!=null&&m(e,["googleMaps"],h);const p=f(n,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const _=f(n,["urlContext"]);return _!=null&&m(e,["urlContext"],_),e}function lO(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const a=f(n,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),t}function uO(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const a=f(n,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),t}function cO(n,e){const t={},i=f(e,["name"]);i!=null&&m(t,["_url","name"],ks(n,i));const a=f(e,["config"]);return a!=null&&lO(a,t),t}function dO(n,e){const t={},i=f(e,["name"]);i!=null&&m(t,["_url","name"],ks(n,i));const a=f(e,["config"]);return a!=null&&uO(a,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fO extends Us{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Da(bs.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=z4(this.apiClient,e);return d=he("cachedContents",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>_)}else{const p=O4(this.apiClient,e);return d=he("cachedContents",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>_)}}async get(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=J4(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>_)}else{const p=$4(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>_)}}async delete(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=q4(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=H4(_),A=new ZS;return Object.assign(A,T),A})}else{const p=B4(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=F4(_),A=new ZS;return Object.assign(A,T),A})}}async update(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=dO(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>_)}else{const p=cO(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>_)}}async listInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=tO(e);return d=he("cachedContents",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=iO(_),A=new eA;return Object.assign(A,T),A})}else{const p=eO(e);return d=he("cachedContents",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=nO(_),A=new eA;return Object.assign(A,T),A})}}}function oA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(n){return this instanceof ht?(this.v=n,this):new ht(n)}function Vo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(I){return function(U){return Promise.resolve(U).then(I,T)}}function d(I,U){i[I]&&(a[I]=function(L){return new Promise(function(B,H){o.push([I,L,B,H])>1||h(I,L)})},U&&(a[I]=U(a[I])))}function h(I,U){try{p(i[I](U))}catch(L){A(o[0][3],L)}}function p(I){I.value instanceof ht?Promise.resolve(I.value.v).then(_,T):A(o[0][2],I)}function _(I){h("next",I)}function T(I){h("throw",I)}function A(I,U){I(U),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Ru(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof oA=="function"?oA(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(u){return new Promise(function(d,h){u=n[o](u),a(d,h,u.done,u.value)})}}function a(o,u,d,h){Promise.resolve(h).then(function(p){o({value:p,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hO(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:FI(t)}function FI(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function pO(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function lA(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const a=[];let o=!0;for(;i<t&&n[i].role==="model";)a.push(n[i]),o&&!FI(n[i])&&(o=!1),i++;o?e.push(...a):e.pop()}return e}class mO{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new gO(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gO{constructor(e,t,i,a={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=a,this.history=o,this.sendPromise=Promise.resolve(),pO(o)}async sendMessage(e){var t;await this.sendPromise;const i=cn(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,u,d;const h=await a,p=(u=(o=h.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content,_=h.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let A=[];_!=null&&(A=(d=_.slice(T))!==null&&d!==void 0?d:[]);const I=p?[p]:[];this.recordHistory(i,I,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var t;await this.sendPromise;const i=cn(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const o=await a;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?lA(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,a;return Vo(this,arguments,function*(){var u,d,h,p;const _=[];try{for(var T=!0,A=Ru(e),I;I=yield ht(A.next()),u=I.done,!u;T=!0){p=I.value,T=!1;const U=p;if(hO(U)){const L=(a=(i=U.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content;L!==void 0&&_.push(L)}yield yield ht(U)}}catch(U){d={error:U}}finally{try{!T&&!u&&(h=A.return)&&(yield ht(h.call(A)))}finally{if(d)throw d.error}}this.recordHistory(t,_)})}recordHistory(e,t,i){let a=[];t.length>0&&t.every(o=>o.role!==void 0)?a=t:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...lA(i)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ah extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ah.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yO(n){const e={},t=f(n,["file"]);return t!=null&&m(e,["file"],t),e}function _O(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function vO(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","file"],kI(t)),e}function EO(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function TO(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","file"],kI(t)),e}function SO(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=f(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),t}function AO(n){const e={},t=f(n,["config"]);return t!=null&&SO(t,e),e}function CO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["files"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wO extends Us{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Da(bs.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=AO(e);return o=he("files",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=CO(h),_=new bL;return Object.assign(_,p),_})}}async createInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=yO(e);return o=he("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=_O(h),_=new NL;return Object.assign(_,p),_})}}async get(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=TO(e);return o=he("files/{file}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=vO(e);return o=he("files/{file}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=EO(h),_=new ML;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sf(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function IO(n){const e={},t=f(n,["parts"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(o=>FO(o))),m(e,["parts"],a)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function xO(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function RO(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const a=f(n,["name"]);if(a!=null&&m(e,["name"],a),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bO(n){const e={};if(f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=f(n,["description"]);t!=null&&m(e,["description"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const a=f(n,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(n,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const u=f(n,["response"]);u!=null&&m(e,["response"],u);const d=f(n,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function NO(n){const e={},t=f(n,["modelSelectionConfig"]);t!=null&&m(e,["modelConfig"],t);const i=f(n,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const a=f(n,["audioTimestamp"]);a!=null&&m(e,["audioTimestamp"],a);const o=f(n,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const u=f(n,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=f(n,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const h=f(n,["logprobs"]);h!=null&&m(e,["logprobs"],h);const p=f(n,["maxOutputTokens"]);p!=null&&m(e,["maxOutputTokens"],p);const _=f(n,["mediaResolution"]);_!=null&&m(e,["mediaResolution"],_);const T=f(n,["presencePenalty"]);T!=null&&m(e,["presencePenalty"],T);const A=f(n,["responseLogprobs"]);A!=null&&m(e,["responseLogprobs"],A);const I=f(n,["responseMimeType"]);I!=null&&m(e,["responseMimeType"],I);const U=f(n,["responseModalities"]);U!=null&&m(e,["responseModalities"],U);const L=f(n,["responseSchema"]);L!=null&&m(e,["responseSchema"],L);const B=f(n,["routingConfig"]);B!=null&&m(e,["routingConfig"],B);const H=f(n,["seed"]);H!=null&&m(e,["seed"],H);const K=f(n,["speechConfig"]);K!=null&&m(e,["speechConfig"],HI(K));const F=f(n,["stopSequences"]);F!=null&&m(e,["stopSequences"],F);const ae=f(n,["temperature"]);ae!=null&&m(e,["temperature"],ae);const ce=f(n,["thinkingConfig"]);ce!=null&&m(e,["thinkingConfig"],ce);const de=f(n,["topK"]);de!=null&&m(e,["topK"],de);const M=f(n,["topP"]);if(M!=null&&m(e,["topP"],M),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function MO(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function DO(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function PO(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const a=f(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const o=f(n,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const u=f(n,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const h=f(n,["maxOutputTokens"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","maxOutputTokens"],h);const p=f(n,["mediaResolution"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","mediaResolution"],p);const _=f(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const T=f(n,["speechConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","speechConfig"],Ny(T));const A=f(n,["thinkingConfig"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","thinkingConfig"],A);const I=f(n,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const U=f(n,["systemInstruction"]);e!==void 0&&U!=null&&m(e,["setup","systemInstruction"],IO(cn(U)));const L=f(n,["tools"]);if(e!==void 0&&L!=null){let de=rl(L);Array.isArray(de)&&(de=de.map(M=>GO(sl(M)))),m(e,["setup","tools"],de)}const B=f(n,["sessionResumption"]);e!==void 0&&B!=null&&m(e,["setup","sessionResumption"],HO(B));const H=f(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&m(e,["setup","inputAudioTranscription"],H);const K=f(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const F=f(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&m(e,["setup","realtimeInputConfig"],F);const ae=f(n,["contextWindowCompression"]);e!==void 0&&ae!=null&&m(e,["setup","contextWindowCompression"],ae);const ce=f(n,["proactivity"]);return e!==void 0&&ce!=null&&m(e,["setup","proactivity"],ce),t}function UO(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],NO(i));const a=f(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const o=f(n,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const u=f(n,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const h=f(n,["maxOutputTokens"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","maxOutputTokens"],h);const p=f(n,["mediaResolution"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","mediaResolution"],p);const _=f(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const T=f(n,["speechConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","speechConfig"],HI(Ny(T)));const A=f(n,["thinkingConfig"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","thinkingConfig"],A);const I=f(n,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const U=f(n,["systemInstruction"]);e!==void 0&&U!=null&&m(e,["setup","systemInstruction"],cn(U));const L=f(n,["tools"]);if(e!==void 0&&L!=null){let de=rl(L);Array.isArray(de)&&(de=de.map(M=>KO(sl(M)))),m(e,["setup","tools"],de)}const B=f(n,["sessionResumption"]);e!==void 0&&B!=null&&m(e,["setup","sessionResumption"],B);const H=f(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&m(e,["setup","inputAudioTranscription"],H);const K=f(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const F=f(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&m(e,["setup","realtimeInputConfig"],F);const ae=f(n,["contextWindowCompression"]);e!==void 0&&ae!=null&&m(e,["setup","contextWindowCompression"],ae);const ce=f(n,["proactivity"]);return e!==void 0&&ce!=null&&m(e,["setup","proactivity"],ce),t}function kO(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["setup","model"],Qe(n,i));const a=f(e,["config"]);return a!=null&&m(t,["config"],PO(a,t)),t}function VO(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["setup","model"],Qe(n,i));const a=f(e,["config"]);return a!=null&&m(t,["config"],UO(a,t)),t}function LO(n){const e={},t=f(n,["musicGenerationConfig"]);return t!=null&&m(e,["musicGenerationConfig"],t),e}function OO(n){const e={},t=f(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>a)),m(e,["weightedPrompts"],i)}return e}function zO(n){const e={},t=f(n,["media"]);if(t!=null){let p=NI(t);Array.isArray(p)&&(p=p.map(_=>sf(_))),m(e,["mediaChunks"],p)}const i=f(n,["audio"]);i!=null&&m(e,["audio"],sf(DI(i)));const a=f(n,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const o=f(n,["video"]);o!=null&&m(e,["video"],sf(MI(o)));const u=f(n,["text"]);u!=null&&m(e,["text"],u);const d=f(n,["activityStart"]);d!=null&&m(e,["activityStart"],d);const h=f(n,["activityEnd"]);return h!=null&&m(e,["activityEnd"],h),e}function BO(n){const e={},t=f(n,["media"]);if(t!=null){let p=NI(t);Array.isArray(p)&&(p=p.map(_=>_)),m(e,["mediaChunks"],p)}const i=f(n,["audio"]);i!=null&&m(e,["audio"],DI(i));const a=f(n,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const o=f(n,["video"]);o!=null&&m(e,["video"],MI(o));const u=f(n,["text"]);u!=null&&m(e,["text"],u);const d=f(n,["activityStart"]);d!=null&&m(e,["activityStart"],d);const h=f(n,["activityEnd"]);return h!=null&&m(e,["activityEnd"],h),e}function qO(n){const e={},t=f(n,["setupComplete"]);t!=null&&m(e,["setupComplete"],t);const i=f(n,["serverContent"]);i!=null&&m(e,["serverContent"],i);const a=f(n,["toolCall"]);a!=null&&m(e,["toolCall"],a);const o=f(n,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const u=f(n,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],jO(u));const d=f(n,["goAway"]);d!=null&&m(e,["goAway"],d);const h=f(n,["sessionResumptionUpdate"]);return h!=null&&m(e,["sessionResumptionUpdate"],h),e}function FO(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const a=f(n,["executableCode"]);a!=null&&m(e,["executableCode"],a);const o=f(n,["fileData"]);o!=null&&m(e,["fileData"],xO(o));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],RO(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const h=f(n,["inlineData"]);h!=null&&m(e,["inlineData"],sf(h));const p=f(n,["text"]);p!=null&&m(e,["text"],p);const _=f(n,["thought"]);_!=null&&m(e,["thought"],_);const T=f(n,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const A=f(n,["videoMetadata"]);return A!=null&&m(e,["videoMetadata"],A),e}function HO(n){const e={},t=f(n,["handle"]);if(t!=null&&m(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function HI(n){const e={},t=f(n,["languageCode"]);t!=null&&m(e,["languageCode"],t);const i=f(n,["voiceConfig"]);if(i!=null&&m(e,["voiceConfig"],i),f(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function GO(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(T=>T)),m(e,["functionDeclarations"],_)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(n,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=f(n,["computerUse"]);a!=null&&m(e,["computerUse"],a);const o=f(n,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const u=f(n,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&m(e,["googleMaps"],MO(d));const h=f(n,["googleSearch"]);h!=null&&m(e,["googleSearch"],DO(h));const p=f(n,["urlContext"]);return p!=null&&m(e,["urlContext"],p),e}function KO(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let T=t;Array.isArray(T)&&(T=T.map(A=>bO(A))),m(e,["functionDeclarations"],T)}const i=f(n,["retrieval"]);i!=null&&m(e,["retrieval"],i);const a=f(n,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],a);const o=f(n,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(n,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=f(n,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const h=f(n,["googleMaps"]);h!=null&&m(e,["googleMaps"],h);const p=f(n,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const _=f(n,["urlContext"]);return _!=null&&m(e,["urlContext"],_),e}function jO(n){const e={},t=f(n,["promptTokenCount"]);t!=null&&m(e,["promptTokenCount"],t);const i=f(n,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const a=f(n,["candidatesTokenCount"]);a!=null&&m(e,["responseTokenCount"],a);const o=f(n,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const u=f(n,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const d=f(n,["totalTokenCount"]);d!=null&&m(e,["totalTokenCount"],d);const h=f(n,["promptTokensDetails"]);if(h!=null){let I=h;Array.isArray(I)&&(I=I.map(U=>U)),m(e,["promptTokensDetails"],I)}const p=f(n,["cacheTokensDetails"]);if(p!=null){let I=p;Array.isArray(I)&&(I=I.map(U=>U)),m(e,["cacheTokensDetails"],I)}const _=f(n,["candidatesTokensDetails"]);if(_!=null){let I=_;Array.isArray(I)&&(I=I.map(U=>U)),m(e,["responseTokensDetails"],I)}const T=f(n,["toolUsePromptTokensDetails"]);if(T!=null){let I=T;Array.isArray(I)&&(I=I.map(U=>U)),m(e,["toolUsePromptTokensDetails"],I)}const A=f(n,["trafficType"]);return A!=null&&m(e,["trafficType"],A),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YO(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $O(n){const e={},t=f(n,["content"]);t!=null&&m(e,["content"],t);const i=f(n,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],JO(i));const a=f(n,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const o=f(n,["finishReason"]);o!=null&&m(e,["finishReason"],o);const u=f(n,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=f(n,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const h=f(n,["index"]);h!=null&&m(e,["index"],h);const p=f(n,["logprobsResult"]);p!=null&&m(e,["logprobsResult"],p);const _=f(n,["safetyRatings"]);if(_!=null){let A=_;Array.isArray(A)&&(A=A.map(I=>I)),m(e,["safetyRatings"],A)}const T=f(n,["urlContextMetadata"]);return T!=null&&m(e,["urlContextMetadata"],T),e}function JO(n){const e={},t=f(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>a)),m(e,["citations"],i)}return e}function QO(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let o=Zn(a);Array.isArray(o)&&(o=o.map(u=>u)),m(t,["contents"],o)}return t}function WO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["tokensInfo"],a)}return e}function XO(n){const e={},t=f(n,["values"]);t!=null&&m(e,["values"],t);const i=f(n,["statistics"]);return i!=null&&m(e,["statistics"],ZO(i)),e}function ZO(n){const e={},t=f(n,["truncated"]);t!=null&&m(e,["truncated"],t);const i=f(n,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function oh(n){const e={},t=f(n,["parts"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(o=>l3(o))),m(e,["parts"],a)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function ez(n){const e={},t=f(n,["controlType"]);t!=null&&m(e,["controlType"],t);const i=f(n,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function tz(n){const e={};if(f(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nz(n,e){const t={},i=f(n,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],cn(i));const a=f(n,["tools"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>$I(d))),m(e,["tools"],u)}const o=f(n,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],Yz(o)),t}function iz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let u=Zn(a);Array.isArray(u)&&(u=u.map(d=>oh(d))),m(t,["contents"],u)}const o=f(e,["config"]);return o!=null&&tz(o),t}function sz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let u=Zn(a);Array.isArray(u)&&(u=u.map(d=>d)),m(t,["contents"],u)}const o=f(e,["config"]);return o!=null&&nz(o,t),t}function rz(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const a=f(n,["cachedContentTokenCount"]);return a!=null&&m(e,["cachedContentTokenCount"],a),e}function az(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function oz(n,e){const t={},i=f(e,["model"]);return i!=null&&m(t,["_url","name"],Qe(n,i)),t}function lz(n,e){const t={},i=f(e,["model"]);return i!=null&&m(t,["_url","name"],Qe(n,i)),t}function uz(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function cz(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}function dz(n,e){const t={},i=f(n,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const a=f(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const o=f(n,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const u=f(n,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=f(n,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const h=f(n,["seed"]);e!==void 0&&h!=null&&m(e,["parameters","seed"],h);const p=f(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&m(e,["parameters","safetySetting"],p);const _=f(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&m(e,["parameters","includeSafetyAttributes"],T);const A=f(n,["includeRaiReason"]);e!==void 0&&A!=null&&m(e,["parameters","includeRaiReason"],A);const I=f(n,["language"]);e!==void 0&&I!=null&&m(e,["parameters","language"],I);const U=f(n,["outputMimeType"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","mimeType"],U);const L=f(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&m(e,["parameters","outputOptions","compressionQuality"],L);const B=f(n,["addWatermark"]);e!==void 0&&B!=null&&m(e,["parameters","addWatermark"],B);const H=f(n,["labels"]);e!==void 0&&H!=null&&m(e,["labels"],H);const K=f(n,["editMode"]);e!==void 0&&K!=null&&m(e,["parameters","editMode"],K);const F=f(n,["baseSteps"]);return e!==void 0&&F!=null&&m(e,["parameters","editConfig","baseSteps"],F),t}function fz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["prompt"]);a!=null&&m(t,["instances[0]","prompt"],a);const o=f(e,["referenceImages"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>p3(h))),m(t,["instances[0]","referenceImages"],d)}const u=f(e,["config"]);return u!=null&&dz(u,t),t}function hz(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>lh(o))),m(e,["generatedImages"],a)}return e}function pz(n,e){const t={},i=f(n,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const a=f(n,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const o=f(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function mz(n,e){const t={},i=f(n,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const a=f(n,["title"]);e!==void 0&&a!=null&&m(e,["instances[]","title"],a);const o=f(n,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const u=f(n,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const d=f(n,["autoTruncate"]);return e!==void 0&&d!=null&&m(e,["parameters","autoTruncate"],d),t}function gz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let d=xy(n,a);Array.isArray(d)&&(d=d.map(h=>h)),m(t,["requests[]","content"],d)}const o=f(e,["config"]);o!=null&&pz(o,t);const u=f(e,["model"]);return u!==void 0&&m(t,["requests[]","model"],Qe(n,u)),t}function yz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let u=xy(n,a);Array.isArray(u)&&(u=u.map(d=>d)),m(t,["instances[]","content"],u)}const o=f(e,["config"]);return o!=null&&mz(o,t),t}function _z(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["embeddings"],o)}const a=f(n,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function vz(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>XO(u))),m(e,["embeddings"],o)}const a=f(n,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function Ez(n){const e={},t=f(n,["endpoint"]);t!=null&&m(e,["name"],t);const i=f(n,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function Tz(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Sz(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const a=f(n,["name"]);if(a!=null&&m(e,["name"],a),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Az(n){const e={},t=f(n,["mode"]);t!=null&&m(e,["mode"],t);const i=f(n,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Cz(n){const e={};if(f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=f(n,["description"]);t!=null&&m(e,["description"],t);const i=f(n,["name"]);i!=null&&m(e,["name"],i);const a=f(n,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(n,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const u=f(n,["response"]);u!=null&&m(e,["response"],u);const d=f(n,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function wz(n,e,t){const i={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&m(t,["systemInstruction"],oh(cn(a)));const o=f(e,["temperature"]);o!=null&&m(i,["temperature"],o);const u=f(e,["topP"]);u!=null&&m(i,["topP"],u);const d=f(e,["topK"]);d!=null&&m(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&m(i,["candidateCount"],h);const p=f(e,["maxOutputTokens"]);p!=null&&m(i,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&m(i,["stopSequences"],_);const T=f(e,["responseLogprobs"]);T!=null&&m(i,["responseLogprobs"],T);const A=f(e,["logprobs"]);A!=null&&m(i,["logprobs"],A);const I=f(e,["presencePenalty"]);I!=null&&m(i,["presencePenalty"],I);const U=f(e,["frequencyPenalty"]);U!=null&&m(i,["frequencyPenalty"],U);const L=f(e,["seed"]);L!=null&&m(i,["seed"],L);const B=f(e,["responseMimeType"]);B!=null&&m(i,["responseMimeType"],B);const H=f(e,["responseSchema"]);H!=null&&m(i,["responseSchema"],Ry(H));const K=f(e,["responseJsonSchema"]);if(K!=null&&m(i,["responseJsonSchema"],K),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=f(e,["safetySettings"]);if(t!==void 0&&F!=null){let G=F;Array.isArray(G)&&(G=G.map(P=>m3(P))),m(t,["safetySettings"],G)}const ae=f(e,["tools"]);if(t!==void 0&&ae!=null){let G=rl(ae);Array.isArray(G)&&(G=G.map(P=>S3(sl(P)))),m(t,["tools"],G)}const ce=f(e,["toolConfig"]);if(t!==void 0&&ce!=null&&m(t,["toolConfig"],T3(ce)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const de=f(e,["cachedContent"]);t!==void 0&&de!=null&&m(t,["cachedContent"],ks(n,de));const M=f(e,["responseModalities"]);M!=null&&m(i,["responseModalities"],M);const N=f(e,["mediaResolution"]);N!=null&&m(i,["mediaResolution"],N);const b=f(e,["speechConfig"]);if(b!=null&&m(i,["speechConfig"],by(b)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=f(e,["thinkingConfig"]);V!=null&&m(i,["thinkingConfig"],V);const O=f(e,["imageConfig"]);return O!=null&&m(i,["imageConfig"],Xz(O)),i}function Iz(n,e,t){const i={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&m(t,["systemInstruction"],cn(a));const o=f(e,["temperature"]);o!=null&&m(i,["temperature"],o);const u=f(e,["topP"]);u!=null&&m(i,["topP"],u);const d=f(e,["topK"]);d!=null&&m(i,["topK"],d);const h=f(e,["candidateCount"]);h!=null&&m(i,["candidateCount"],h);const p=f(e,["maxOutputTokens"]);p!=null&&m(i,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&m(i,["stopSequences"],_);const T=f(e,["responseLogprobs"]);T!=null&&m(i,["responseLogprobs"],T);const A=f(e,["logprobs"]);A!=null&&m(i,["logprobs"],A);const I=f(e,["presencePenalty"]);I!=null&&m(i,["presencePenalty"],I);const U=f(e,["frequencyPenalty"]);U!=null&&m(i,["frequencyPenalty"],U);const L=f(e,["seed"]);L!=null&&m(i,["seed"],L);const B=f(e,["responseMimeType"]);B!=null&&m(i,["responseMimeType"],B);const H=f(e,["responseSchema"]);H!=null&&m(i,["responseSchema"],Ry(H));const K=f(e,["responseJsonSchema"]);K!=null&&m(i,["responseJsonSchema"],K);const F=f(e,["routingConfig"]);F!=null&&m(i,["routingConfig"],F);const ae=f(e,["modelSelectionConfig"]);ae!=null&&m(i,["modelConfig"],ae);const ce=f(e,["safetySettings"]);if(t!==void 0&&ce!=null){let ee=ce;Array.isArray(ee)&&(ee=ee.map(le=>le)),m(t,["safetySettings"],ee)}const de=f(e,["tools"]);if(t!==void 0&&de!=null){let ee=rl(de);Array.isArray(ee)&&(ee=ee.map(le=>$I(sl(le)))),m(t,["tools"],ee)}const M=f(e,["toolConfig"]);t!==void 0&&M!=null&&m(t,["toolConfig"],M);const N=f(e,["labels"]);t!==void 0&&N!=null&&m(t,["labels"],N);const b=f(e,["cachedContent"]);t!==void 0&&b!=null&&m(t,["cachedContent"],ks(n,b));const V=f(e,["responseModalities"]);V!=null&&m(i,["responseModalities"],V);const O=f(e,["mediaResolution"]);O!=null&&m(i,["mediaResolution"],O);const G=f(e,["speechConfig"]);G!=null&&m(i,["speechConfig"],YI(by(G)));const P=f(e,["audioTimestamp"]);P!=null&&m(i,["audioTimestamp"],P);const Ze=f(e,["thinkingConfig"]);Ze!=null&&m(i,["thinkingConfig"],Ze);const mt=f(e,["imageConfig"]);return mt!=null&&m(i,["imageConfig"],Zz(mt)),i}function uA(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let u=Zn(a);Array.isArray(u)&&(u=u.map(d=>oh(d))),m(t,["contents"],u)}const o=f(e,["config"]);return o!=null&&m(t,["generationConfig"],wz(n,o,t)),t}function cA(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["contents"]);if(a!=null){let u=Zn(a);Array.isArray(u)&&(u=u.map(d=>d)),m(t,["contents"],u)}const o=f(e,["config"]);return o!=null&&m(t,["generationConfig"],Iz(n,o,t)),t}function dA(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>$O(p))),m(e,["candidates"],h)}const a=f(n,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const o=f(n,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const u=f(n,["responseId"]);u!=null&&m(e,["responseId"],u);const d=f(n,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function fA(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(_=>_)),m(e,["candidates"],p)}const a=f(n,["createTime"]);a!=null&&m(e,["createTime"],a);const o=f(n,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const u=f(n,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const d=f(n,["responseId"]);d!=null&&m(e,["responseId"],d);const h=f(n,["usageMetadata"]);return h!=null&&m(e,["usageMetadata"],h),e}function xz(n,e){const t={};if(f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(n,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const a=f(n,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const o=f(n,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=f(n,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const h=f(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&m(e,["parameters","includeSafetyAttributes"],h);const p=f(n,["includeRaiReason"]);e!==void 0&&p!=null&&m(e,["parameters","includeRaiReason"],p);const _=f(n,["language"]);e!==void 0&&_!=null&&m(e,["parameters","language"],_);const T=f(n,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const A=f(n,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A),f(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=f(n,["imageSize"]);if(e!==void 0&&I!=null&&m(e,["parameters","sampleImageSize"],I),f(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function Rz(n,e){const t={},i=f(n,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const a=f(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const o=f(n,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const u=f(n,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=f(n,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const h=f(n,["seed"]);e!==void 0&&h!=null&&m(e,["parameters","seed"],h);const p=f(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&m(e,["parameters","safetySetting"],p);const _=f(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&m(e,["parameters","includeSafetyAttributes"],T);const A=f(n,["includeRaiReason"]);e!==void 0&&A!=null&&m(e,["parameters","includeRaiReason"],A);const I=f(n,["language"]);e!==void 0&&I!=null&&m(e,["parameters","language"],I);const U=f(n,["outputMimeType"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","mimeType"],U);const L=f(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&m(e,["parameters","outputOptions","compressionQuality"],L);const B=f(n,["addWatermark"]);e!==void 0&&B!=null&&m(e,["parameters","addWatermark"],B);const H=f(n,["labels"]);e!==void 0&&H!=null&&m(e,["labels"],H);const K=f(n,["imageSize"]);e!==void 0&&K!=null&&m(e,["parameters","sampleImageSize"],K);const F=f(n,["enhancePrompt"]);return e!==void 0&&F!=null&&m(e,["parameters","enhancePrompt"],F),t}function bz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["prompt"]);a!=null&&m(t,["instances[0]","prompt"],a);const o=f(e,["config"]);return o!=null&&xz(o,t),t}function Nz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["prompt"]);a!=null&&m(t,["instances[0]","prompt"],a);const o=f(e,["config"]);return o!=null&&Rz(o,t),t}function Mz(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Hz(u))),m(e,["generatedImages"],o)}const a=f(n,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],KI(a)),e}function Dz(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>lh(u))),m(e,["generatedImages"],o)}const a=f(n,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],jI(a)),e}function Pz(n,e){const t={},i=f(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(n,["durationSeconds"]);if(e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(n,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const u=f(n,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=f(n,["personGeneration"]);if(e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d),f(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(n,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const p=f(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&m(e,["parameters","enhancePrompt"],p),f(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=f(n,["lastFrame"]);e!==void 0&&_!=null&&m(e,["instances[0]","lastFrame"],uh(_));const T=f(n,["referenceImages"]);if(e!==void 0&&T!=null){let A=T;Array.isArray(A)&&(A=A.map(I=>k3(I))),m(e,["instances[0]","referenceImages"],A)}if(f(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function Uz(n,e){const t={},i=f(n,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const a=f(n,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const o=f(n,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const u=f(n,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const d=f(n,["seed"]);e!==void 0&&d!=null&&m(e,["parameters","seed"],d);const h=f(n,["aspectRatio"]);e!==void 0&&h!=null&&m(e,["parameters","aspectRatio"],h);const p=f(n,["resolution"]);e!==void 0&&p!=null&&m(e,["parameters","resolution"],p);const _=f(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const T=f(n,["pubsubTopic"]);e!==void 0&&T!=null&&m(e,["parameters","pubsubTopic"],T);const A=f(n,["negativePrompt"]);e!==void 0&&A!=null&&m(e,["parameters","negativePrompt"],A);const I=f(n,["enhancePrompt"]);e!==void 0&&I!=null&&m(e,["parameters","enhancePrompt"],I);const U=f(n,["generateAudio"]);e!==void 0&&U!=null&&m(e,["parameters","generateAudio"],U);const L=f(n,["lastFrame"]);e!==void 0&&L!=null&&m(e,["instances[0]","lastFrame"],vi(L));const B=f(n,["referenceImages"]);if(e!==void 0&&B!=null){let F=B;Array.isArray(F)&&(F=F.map(ae=>V3(ae))),m(e,["instances[0]","referenceImages"],F)}const H=f(n,["mask"]);e!==void 0&&H!=null&&m(e,["instances[0]","mask"],U3(H));const K=f(n,["compressionQuality"]);return e!==void 0&&K!=null&&m(e,["parameters","compressionQuality"],K),t}function kz(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],zz(u)),e}function Vz(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["response"]);return u!=null&&m(e,["response"],Bz(u)),e}function Lz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["prompt"]);a!=null&&m(t,["instances[0]","prompt"],a);const o=f(e,["image"]);o!=null&&m(t,["instances[0]","image"],uh(o));const u=f(e,["video"]);u!=null&&m(t,["instances[0]","video"],JI(u));const d=f(e,["source"]);d!=null&&qz(d,t);const h=f(e,["config"]);return h!=null&&Pz(h,t),t}function Oz(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["prompt"]);a!=null&&m(t,["instances[0]","prompt"],a);const o=f(e,["image"]);o!=null&&m(t,["instances[0]","image"],vi(o));const u=f(e,["video"]);u!=null&&m(t,["instances[0]","video"],QI(u));const d=f(e,["source"]);d!=null&&Fz(d,t);const h=f(e,["config"]);return h!=null&&Uz(h,t),t}function zz(n){const e={},t=f(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>Kz(u))),m(e,["generatedVideos"],o)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function Bz(n){const e={},t=f(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(u=>jz(u))),m(e,["generatedVideos"],o)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function qz(n,e){const t={},i=f(n,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const a=f(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],uh(a));const o=f(n,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],JI(o)),t}function Fz(n,e){const t={},i=f(n,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const a=f(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],vi(a));const o=f(n,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],QI(o)),t}function Hz(n){const e={},t=f(n,["_self"]);t!=null&&m(e,["image"],e3(t));const i=f(n,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const a=f(n,["_self"]);return a!=null&&m(e,["safetyAttributes"],KI(a)),e}function lh(n){const e={},t=f(n,["_self"]);t!=null&&m(e,["image"],GI(t));const i=f(n,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const a=f(n,["_self"]);a!=null&&m(e,["safetyAttributes"],jI(a));const o=f(n,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Gz(n){const e={},t=f(n,["_self"]);t!=null&&m(e,["mask"],GI(t));const i=f(n,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["labels"],a)}return e}function Kz(n){const e={},t=f(n,["video"]);return t!=null&&m(e,["video"],D3(t)),e}function jz(n){const e={},t=f(n,["_self"]);return t!=null&&m(e,["video"],P3(t)),e}function Yz(n){const e={},t=f(n,["modelSelectionConfig"]);t!=null&&m(e,["modelConfig"],t);const i=f(n,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const a=f(n,["audioTimestamp"]);a!=null&&m(e,["audioTimestamp"],a);const o=f(n,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const u=f(n,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=f(n,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const h=f(n,["logprobs"]);h!=null&&m(e,["logprobs"],h);const p=f(n,["maxOutputTokens"]);p!=null&&m(e,["maxOutputTokens"],p);const _=f(n,["mediaResolution"]);_!=null&&m(e,["mediaResolution"],_);const T=f(n,["presencePenalty"]);T!=null&&m(e,["presencePenalty"],T);const A=f(n,["responseLogprobs"]);A!=null&&m(e,["responseLogprobs"],A);const I=f(n,["responseMimeType"]);I!=null&&m(e,["responseMimeType"],I);const U=f(n,["responseModalities"]);U!=null&&m(e,["responseModalities"],U);const L=f(n,["responseSchema"]);L!=null&&m(e,["responseSchema"],L);const B=f(n,["routingConfig"]);B!=null&&m(e,["routingConfig"],B);const H=f(n,["seed"]);H!=null&&m(e,["seed"],H);const K=f(n,["speechConfig"]);K!=null&&m(e,["speechConfig"],YI(K));const F=f(n,["stopSequences"]);F!=null&&m(e,["stopSequences"],F);const ae=f(n,["temperature"]);ae!=null&&m(e,["temperature"],ae);const ce=f(n,["thinkingConfig"]);ce!=null&&m(e,["thinkingConfig"],ce);const de=f(n,["topK"]);de!=null&&m(e,["topK"],de);const M=f(n,["topP"]);if(M!=null&&m(e,["topP"],M),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $z(n,e){const t={},i=f(e,["model"]);return i!=null&&m(t,["_url","name"],Qe(n,i)),t}function Jz(n,e){const t={},i=f(e,["model"]);return i!=null&&m(t,["_url","name"],Qe(n,i)),t}function Qz(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function Wz(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function Xz(n){const e={},t=f(n,["aspectRatio"]);t!=null&&m(e,["aspectRatio"],t);const i=f(n,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Zz(n){const e={},t=f(n,["aspectRatio"]);t!=null&&m(e,["aspectRatio"],t);const i=f(n,["imageSize"]);i!=null&&m(e,["imageSize"],i);const a=f(n,["outputMimeType"]);a!=null&&m(e,["imageOutputOptions","mimeType"],a);const o=f(n,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function e3(n){const e={},t=f(n,["bytesBase64Encoded"]);t!=null&&m(e,["imageBytes"],zr(t));const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function GI(n){const e={},t=f(n,["gcsUri"]);t!=null&&m(e,["gcsUri"],t);const i=f(n,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],zr(i));const a=f(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function uh(n){const e={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=f(n,["imageBytes"]);t!=null&&m(e,["bytesBase64Encoded"],zr(t));const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function vi(n){const e={},t=f(n,["gcsUri"]);t!=null&&m(e,["gcsUri"],t);const i=f(n,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],zr(i));const a=f(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function t3(n,e,t){const i={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&m(t,["_query","pageSize"],a);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&m(t,["_query","pageToken"],o);const u=f(e,["filter"]);t!==void 0&&u!=null&&m(t,["_query","filter"],u);const d=f(e,["queryBase"]);return t!==void 0&&d!=null&&m(t,["_url","models_url"],VI(n,d)),i}function n3(n,e,t){const i={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&m(t,["_query","pageSize"],a);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&m(t,["_query","pageToken"],o);const u=f(e,["filter"]);t!==void 0&&u!=null&&m(t,["_query","filter"],u);const d=f(e,["queryBase"]);return t!==void 0&&d!=null&&m(t,["_url","models_url"],VI(n,d)),i}function i3(n,e){const t={},i=f(e,["config"]);return i!=null&&t3(n,i,t),t}function s3(n,e){const t={},i=f(e,["config"]);return i!=null&&n3(n,i,t),t}function r3(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["_self"]);if(a!=null){let o=LI(a);Array.isArray(o)&&(o=o.map(u=>hg(u))),m(e,["models"],o)}return e}function a3(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["_self"]);if(a!=null){let o=LI(a);Array.isArray(o)&&(o=o.map(u=>pg(u))),m(e,["models"],o)}return e}function o3(n){const e={},t=f(n,["maskMode"]);t!=null&&m(e,["maskMode"],t);const i=f(n,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const a=f(n,["maskDilation"]);return a!=null&&m(e,["dilation"],a),e}function hg(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["displayName"]);i!=null&&m(e,["displayName"],i);const a=f(n,["description"]);a!=null&&m(e,["description"],a);const o=f(n,["version"]);o!=null&&m(e,["version"],o);const u=f(n,["_self"]);u!=null&&m(e,["tunedModelInfo"],A3(u));const d=f(n,["inputTokenLimit"]);d!=null&&m(e,["inputTokenLimit"],d);const h=f(n,["outputTokenLimit"]);h!=null&&m(e,["outputTokenLimit"],h);const p=f(n,["supportedGenerationMethods"]);p!=null&&m(e,["supportedActions"],p);const _=f(n,["temperature"]);_!=null&&m(e,["temperature"],_);const T=f(n,["maxTemperature"]);T!=null&&m(e,["maxTemperature"],T);const A=f(n,["topP"]);A!=null&&m(e,["topP"],A);const I=f(n,["topK"]);I!=null&&m(e,["topK"],I);const U=f(n,["thinking"]);return U!=null&&m(e,["thinking"],U),e}function pg(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["displayName"]);i!=null&&m(e,["displayName"],i);const a=f(n,["description"]);a!=null&&m(e,["description"],a);const o=f(n,["versionId"]);o!=null&&m(e,["version"],o);const u=f(n,["deployedModels"]);if(u!=null){let T=u;Array.isArray(T)&&(T=T.map(A=>Ez(A))),m(e,["endpoints"],T)}const d=f(n,["labels"]);d!=null&&m(e,["labels"],d);const h=f(n,["_self"]);h!=null&&m(e,["tunedModelInfo"],C3(h));const p=f(n,["defaultCheckpointId"]);p!=null&&m(e,["defaultCheckpointId"],p);const _=f(n,["checkpoints"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["checkpoints"],T)}return e}function l3(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const a=f(n,["executableCode"]);a!=null&&m(e,["executableCode"],a);const o=f(n,["fileData"]);o!=null&&m(e,["fileData"],Tz(o));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],Sz(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const h=f(n,["inlineData"]);h!=null&&m(e,["inlineData"],YO(h));const p=f(n,["text"]);p!=null&&m(e,["text"],p);const _=f(n,["thought"]);_!=null&&m(e,["thought"],_);const T=f(n,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const A=f(n,["videoMetadata"]);return A!=null&&m(e,["videoMetadata"],A),e}function u3(n){const e={},t=f(n,["productImage"]);return t!=null&&m(e,["image"],vi(t)),e}function c3(n,e){const t={},i=f(n,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const a=f(n,["baseSteps"]);e!==void 0&&a!=null&&m(e,["parameters","baseSteps"],a);const o=f(n,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const u=f(n,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const d=f(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const h=f(n,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const p=f(n,["addWatermark"]);e!==void 0&&p!=null&&m(e,["parameters","addWatermark"],p);const _=f(n,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const T=f(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T);const A=f(n,["enhancePrompt"]);e!==void 0&&A!=null&&m(e,["parameters","enhancePrompt"],A);const I=f(n,["labels"]);return e!==void 0&&I!=null&&m(e,["labels"],I),t}function d3(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["source"]);a!=null&&h3(a,t);const o=f(e,["config"]);return o!=null&&c3(o,t),t}function f3(n){const e={},t=f(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>lh(a))),m(e,["generatedImages"],i)}return e}function h3(n,e){const t={},i=f(n,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const a=f(n,["personImage"]);e!==void 0&&a!=null&&m(e,["instances[0]","personImage","image"],vi(a));const o=f(n,["productImages"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>u3(d))),m(e,["instances[0]","productImages"],u)}return t}function p3(n){const e={},t=f(n,["referenceImage"]);t!=null&&m(e,["referenceImage"],vi(t));const i=f(n,["referenceId"]);i!=null&&m(e,["referenceId"],i);const a=f(n,["referenceType"]);a!=null&&m(e,["referenceType"],a);const o=f(n,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],o3(o));const u=f(n,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],ez(u));const d=f(n,["styleImageConfig"]);d!=null&&m(e,["styleImageConfig"],d);const h=f(n,["subjectImageConfig"]);return h!=null&&m(e,["subjectImageConfig"],h),e}function KI(n){const e={},t=f(n,["safetyAttributes","categories"]);t!=null&&m(e,["categories"],t);const i=f(n,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const a=f(n,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function jI(n){const e={},t=f(n,["safetyAttributes","categories"]);t!=null&&m(e,["categories"],t);const i=f(n,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const a=f(n,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function m3(n){const e={},t=f(n,["category"]);if(t!=null&&m(e,["category"],t),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(n,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function g3(n){const e={},t=f(n,["image"]);return t!=null&&m(e,["image"],vi(t)),e}function y3(n,e){const t={},i=f(n,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const a=f(n,["maxPredictions"]);e!==void 0&&a!=null&&m(e,["parameters","maxPredictions"],a);const o=f(n,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const u=f(n,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const d=f(n,["binaryColorThreshold"]);e!==void 0&&d!=null&&m(e,["parameters","binaryColorThreshold"],d);const h=f(n,["labels"]);return e!==void 0&&h!=null&&m(e,["labels"],h),t}function _3(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["source"]);a!=null&&E3(a,t);const o=f(e,["config"]);return o!=null&&y3(o,t),t}function v3(n){const e={},t=f(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>Gz(a))),m(e,["generatedMasks"],i)}return e}function E3(n,e){const t={},i=f(n,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const a=f(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],vi(a));const o=f(n,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],g3(o)),t}function YI(n){const e={},t=f(n,["languageCode"]);t!=null&&m(e,["languageCode"],t);const i=f(n,["voiceConfig"]);if(i!=null&&m(e,["voiceConfig"],i),f(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function T3(n){const e={},t=f(n,["functionCallingConfig"]);t!=null&&m(e,["functionCallingConfig"],Az(t));const i=f(n,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function S3(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(T=>T)),m(e,["functionDeclarations"],_)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(n,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=f(n,["computerUse"]);a!=null&&m(e,["computerUse"],a);const o=f(n,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const u=f(n,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&m(e,["googleMaps"],Qz(d));const h=f(n,["googleSearch"]);h!=null&&m(e,["googleSearch"],Wz(h));const p=f(n,["urlContext"]);return p!=null&&m(e,["urlContext"],p),e}function $I(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let T=t;Array.isArray(T)&&(T=T.map(A=>Cz(A))),m(e,["functionDeclarations"],T)}const i=f(n,["retrieval"]);i!=null&&m(e,["retrieval"],i);const a=f(n,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],a);const o=f(n,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(n,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=f(n,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const h=f(n,["googleMaps"]);h!=null&&m(e,["googleMaps"],h);const p=f(n,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const _=f(n,["urlContext"]);return _!=null&&m(e,["urlContext"],_),e}function A3(n){const e={},t=f(n,["baseModel"]);t!=null&&m(e,["baseModel"],t);const i=f(n,["createTime"]);i!=null&&m(e,["createTime"],i);const a=f(n,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function C3(n){const e={},t=f(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&m(e,["baseModel"],t);const i=f(n,["createTime"]);i!=null&&m(e,["createTime"],i);const a=f(n,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function w3(n,e){const t={},i=f(n,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const a=f(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const o=f(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),t}function I3(n,e){const t={},i=f(n,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const a=f(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const o=f(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),t}function x3(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","name"],Qe(n,i));const a=f(e,["config"]);return a!=null&&w3(a,t),t}function R3(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["config"]);return a!=null&&I3(a,t),t}function b3(n,e){const t={},i=f(n,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const a=f(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const o=f(n,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const u=f(n,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=f(n,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const h=f(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h);const p=f(n,["enhanceInputImage"]);e!==void 0&&p!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],p);const _=f(n,["imagePreservationFactor"]);e!==void 0&&_!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const T=f(n,["labels"]);e!==void 0&&T!=null&&m(e,["labels"],T);const A=f(n,["numberOfImages"]);e!==void 0&&A!=null&&m(e,["parameters","sampleCount"],A);const I=f(n,["mode"]);return e!==void 0&&I!=null&&m(e,["parameters","mode"],I),t}function N3(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["_url","model"],Qe(n,i));const a=f(e,["image"]);a!=null&&m(t,["instances[0]","image"],vi(a));const o=f(e,["upscaleFactor"]);o!=null&&m(t,["parameters","upscaleConfig","upscaleFactor"],o);const u=f(e,["config"]);return u!=null&&b3(u,t),t}function M3(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>lh(o))),m(e,["generatedImages"],a)}return e}function D3(n){const e={},t=f(n,["uri"]);t!=null&&m(e,["uri"],t);const i=f(n,["encodedVideo"]);i!=null&&m(e,["videoBytes"],zr(i));const a=f(n,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function P3(n){const e={},t=f(n,["gcsUri"]);t!=null&&m(e,["uri"],t);const i=f(n,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],zr(i));const a=f(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function U3(n){const e={},t=f(n,["image"]);t!=null&&m(e,["_self"],vi(t));const i=f(n,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function k3(n){const e={},t=f(n,["image"]);t!=null&&m(e,["image"],uh(t));const i=f(n,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function V3(n){const e={},t=f(n,["image"]);t!=null&&m(e,["image"],vi(t));const i=f(n,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function JI(n){const e={},t=f(n,["uri"]);t!=null&&m(e,["uri"],t);const i=f(n,["videoBytes"]);i!=null&&m(e,["encodedVideo"],zr(i));const a=f(n,["mimeType"]);return a!=null&&m(e,["encoding"],a),e}function QI(n){const e={},t=f(n,["uri"]);t!=null&&m(e,["gcsUri"],t);const i=f(n,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],zr(i));const a=f(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L3="Content-Type",O3="X-Server-Timeout",z3="User-Agent",mg="x-goog-api-client",B3="1.30.0",q3=`google-genai-sdk/${B3}`,F3="v1beta1",H3="v1beta",hA=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class G3{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:F3,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:H3,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const a=[this.getRequestUrlInternal(t)];return i&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))a.searchParams.append(u,String(d));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,a.toString(),e.abortSignal),this.unaryApiCall(a,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[a,o]of Object.entries(t))typeof o=="object"?i[a]=Object.assign(Object.assign({},i[a]),o):o!==void 0&&(i[a]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,t,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,a.toString(),e.abortSignal),this.streamApiCall(a,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,a){if(t&&t.timeout||a){const o=new AbortController,u=o.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const d=setTimeout(()=>o.abort(),t.timeout);d&&typeof d.unref=="function"&&d.unref()}a&&a.addEventListener("abort",()=>{o.abort()}),e.signal=u}return t&&t.extraBody!==null&&K3(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async a=>(await pA(a),new cg(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async a=>(await pA(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var t;return Vo(this,arguments,function*(){const a=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:h}=yield ht(a.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const A=JSON.parse(JSON.stringify(T.error)),I=A.status,U=A.code,L=`got status: ${I}. ${JSON.stringify(T)}`;if(U>=400&&U<600)throw new ah({message:L,status:U})}}catch(T){if(T.name==="ApiError")throw T}u+=p;let _=u.match(hA);for(;_;){const T=_[1];try{const A=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ht(new cg(A)),u=u.slice(_[0].length),_=u.match(hA)}catch(A){throw new Error(`exception parsing stream chunk ${T}. ${A}`)}}}}finally{a.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=q3+" "+this.clientOptions.userAgentExtra;return e[z3]=t,e[mg]=t,e[L3]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[a,o]of Object.entries(e.headers))i.append(a,o);e.timeout&&e.timeout>0&&i.append(O3,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const a={};t!=null&&(a.mimeType=t.mimeType,a.name=t.name,a.displayName=t.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const o=this.clientOptions.uploader,u=await o.stat(e);a.sizeBytes=String(u.size);const d=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=d;const h={file:a},p=this.getFileName(e),_=he("upload/v1beta/files",h._url),T=await this.fetchUploadUrl(_,a.sizeBytes,a.mimeType,p,h,t==null?void 0:t.httpOptions);return o.upload(e,T,this)}async uploadFileToFileSearchStore(e,t,i){var a;const o=this.clientOptions.uploader,u=await o.stat(t),d=String(u.size),h=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,_=this.getFileName(t),T={};i!=null&&i.customMetadata&&(T.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(T.chunkingConfig=i.chunkingConfig);const A=await this.fetchUploadUrl(p,d,h,_,T,i==null?void 0:i.httpOptions);return o.uploadToFileSearchStore(t,A,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,a,o,u){var d;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:h});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const _=(d=p==null?void 0:p.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(_===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return _}}async function pA(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(i);throw t>=400&&t<600?new ah({message:a,status:t}):new Error(a)}}function K3(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const o=JSON.parse(n.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))t=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,u){const d=Object.assign({},o);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const p=u[h],_=d[h];p&&typeof p=="object"&&!Array.isArray(p)&&_&&typeof _=="object"&&!Array.isArray(_)?d[h]=i(_,p):(_&&p&&typeof _!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof _}, New type: ${typeof p}. Overwriting.`),d[h]=p)}return d}const a=i(t,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j3="mcp_used/unknown";let Y3=!1;function WI(n){for(const e of n)if($3(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Y3}function XI(n){var e;const t=(e=n[mg])!==null&&e!==void 0?e:"";n[mg]=(t+` ${j3}`).trimStart()}function $3(n){return n!==null&&typeof n=="object"&&n instanceof My}function J3(n,e=100){return Vo(this,arguments,function*(){let i,a=0;for(;a<e;){const o=yield ht(n.listTools({cursor:i}));for(const u of o.tools)yield yield ht(u),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class My{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new My(e,t)}async initialize(){var e,t,i,a;if(this.mcpTools.length>0)return;const o={},u=[];for(const _ of this.mcpClients)try{for(var d=!0,h=(t=void 0,Ru(J3(_))),p;p=await h.next(),e=p.done,!e;d=!0){a=p.value,d=!1;const T=a;u.push(T);const A=T.name;if(o[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);o[A]=_}}catch(T){t={error:T}}finally{try{!d&&!e&&(i=h.return)&&await i.call(h)}finally{if(t)throw t.error}}this.mcpTools=u,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),qL(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const u=await a.callTool({name:i.name,arguments:i.args},void 0,o);t.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Q3(n,e,t){const i=new PL;let a;t.data instanceof Blob?a=JSON.parse(await t.data.text()):a=JSON.parse(t.data),Object.assign(i,a),e(i)}class W3{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),u=e6(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),h=`${a}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const _=new Promise(F=>{p=F}),T=e.callbacks,A=function(){p({})},I=this.apiClient,U={onopen:A,onmessage:F=>{Q3(I,T.onmessage,F)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(F){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(F){}},L=this.webSocketFactory.create(h,Z3(u),U);L.connect(),await _;const K={setup:{model:Qe(this.apiClient,e.model)}};return L.send(JSON.stringify(K)),new X3(L,this.apiClient)}}class X3{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=OO(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=LO(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(bo.PLAY)}pause(){this.sendPlaybackControl(bo.PAUSE)}stop(){this.sendPlaybackControl(bo.STOP)}resetContext(){this.sendPlaybackControl(bo.RESET_CONTEXT)}close(){this.conn.close()}}function Z3(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function e6(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t6="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function n6(n,e,t){const i=new DL;let a;t.data instanceof Blob?a=await t.data.text():t.data instanceof ArrayBuffer?a=new TextDecoder().decode(t.data):a=t.data;const o=JSON.parse(a);if(n.isVertexAI()){const u=qO(o);Object.assign(i,u)}else Object.assign(i,o);e(i)}class i6{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new W3(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,a,o,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let _;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&WI(e.config.tools)&&XI(T);const A=o6(T);if(this.apiClient.isVertexAI())_=`${h}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A,_);else{const b=this.apiClient.getApiKey();let V="BidiGenerateContent",O="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",O="access_token"),_=`${h}/ws/google.ai.generativelanguage.${p}.GenerativeService.${V}?${O}=${b}`}let I=()=>{};const U=new Promise(b=>{I=b}),L=e.callbacks,B=function(){var b;(b=L==null?void 0:L.onopen)===null||b===void 0||b.call(L),I({})},H=this.apiClient,K={onopen:B,onmessage:b=>{n6(H,L.onmessage,b)},onerror:(t=L==null?void 0:L.onerror)!==null&&t!==void 0?t:function(b){},onclose:(i=L==null?void 0:L.onclose)!==null&&i!==void 0?i:function(b){}},F=this.webSocketFactory.create(_,a6(A),K);F.connect(),await U;let ae=Qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ae.startsWith("publishers/")){const b=this.apiClient.getProject(),V=this.apiClient.getLocation();ae=`projects/${b}/locations/${V}/`+ae}let ce={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[If.AUDIO]}:e.config.responseModalities=[If.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const de=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],M=[];for(const b of de)if(this.isCallableTool(b)){const V=b;M.push(await V.tool())}else M.push(b);M.length>0&&(e.config.tools=M);const N={model:ae,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ce=VO(this.apiClient,N):ce=kO(this.apiClient,N),delete ce.config,F.send(JSON.stringify(ce)),new r6(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const s6={turnComplete:!0};class r6{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Zn(t.turns),e.isVertexAI()||(i=i.map(a=>oh(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(t6)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},s6),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:BO(e)}:t={realtimeInput:zO(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function a6(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function o6(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA=10;function gA(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const u of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Lo(u)){a=!0;break}if(!a)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Lo(n){return"callTool"in n&&typeof n.callTool=="function"}function l6(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(a=>Lo(a)))!==null&&i!==void 0?i:!1}function yA(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,a)=>{if(Lo(i))return;const o=i;o.functionDeclarations&&o.functionDeclarations.length>0&&t.push(a)}),t}function _A(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u6 extends Us{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,a,o,u,d;const h=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!l6(t)||gA(t.config))return await this.generateContentInternal(h);const p=yA(t);if(p.length>0){const L=p.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let _,T;const A=Zn(h.contents),I=(o=(a=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&o!==void 0?o:mA;let U=0;for(;U<I&&(_=await this.generateContentInternal(h),!(!_.functionCalls||_.functionCalls.length===0));){const L=_.candidates[0].content,B=[];for(const H of(d=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(Lo(H)){const F=await H.callTool(_.functionCalls);B.push(...F)}U++,T={role:"user",parts:B},h.contents=Zn(h.contents),h.contents.push(L),h.contents.push(T),_A(h.config)&&(A.push(L),A.push(T))}return _A(h.config)&&(_.automaticFunctionCallingHistory=A),_},this.generateContentStream=async t=>{var i,a,o,u,d;if(this.maybeMoveToResponseJsonSchem(t),gA(t.config)){const T=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(T)}const h=yA(t);if(h.length>0){const T=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(o=(a=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,_=(d=(u=t==null?void 0:t.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(p&&!_)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var a;let o;const u=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((a=h==null?void 0:h.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?o=h==null?void 0:h.safetyAttributes:u.push(h);let d;return o?d={generatedImages:u,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async t=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Da(bs.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const a={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async t=>{var i,a,o,u,d,h;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((a=t.video)===null||a===void 0)&&a.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((u=(o=t.source)===null||o===void 0?void 0:o.video)===null||u===void 0)&&u.uri&&(!((h=(d=t.source)===null||d===void 0?void 0:d.video)===null||h===void 0)&&h.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,a;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const u=await Promise.all(o.map(async h=>Lo(h)?await h.tool():h)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&WI(e.config.tools)){const h=(a=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},h);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),XI(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var t,i,a;const o=new Map;for(const u of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Lo(u)){const d=u,h=await d.tool();for(const p of(a=h.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(o.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);o.set(p.name,d)}}return o}async processAfcStream(e){var t,i,a;const o=(a=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:mA;let u=!1,d=0;const h=await this.initAfcToolsMap(e);return(function(p,_,T){var A,I;return Vo(this,arguments,function*(){for(var U,L,B,H;d<o;){u&&(d++,u=!1);const ce=yield ht(p.processParamsMaybeAddMcpUsage(T)),de=yield ht(p.generateContentStreamInternal(ce)),M=[],N=[];try{for(var K=!0,F=(L=void 0,Ru(de)),ae;ae=yield ht(F.next()),U=ae.done,!U;K=!0){H=ae.value,K=!1;const b=H;if(yield yield ht(b),b.candidates&&(!((A=b.candidates[0])===null||A===void 0)&&A.content)){N.push(b.candidates[0].content);for(const V of(I=b.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(d<o&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(V.functionCall.name)){const O=yield ht(_.get(V.functionCall.name).callTool([V.functionCall]));M.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(b){L={error:b}}finally{try{!K&&!U&&(B=F.return)&&(yield ht(B.call(F)))}finally{if(L)throw L.error}}if(M.length>0){u=!0;const b=new pu;b.candidates=[{content:{role:"user",parts:M}}],yield yield ht(b);const V=[];V.push(...N),V.push({role:"user",parts:M});const O=Zn(T.contents).concat(V);T.contents=O}else break}})})(this,h,e)}async generateContentInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=cA(this.apiClient,e);return d=he("{model}:generateContent",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=fA(_),A=new pu;return Object.assign(A,T),A})}else{const p=uA(this.apiClient,e);return d=he("{model}:generateContent",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=dA(_),A=new pu;return Object.assign(A,T),A})}}async generateContentStreamInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=cA(this.apiClient,e);return d=he("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(T){return Vo(this,arguments,function*(){var A,I,U,L;try{for(var B=!0,H=Ru(T),K;K=yield ht(H.next()),A=K.done,!A;B=!0){L=K.value,B=!1;const F=L,ae=fA(yield ht(F.json()));ae.sdkHttpResponse={headers:F.headers};const ce=new pu;Object.assign(ce,ae),yield yield ht(ce)}}catch(F){I={error:F}}finally{try{!B&&!A&&(U=H.return)&&(yield ht(U.call(H)))}finally{if(I)throw I.error}}})})}else{const p=uA(this.apiClient,e);return d=he("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(T){return Vo(this,arguments,function*(){var A,I,U,L;try{for(var B=!0,H=Ru(T),K;K=yield ht(H.next()),A=K.done,!A;B=!0){L=K.value,B=!1;const F=L,ae=dA(yield ht(F.json()));ae.sdkHttpResponse={headers:F.headers};const ce=new pu;Object.assign(ce,ae),yield yield ht(ce)}}catch(F){I={error:F}}finally{try{!B&&!A&&(U=H.return)&&(yield ht(U.call(H)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=yz(this.apiClient,e);return d=he("{model}:predict",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=vz(_),A=new YS;return Object.assign(A,T),A})}else{const p=gz(this.apiClient,e);return d=he("{model}:batchEmbedContents",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=_z(_),A=new YS;return Object.assign(A,T),A})}}async generateImagesInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=Nz(this.apiClient,e);return d=he("{model}:predict",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=Dz(_),A=new $S;return Object.assign(A,T),A})}else{const p=bz(this.apiClient,e);return d=he("{model}:predict",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=Mz(_),A=new $S;return Object.assign(A,T),A})}}async editImageInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI()){const d=fz(this.apiClient,e);return o=he("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=hz(h),_=new TL;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI()){const d=N3(this.apiClient,e);return o=he("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=M3(h),_=new SL;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI()){const d=d3(this.apiClient,e);return o=he("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=f3(h),_=new AL;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI()){const d=_3(this.apiClient,e);return o=he("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=v3(h),_=new CL;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=Jz(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>pg(_))}else{const p=$z(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>hg(_))}}async listInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=s3(this.apiClient,e);return d=he("{models_url}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=a3(_),A=new JS;return Object.assign(A,T),A})}else{const p=i3(this.apiClient,e);return d=he("{models_url}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=r3(_),A=new JS;return Object.assign(A,T),A})}}async update(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=R3(this.apiClient,e);return d=he("{model}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>pg(_))}else{const p=x3(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>hg(_))}}async delete(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=lz(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=cz(_),A=new QS;return Object.assign(A,T),A})}else{const p=oz(this.apiClient,e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=uz(_),A=new QS;return Object.assign(A,T),A})}}async countTokens(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=sz(this.apiClient,e);return d=he("{model}:countTokens",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=az(_),A=new WS;return Object.assign(A,T),A})}else{const p=iz(this.apiClient,e);return d=he("{model}:countTokens",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=rz(_),A=new WS;return Object.assign(A,T),A})}}async computeTokens(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI()){const d=QO(this.apiClient,e);return o=he("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=WO(h),_=new wL;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=Oz(this.apiClient,e);return d=he("{model}:predictLongRunning",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u.then(_=>{const T=Vz(_),A=new xf;return Object.assign(A,T),A})}else{const p=Lz(this.apiClient,e);return d=he("{model}:predictLongRunning",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u.then(_=>{const T=kz(_),A=new xf;return Object.assign(A,T),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c6 extends Us{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=t.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:a,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=t.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:a,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=mL(e);return d=he("{operationName}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json()),u}else{const p=pL(e);return d=he("{operationName}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),u}}async fetchPredictVideosOperationInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI()){const d=oL(e);return o=he("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d6(n){const e={},t=f(n,["data"]);if(t!=null&&m(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function f6(n){const e={},t=f(n,["parts"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(o=>T6(o))),m(e,["parts"],a)}const i=f(n,["role"]);return i!=null&&m(e,["role"],i),e}function h6(n,e,t){const i={},a=f(e,["expireTime"]);t!==void 0&&a!=null&&m(t,["expireTime"],a);const o=f(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&m(t,["newSessionExpireTime"],o);const u=f(e,["uses"]);t!==void 0&&u!=null&&m(t,["uses"],u);const d=f(e,["liveConnectConstraints"]);t!==void 0&&d!=null&&m(t,["bidiGenerateContentSetup"],E6(n,d));const h=f(e,["lockAdditionalFields"]);return t!==void 0&&h!=null&&m(t,["fieldMask"],h),i}function p6(n,e){const t={},i=f(e,["config"]);return i!=null&&m(t,["config"],h6(n,i,t)),t}function m6(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&m(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function g6(n){const e={},t=f(n,["id"]);t!=null&&m(e,["id"],t);const i=f(n,["args"]);i!=null&&m(e,["args"],i);const a=f(n,["name"]);if(a!=null&&m(e,["name"],a),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function y6(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&m(e,["enableWidget"],t),e}function _6(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&m(e,["timeRangeFilter"],t),e}function v6(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const a=f(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const o=f(n,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const u=f(n,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const h=f(n,["maxOutputTokens"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","maxOutputTokens"],h);const p=f(n,["mediaResolution"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","mediaResolution"],p);const _=f(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const T=f(n,["speechConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","speechConfig"],Ny(T));const A=f(n,["thinkingConfig"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","thinkingConfig"],A);const I=f(n,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const U=f(n,["systemInstruction"]);e!==void 0&&U!=null&&m(e,["setup","systemInstruction"],f6(cn(U)));const L=f(n,["tools"]);if(e!==void 0&&L!=null){let de=rl(L);Array.isArray(de)&&(de=de.map(M=>A6(sl(M)))),m(e,["setup","tools"],de)}const B=f(n,["sessionResumption"]);e!==void 0&&B!=null&&m(e,["setup","sessionResumption"],S6(B));const H=f(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&m(e,["setup","inputAudioTranscription"],H);const K=f(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const F=f(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&m(e,["setup","realtimeInputConfig"],F);const ae=f(n,["contextWindowCompression"]);e!==void 0&&ae!=null&&m(e,["setup","contextWindowCompression"],ae);const ce=f(n,["proactivity"]);return e!==void 0&&ce!=null&&m(e,["setup","proactivity"],ce),t}function E6(n,e){const t={},i=f(e,["model"]);i!=null&&m(t,["setup","model"],Qe(n,i));const a=f(e,["config"]);return a!=null&&m(t,["config"],v6(a,t)),t}function T6(n){const e={},t=f(n,["mediaResolution"]);t!=null&&m(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const a=f(n,["executableCode"]);a!=null&&m(e,["executableCode"],a);const o=f(n,["fileData"]);o!=null&&m(e,["fileData"],m6(o));const u=f(n,["functionCall"]);u!=null&&m(e,["functionCall"],g6(u));const d=f(n,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const h=f(n,["inlineData"]);h!=null&&m(e,["inlineData"],d6(h));const p=f(n,["text"]);p!=null&&m(e,["text"],p);const _=f(n,["thought"]);_!=null&&m(e,["thought"],_);const T=f(n,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const A=f(n,["videoMetadata"]);return A!=null&&m(e,["videoMetadata"],A),e}function S6(n){const e={},t=f(n,["handle"]);if(t!=null&&m(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function A6(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(T=>T)),m(e,["functionDeclarations"],_)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(n,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=f(n,["computerUse"]);a!=null&&m(e,["computerUse"],a);const o=f(n,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const u=f(n,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&m(e,["googleMaps"],y6(d));const h=f(n,["googleSearch"]);h!=null&&m(e,["googleSearch"],_6(h));const p=f(n,["urlContext"]);return p!=null&&m(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C6(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(o=>`${t}.${o}`);e.push(...a)}else e.push(t)}return e.join(",")}function w6(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(t){const o=C6(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];a.length>0&&(d=a.map(p=>u.includes(p)?`generationConfig.${p}`:p));const h=[];o&&h.push(o),d.length>0&&h.push(...d),h.length>0?n.fieldMask=h.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class I6 extends Us{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=p6(this.apiClient,e);o=he("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=w6(d,e.config);return a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x6(n,e){const t={},i=f(n,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),t}function R6(n){const e={},t=f(n,["config"]);return t!=null&&x6(t,e),e}function b6(n,e){const t={},i=f(n,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),t}function N6(n){const e={},t=f(n,["name"]);t!=null&&m(e,["_url","name"],t);const i=f(n,["config"]);return i!=null&&b6(i,e),e}function M6(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","name"],t),e}function D6(n,e){const t={},i=f(n,["customMetadata"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["customMetadata"],o)}const a=f(n,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),t}function P6(n){const e={},t=f(n,["name"]);t!=null&&m(e,["name"],t);const i=f(n,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(n,["done"]);a!=null&&m(e,["done"],a);const o=f(n,["error"]);o!=null&&m(e,["error"],o);const u=f(n,["response"]);return u!=null&&m(e,["response"],k6(u)),e}function U6(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&m(e,["_url","file_search_store_name"],t);const i=f(n,["fileName"]);i!=null&&m(e,["fileName"],i);const a=f(n,["config"]);return a!=null&&D6(a,e),e}function k6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&m(e,["parent"],i);const a=f(n,["documentName"]);return a!=null&&m(e,["documentName"],a),e}function V6(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=f(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),t}function L6(n){const e={},t=f(n,["config"]);return t!=null&&V6(t,e),e}function O6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["fileSearchStores"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["fileSearchStores"],o)}return e}function z6(n,e){const t={},i=f(n,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const a=f(n,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=f(n,["customMetadata"]);if(e!==void 0&&o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>h)),m(e,["customMetadata"],d)}const u=f(n,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),t}function B6(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&m(e,["_url","file_search_store_name"],t);const i=f(n,["config"]);return i!=null&&z6(i,e),e}function q6(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&m(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F6(n,e){const t={},i=f(n,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),t}function H6(n){const e={},t=f(n,["name"]);t!=null&&m(e,["_url","name"],t);const i=f(n,["config"]);return i!=null&&F6(i,e),e}function G6(n){const e={},t=f(n,["name"]);return t!=null&&m(e,["_url","name"],t),e}function K6(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=f(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),t}function j6(n){const e={},t=f(n,["parent"]);t!=null&&m(e,["_url","parent"],t);const i=f(n,["config"]);return i!=null&&K6(i,e),e}function Y6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&m(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const a=f(n,["documents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $6 extends Us{constructor(e){super(),this.apiClient=e,this.list=async t=>new Da(bs.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=G6(e);return o=he("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var t,i;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=H6(e);a=he("{name}",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=j6(e);return o=he("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=Y6(h),_=new IL;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J6 extends Us{constructor(e,t=new $6(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Da(bs.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=R6(e);return o=he("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=M6(e);return o=he("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var t,i;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=N6(e);a=he("{name}",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=L6(e);return o=he("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=O6(h),_=new xL;return Object.assign(_,p),_})}}async uploadToFileSearchStoreInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=B6(e);return o=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=q6(h),_=new RL;return Object.assign(_,p),_})}}async importFile(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=U6(e);return o=he("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=P6(h),_=new wy;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q6(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function W6(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function X6(n,e,t){const i={};if(f(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=f(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&m(e,["displayName"],a),f(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(n,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const u=f(n,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),f(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=f(n,["batchSize"]);e!==void 0&&d!=null&&m(e,["tuningTask","hyperparameters","batchSize"],d);const h=f(n,["learningRate"]);if(e!==void 0&&h!=null&&m(e,["tuningTask","hyperparameters","learningRate"],h),f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Z6(n,e,t){const i={};let a=f(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const I=f(n,["validationDataset"]);e!==void 0&&I!=null&&m(e,["supervisedTuningSpec"],vA(I))}else if(a==="PREFERENCE_TUNING"){const I=f(n,["validationDataset"]);e!==void 0&&I!=null&&m(e,["preferenceOptimizationSpec"],vA(I))}const o=f(n,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const u=f(n,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let d=f(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const I=f(n,["epochCount"]);e!==void 0&&I!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],I)}else if(d==="PREFERENCE_TUNING"){const I=f(n,["epochCount"]);e!==void 0&&I!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],I)}let h=f(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const I=f(n,["learningRateMultiplier"]);e!==void 0&&I!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],I)}else if(h==="PREFERENCE_TUNING"){const I=f(n,["learningRateMultiplier"]);e!==void 0&&I!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],I)}let p=f(t,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const I=f(n,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],I)}else if(p==="PREFERENCE_TUNING"){const I=f(n,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],I)}let _=f(t,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const I=f(n,["adapterSize"]);e!==void 0&&I!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],I)}else if(_==="PREFERENCE_TUNING"){const I=f(n,["adapterSize"]);e!==void 0&&I!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],I)}if(f(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(n,["labels"]);e!==void 0&&T!=null&&m(e,["labels"],T);const A=f(n,["beta"]);return e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],A),i}function e5(n,e){const t={},i=f(n,["baseModel"]);i!=null&&m(t,["baseModel"],i);const a=f(n,["preTunedModel"]);a!=null&&m(t,["preTunedModel"],a);const o=f(n,["trainingDataset"]);o!=null&&d5(o);const u=f(n,["config"]);return u!=null&&X6(u,t),t}function t5(n,e){const t={},i=f(n,["baseModel"]);i!=null&&m(t,["baseModel"],i);const a=f(n,["preTunedModel"]);a!=null&&m(t,["preTunedModel"],a);const o=f(n,["trainingDataset"]);o!=null&&f5(o,t,e);const u=f(n,["config"]);return u!=null&&Z6(u,t,e),t}function n5(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function i5(n,e){const t={},i=f(n,["name"]);return i!=null&&m(t,["_url","name"],i),t}function s5(n,e,t){const i={},a=f(n,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const o=f(n,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const u=f(n,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function r5(n,e,t){const i={},a=f(n,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const o=f(n,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const u=f(n,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function a5(n,e){const t={},i=f(n,["config"]);return i!=null&&s5(i,t),t}function o5(n,e){const t={},i=f(n,["config"]);return i!=null&&r5(i,t),t}function l5(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const a=f(n,["nextPageToken"]);a!=null&&m(t,["nextPageToken"],a);const o=f(n,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>ZI(d))),m(t,["tuningJobs"],u)}return t}function u5(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const a=f(n,["nextPageToken"]);a!=null&&m(t,["nextPageToken"],a);const o=f(n,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>gg(d))),m(t,["tuningJobs"],u)}return t}function c5(n,e){const t={},i=f(n,["name"]);i!=null&&m(t,["model"],i);const a=f(n,["name"]);return a!=null&&m(t,["endpoint"],a),t}function d5(n,e){const t={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=f(n,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["examples","examples"],a)}return t}function f5(n,e,t){const i={};let a=f(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let o=f(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(f(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function ZI(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const a=f(n,["name"]);a!=null&&m(t,["name"],a);const o=f(n,["state"]);o!=null&&m(t,["state"],UI(o));const u=f(n,["createTime"]);u!=null&&m(t,["createTime"],u);const d=f(n,["tuningTask","startTime"]);d!=null&&m(t,["startTime"],d);const h=f(n,["tuningTask","completeTime"]);h!=null&&m(t,["endTime"],h);const p=f(n,["updateTime"]);p!=null&&m(t,["updateTime"],p);const _=f(n,["description"]);_!=null&&m(t,["description"],_);const T=f(n,["baseModel"]);T!=null&&m(t,["baseModel"],T);const A=f(n,["_self"]);return A!=null&&m(t,["tunedModel"],c5(A)),t}function gg(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const a=f(n,["name"]);a!=null&&m(t,["name"],a);const o=f(n,["state"]);o!=null&&m(t,["state"],UI(o));const u=f(n,["createTime"]);u!=null&&m(t,["createTime"],u);const d=f(n,["startTime"]);d!=null&&m(t,["startTime"],d);const h=f(n,["endTime"]);h!=null&&m(t,["endTime"],h);const p=f(n,["updateTime"]);p!=null&&m(t,["updateTime"],p);const _=f(n,["error"]);_!=null&&m(t,["error"],_);const T=f(n,["description"]);T!=null&&m(t,["description"],T);const A=f(n,["baseModel"]);A!=null&&m(t,["baseModel"],A);const I=f(n,["tunedModel"]);I!=null&&m(t,["tunedModel"],I);const U=f(n,["preTunedModel"]);U!=null&&m(t,["preTunedModel"],U);const L=f(n,["supervisedTuningSpec"]);L!=null&&m(t,["supervisedTuningSpec"],L);const B=f(n,["preferenceOptimizationSpec"]);B!=null&&m(t,["preferenceOptimizationSpec"],B);const H=f(n,["tuningDataStats"]);H!=null&&m(t,["tuningDataStats"],H);const K=f(n,["encryptionSpec"]);K!=null&&m(t,["encryptionSpec"],K);const F=f(n,["partnerModelTuningSpec"]);F!=null&&m(t,["partnerModelTuningSpec"],F);const ae=f(n,["customBaseModel"]);ae!=null&&m(t,["customBaseModel"],ae);const ce=f(n,["experiment"]);ce!=null&&m(t,["experiment"],ce);const de=f(n,["labels"]);de!=null&&m(t,["labels"],de);const M=f(n,["outputUri"]);M!=null&&m(t,["outputUri"],M);const N=f(n,["pipelineJob"]);N!=null&&m(t,["pipelineJob"],N);const b=f(n,["serviceAccount"]);b!=null&&m(t,["serviceAccount"],b);const V=f(n,["tunedModelDisplayName"]);V!=null&&m(t,["tunedModelDisplayName"],V);const O=f(n,["veoTuningSpec"]);return O!=null&&m(t,["veoTuningSpec"],O),t}function h5(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&m(t,["sdkHttpResponse"],i);const a=f(n,["name"]);a!=null&&m(t,["name"],a);const o=f(n,["metadata"]);o!=null&&m(t,["metadata"],o);const u=f(n,["done"]);u!=null&&m(t,["done"],u);const d=f(n,["error"]);return d!=null&&m(t,["error"],d),t}function vA(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&m(t,["validationDatasetUri"],i);const a=f(n,["vertexDatasetResource"]);return a!=null&&m(t,["validationDatasetUri"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p5 extends Us{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Da(bs.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const a={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(a.checkpointId=t.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},t),{preTunedModel:a});return o.baseModel=void 0,await this.tuneInternal(o)}else{const a=Object.assign({},t);return await this.tuneInternal(a)}else{const a=Object.assign({},t),o=await this.tuneMldevInternal(a);let u="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?u=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(u=o.name.split("/operations/")[0]),{name:u,state:ug.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=i5(e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>gg(_))}else{const p=n5(e);return d=he("{name}",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>ZI(_))}}async listInternal(e){var t,i,a,o;let u,d="",h={};if(this.apiClient.isVertexAI()){const p=o5(e);return d=he("tuningJobs",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=u5(_),A=new XS;return Object.assign(A,T),A})}else{const p=a5(e);return d=he("tunedModels",p._url),h=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const A=T;return A.sdkHttpResponse={headers:_.headers},A})),u.then(_=>{const T=l5(_),A=new XS;return Object.assign(A,T),A})}}async cancel(e){var t,i,a,o;let u="",d={};if(this.apiClient.isVertexAI()){const h=W6(e);u=he("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=Q6(e);u=he("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI()){const d=t5(e,e);return o=he("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>gg(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=e5(e);return o=he("tunedModels",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>h5(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m5{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const g5=1024*1024*8,y5=3,_5=1e3,v5=2,bf="x-goog-upload-status";async function E5(n,e,t){var i;const a=await ex(n,e,t),o=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[bf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function T5(n,e,t){var i;const a=await ex(n,e,t),o=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[bf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=RI(o),d=new Iy;return Object.assign(d,u),d}async function ex(n,e,t){var i,a;let o=0,u=0,d=new cg(new Response),h="upload";for(o=n.size;u<o;){const p=Math.min(g5,o-u),_=n.slice(u,u+p);u+p>=o&&(h+=", finalize");let T=0,A=_5;for(;T<y5&&(d=await t.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[bf]));)T++,await A5(A),A=A*v5;if(u+=p,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a[bf])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function S5(n){return{size:n.size,type:n.type}}function A5(n){return new Promise(e=>setTimeout(e,n))}class C5{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await E5(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T5(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await S5(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w5{create(e,t,i){return new I5(e,t,i)}}class I5{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EA="x-goog-api-key";class x5{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(EA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(EA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R5="gl-node/";class b5{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=rL(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const a=new x5(this.apiKey);this.apiClient=new G3({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:R5+"web",uploader:new C5,downloader:new m5}),this.models=new u6(this.apiClient),this.live=new i6(this.apiClient,a,new w5),this.batches=new U4(this.apiClient),this.chats=new mO(this.models,this.apiClient),this.caches=new fO(this.apiClient),this.files=new wO(this.apiClient),this.operations=new c6(this.apiClient),this.authTokens=new I6(this.apiClient),this.tunings=new p5(this.apiClient),this.fileSearchStores=new J6(this.apiClient)}}var N5={};const M5=new b5({apiKey:N5.API_KEY}),D5=async(n,e)=>{try{const t="gemini-2.5-flash",i=`You are 'DeshiSheba Bot', a knowledgeable local assistant for Bangladesh.
    
    YOUR KNOWLEDGE BASE:
    You have access to a list of local services provided in JSON format in the context below. 
    Always prioritize this provided context when answering questions about specific locations, phone numbers, or services.
    
    CONTEXT DATA:
    ${e}

    INSTRUCTIONS:
    1. If the user asks for a service (e.g., "Hospital in Mirpur"), look strictly at the CONTEXT DATA first.
    2. If you find matches, list them clearly with Name, Location, and Phone Number.
    3. If the user asks a general question about Bangladesh (e.g., "Emergency number for police"), provide general knowledge (999).
    4. Keep responses concise, friendly, and formatted for easy reading (use bullet points).
    5. If no data matches the query in the context, say: "I couldn't find that specific service in our database, but generally in Bangladesh..." and provide helpful advice.
    
    Tone: Professional, helpful, and community-focused.`;return(await M5.models.generateContent({model:t,contents:n,config:{systemInstruction:i,temperature:.5}})).text||"Sorry, I couldn't process that request right now."}catch(t){return console.error("Gemini API Error:",t),"I'm having trouble connecting to the AI service right now. Please try searching manually."}},tx=z.createContext({isDark:!1,toggleTheme:()=>{}}),Br=z.createContext({user:null,loading:!0,isAdmin:!1}),TA=()=>{const{user:n}=z.useContext(Br),[e,t]=z.useState([]),[i,a]=z.useState(0),[o,u]=z.useState(!1);z.useEffect(()=>{n&&jV(n.uid).then(h=>{t(h),a(h.filter(p=>!p.isRead).length)})},[n,o]);const d=async h=>{await $V(h),t(p=>p.map(_=>_.id===h?{..._,isRead:!0}:_)),a(p=>Math.max(0,p-1))};return n?E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>u(!o),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 relative",children:[E.jsx(TN,{className:"w-5 h-5"}),i>0&&E.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-dark-900"})]}),o&&E.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-dark-800 rounded-xl shadow-2xl border border-slate-100 dark:border-slate-700 z-50 overflow-hidden animate-fade-in",children:[E.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700 font-bold flex justify-between items-center",children:[E.jsx("span",{children:"Notifications"}),E.jsx("button",{onClick:()=>u(!1),children:E.jsx(Yo,{className:"w-4 h-4"})})]}),E.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.length===0?E.jsx("div",{className:"p-8 text-center text-slate-500 text-sm",children:"No notifications yet."}):E.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map(h=>E.jsxs("div",{className:`p-3 hover:bg-slate-50 dark:hover:bg-dark-900/50 transition-colors ${h.isRead?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,onClick:()=>d(h.id),children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsx("h4",{className:`text-sm ${h.isRead?"font-medium":"font-bold text-primary-600"}`,children:h.title}),E.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(h.createdAt).toLocaleDateString()})]}),E.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:h.message})]},h.id))})})]})]}):null},P5=()=>{const{isDark:n,toggleTheme:e}=z.useContext(tx),{user:t,isAdmin:i}=z.useContext(Br),[a,o]=z.useState(!1);return E.jsxs("nav",{className:"sticky top-0 z-50 w-full bg-white/95 dark:bg-dark-900/95 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 shadow-sm transition-all",children:[E.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[E.jsxs(Be,{to:"/",className:"flex items-center gap-2 group",children:[E.jsx("img",{src:"/assets/DeshiSheba.png",alt:"DeshiSheba",className:"w-9 h-9 rounded-lg shadow-lg shadow-primary-500/20 group-hover:scale-110 transition-transform"}),E.jsxs("span",{className:"font-bold text-xl text-slate-800 dark:text-white tracking-tight",children:["Deshi",E.jsx("span",{className:"text-primary-600",children:"Sheba"})]})]}),E.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[E.jsxs(Be,{to:"/",className:"text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-primary-600 dark:hover:text-primary-400 flex items-center gap-1",children:[E.jsx(Ro,{className:"w-4 h-4"})," Browse"]}),E.jsxs(Be,{to:"/add",className:"text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-primary-600 dark:hover:text-primary-400 flex items-center gap-1",children:[E.jsx(af,{className:"w-4 h-4"})," Add Place"]}),i&&E.jsxs(Be,{to:"/admin",className:"text-sm font-bold text-red-600 dark:text-red-400 flex items-center gap-1 bg-red-50 dark:bg-red-900/20 px-3 py-1.5 rounded-full",children:[E.jsx(Mm,{className:"w-4 h-4"})," Admin"]}),E.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-2"}),E.jsx(TA,{}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 transition-colors",children:n?E.jsx(_E,{className:"w-5 h-5"}):E.jsx(yE,{className:"w-5 h-5"})}),t?E.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[E.jsxs(Be,{to:"/profile",className:"flex flex-col items-end cursor-pointer group",children:[E.jsx("span",{className:"text-xs font-semibold group-hover:text-primary-500",children:t.displayName||"User"}),E.jsx("span",{className:"text-[10px] text-slate-500",children:i?"Administrator":"Contributor"})]}),E.jsx(Be,{to:"/profile",children:E.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName||"U"}`,className:"w-9 h-9 rounded-full border-2 border-primary-100 dark:border-primary-900 hover:border-primary-500 transition-colors",alt:"User"})}),E.jsx(Ve,{variant:"ghost",className:"text-xs h-8 px-2",onClick:()=>JT(),children:"Log Out"})]}):E.jsx(Be,{to:"/auth",children:E.jsx(Ve,{variant:"primary",className:"text-sm py-2 shadow-lg shadow-primary-500/20",children:"Sign In / Join"})})]}),E.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[E.jsx(TA,{}),E.jsx("button",{className:"p-2 text-slate-700 dark:text-slate-200",onClick:()=>o(!a),children:a?E.jsx(Yo,{}):E.jsx(YN,{})})]})]}),a&&E.jsxs("div",{className:"md:hidden absolute w-full bg-white dark:bg-dark-900 border-b border-slate-200 dark:border-slate-800 shadow-xl p-4 flex flex-col gap-4 animate-in slide-in-from-top-5",children:[E.jsxs(Be,{to:"/",onClick:()=>o(!1),className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800",children:[E.jsx(Ro,{className:"w-5 h-5 text-primary-500"})," Browse Services"]}),E.jsxs(Be,{to:"/add",onClick:()=>o(!1),className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800",children:[E.jsx(af,{className:"w-5 h-5 text-primary-500"})," Add New Place"]}),t&&E.jsxs(Be,{to:"/profile",onClick:()=>o(!1),className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800",children:[E.jsx(qN,{className:"w-5 h-5 text-primary-500"})," My Dashboard"]}),i&&E.jsxs(Be,{to:"/admin",onClick:()=>o(!1),className:"flex items-center gap-3 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600",children:[E.jsx(Mm,{className:"w-5 h-5"})," Admin Panel"]}),E.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-100 dark:border-slate-800",children:[E.jsx("span",{className:"text-sm text-slate-500",children:"Theme"}),E.jsx("button",{onClick:e,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full",children:n?E.jsx(_E,{className:"w-4 h-4"}):E.jsx(yE,{className:"w-4 h-4"})})]}),t?E.jsxs(Ve,{variant:"secondary",onClick:()=>{JT(),o(!1)},children:["Sign Out (",t.displayName,")"]}):E.jsx(Be,{to:"/auth",onClick:()=>o(!1),children:E.jsx(Ve,{variant:"primary",className:"w-full justify-center",children:"Sign In / Join"})})]})]})},U5=()=>{const[n,e]=z.useState([]);return z.useEffect(()=>{zV().then(e)},[]),E.jsxs("footer",{className:"bg-slate-900 text-slate-300 pt-16 pb-8 mt-auto",children:[E.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("img",{src:"/assets/DeshiSheba.png",alt:"DeshiSheba",className:"w-8 h-8 rounded-lg"}),E.jsxs("span",{className:"font-bold text-xl text-white",children:["Deshi",E.jsx("span",{className:"text-primary-500",children:"Sheba"})]})]}),E.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"Connecting Bangladesh communities with essential local services. Find hospitals, police, schools, and more in your village or town instantly."}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",className:"p-2 bg-slate-800 rounded-full hover:bg-primary-600 transition-colors",children:E.jsx(MN,{className:"w-4 h-4"})}),E.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noreferrer",className:"p-2 bg-slate-800 rounded-full hover:bg-primary-600 transition-colors",children:E.jsx(c1,{className:"w-4 h-4"})}),E.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",className:"p-2 bg-slate-800 rounded-full hover:bg-primary-600 transition-colors",children:E.jsx(LN,{className:"w-4 h-4"})})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold mb-4 uppercase tracking-wider text-xs",children:"Quick Links"}),E.jsxs("ul",{className:"space-y-2 text-sm",children:[E.jsx("li",{children:E.jsx(Be,{to:"/",className:"hover:text-primary-400 transition-colors",children:"Home"})}),E.jsx("li",{children:E.jsx(Be,{to:"/add",className:"hover:text-primary-400 transition-colors",children:"Add Listing"})}),E.jsx("li",{children:E.jsx(Be,{to:"/auth",className:"hover:text-primary-400 transition-colors",children:"Login / Register"})}),E.jsx("li",{children:E.jsx(Be,{to:"/terms",className:"hover:text-primary-400 transition-colors",children:"Terms of Service"})}),E.jsx("li",{children:E.jsx(Be,{to:"/privacy",className:"hover:text-primary-400 transition-colors",children:"Privacy Policy"})})]})]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"text-white font-bold mb-4 uppercase tracking-wider text-xs flex items-center gap-2",children:[E.jsx(l1,{className:"w-4 h-4"})," Popular Services"]}),E.jsx("ul",{className:"space-y-2 text-sm",children:n.length===0?E.jsxs(E.Fragment,{children:[E.jsx("li",{children:E.jsx(Be,{to:"/",state:{category:ve.HOSPITAL},className:"hover:text-primary-400 transition-colors",children:"Emergency Hospital"})}),E.jsx("li",{children:E.jsx(Be,{to:"/",state:{category:ve.POLICE},className:"hover:text-primary-400 transition-colors",children:"Police Station"})}),E.jsx("li",{children:E.jsx(Be,{to:"/",state:{category:ve.BLOOD_DONATION},className:"hover:text-primary-400 transition-colors",children:"Blood Banks"})})]}):n.map(t=>E.jsx("li",{children:E.jsx(Be,{to:`/service/${t.id}`,className:"hover:text-primary-400 transition-colors truncate block",children:t.name})},t.id))})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold mb-4 uppercase tracking-wider text-xs",children:"Contact"}),E.jsxs("ul",{className:"space-y-2 text-sm",children:[E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx(GN,{className:"w-4 h-4"})," support@deshisheba.com"]}),E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx(Ig,{className:"w-4 h-4"})," +880 1700 000000"]}),E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx(Sa,{className:"w-4 h-4"})," Dhaka, Bangladesh"]})]})]})]}),E.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-xs text-slate-500",children:E.jsxs("p",{children:[" ",new Date().getFullYear()," DeshiSheba. Built for Bangladesh "]})})]})},Dy=({url:n,title:e,onClose:t})=>{const i=encodeURIComponent(n),a=encodeURIComponent(`Check out ${e} on DeshiSheba!`),o=()=>{navigator.clipboard.writeText(n),alert("Link copied to clipboard!"),t()};return E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-2xl p-6 w-full max-w-sm border border-slate-100 dark:border-slate-700 transform transition-all scale-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h3",{className:"font-bold text-lg",children:"Share Content"}),E.jsx("button",{onClick:t,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full",children:E.jsx(Yo,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[E.jsxs("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${i}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 hover:bg-blue-100 transition-colors",children:[E.jsx(Nu,{className:"w-6 h-6 mb-1"}),E.jsx("span",{className:"text-xs font-semibold",children:"Facebook"})]}),E.jsxs("a",{href:`https://wa.me/?text=${a}%20${i}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center p-3 rounded-lg bg-green-50 dark:bg-green-900/20 text-green-600 hover:bg-green-100 transition-colors",children:[E.jsx(Ig,{className:"w-6 h-6 mb-1"}),E.jsx("span",{className:"text-xs font-semibold",children:"WhatsApp"})]}),E.jsxs("a",{href:`https://twitter.com/intent/tweet?url=${i}&text=${a}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center p-3 rounded-lg bg-sky-50 dark:bg-sky-900/20 text-sky-500 hover:bg-sky-100 transition-colors",children:[E.jsx(Nu,{className:"w-6 h-6 mb-1"}),E.jsx("span",{className:"text-xs font-semibold",children:"Twitter / X"})]}),E.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center p-3 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors",children:[E.jsx(bN,{className:"w-6 h-6 mb-1"}),E.jsx("span",{className:"text-xs font-semibold",children:"Copy Link"})]})]}),E.jsx("div",{className:"bg-slate-100 dark:bg-dark-900 p-3 rounded text-xs text-slate-500 break-all border border-slate-200 dark:border-slate-700",children:n})]})})},k5=({service:n,onClose:e})=>{const[t,i]=z.useState("Incorrect Information"),[a,o]=z.useState(""),[u,d]=z.useState(!1),{user:h}=z.useContext(Br),p=async _=>{_.preventDefault(),d(!0);try{await FV({serviceId:n.id,serviceName:n.name,reason:t,details:a,reportedBy:(h==null?void 0:h.uid)||"Anonymous",reportedAt:Date.now()}),alert("Report submitted. An admin will review this service."),e()}catch(T){console.error(T),alert("Failed to submit report.")}finally{d(!1)}};return E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-2xl p-6 w-full max-w-sm border border-slate-100 dark:border-slate-700",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[E.jsx(qA,{className:"w-5 h-5 text-red-500"})," Report Service"]}),E.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full",children:E.jsx(Yo,{className:"w-5 h-5"})})]}),E.jsxs("form",{onSubmit:p,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase mb-1",children:"Reason"}),E.jsxs(xu,{value:t,onChange:_=>i(_.target.value),children:[E.jsx("option",{value:"Incorrect Information",children:"Incorrect Information"}),E.jsx("option",{value:"Spam or Fake",children:"Spam or Fake"}),E.jsx("option",{value:"Duplicate Listing",children:"Duplicate Listing"}),E.jsx("option",{value:"Inappropriate Content",children:"Inappropriate Content"}),E.jsx("option",{value:"Other",children:"Other"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase mb-1",children:"Additional Details"}),E.jsx("textarea",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-dark-900 focus:ring-2 focus:ring-primary-500 focus:outline-none min-h-[80px]",placeholder:"Please provide more info...",value:a,onChange:_=>o(_.target.value),required:!0})]}),E.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[E.jsx(Ve,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),E.jsx(Ve,{type:"submit",variant:"danger",loading:u,children:"Submit Report"})]})]})]})})},V5=()=>E.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12",children:[E.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms of Service"}),E.jsxs("div",{className:"prose dark:prose-invert",children:[E.jsx("p",{children:"Welcome to DeshiSheba. By using our service, you agree to these terms."}),E.jsx("h3",{children:"1. Use of Service"}),E.jsx("p",{children:"You agree to use this platform only for lawful purposes. Do not post false or misleading information."}),E.jsx("h3",{children:"2. User Accounts"}),E.jsx("p",{children:"You are responsible for maintaining the security of your account credentials."}),E.jsx("h3",{children:"3. Content"}),E.jsx("p",{children:"Users are responsible for the content they post. We reserve the right to remove inappropriate content."}),E.jsx("h3",{children:"4. Disclaimer"}),E.jsx("p",{children:"DeshiSheba is a directory service. We do not guarantee the accuracy of information provided by users."})]})]}),L5=()=>E.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12",children:[E.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),E.jsxs("div",{className:"prose dark:prose-invert",children:[E.jsx("p",{children:"Your privacy is important to us. This policy explains how we handle your data."}),E.jsx("h3",{children:"1. Data Collection"}),E.jsx("p",{children:"We collect information you provide, such as name, email, and service details."}),E.jsx("h3",{children:"2. Data Usage"}),E.jsx("p",{children:"We use your data to provide and improve our services. We do not sell your personal data to third parties."}),E.jsx("h3",{children:"3. Cookies"}),E.jsx("p",{children:"We use cookies to enhance your browsing experience and for analytics."})]})]}),O5=()=>{const{id:n}=vg(),e=Fu(),[t,i]=z.useState(null),[a,o]=z.useState(!0),[u,d]=z.useState(!1);z.useEffect(()=>{n&&eL(n).then(p=>{i(p),o(!1),CI("blogs",n)})},[n]);const h=()=>{if(!t)return;const p=`${window.location.origin}${window.location.pathname}#/blog/${t.id}`;navigator.share?navigator.share({title:t.title,text:t.excerpt,url:p}).catch(console.error):d(!0)};return a?E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsx(Pf,{className:"w-8 h-8 animate-spin text-primary-600"})}):t?E.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[E.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center text-slate-500 hover:text-primary-500 mb-6 transition-colors",children:[E.jsx(Cg,{className:"w-4 h-4 mr-1"})," Back"]}),E.jsxs("article",{className:"prose dark:prose-invert lg:prose-xl mx-auto",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("div",{className:"w-full h-64 bg-slate-100 dark:bg-dark-800 rounded-2xl overflow-hidden mb-6 flex items-center justify-center",children:t.imageUrl?E.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover"}):E.jsx(wg,{className:"w-20 h-20 text-slate-300"})}),E.jsx("span",{className:"text-sm font-bold text-primary-600 uppercase tracking-wider mb-2 block",children:"Latest Update"}),E.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 dark:text-white mb-4 leading-tight",children:t.title}),E.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 border-b border-slate-200 dark:border-slate-800 pb-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(GA,{className:"w-4 h-4"}),E.jsx("span",{children:t.authorName}),E.jsx("span",{children:""}),E.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()}),E.jsx("span",{children:""}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Df,{className:"w-3 h-3"})," ",t.views||0," views"]})]}),E.jsxs(Ve,{variant:"ghost",onClick:h,children:[E.jsx(Nu,{className:"w-4 h-4 mr-2"})," Share"]})]})]}),E.jsx("div",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap leading-relaxed",children:t.content})]}),u&&E.jsx(Dy,{url:`${window.location.origin}${window.location.pathname}#/blog/${t.id}`,title:t.title,onClose:()=>d(!1)})]}):E.jsx("div",{className:"p-8 text-center text-slate-500",children:"Blog post not found."})},z5=()=>{const{id:n}=vg(),e=Fu(),t=Ns().state,[i,a]=z.useState(null),[o,u]=z.useState(!0),[d,h]=z.useState(!1),[p,_]=z.useState(!1);z.useEffect(()=>{n&&wI(n).then(U=>{a(U),u(!1),CI("services",n)})},[n]);const T=()=>{if(navigator.share&&i){const U=`${window.location.origin}${window.location.pathname}#/service/${i.id}`;navigator.share({title:i.name,text:`Check out ${i.name} on DeshiSheba`,url:U}).catch(console.error)}else h(!0)},A=()=>{t?e("/",{state:t}):e("/")};if(o)return E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsx(Pf,{className:"w-8 h-8 animate-spin text-primary-600"})});if(!i)return E.jsxs("div",{className:"p-8 text-center text-slate-500",children:["Service not found or has been removed. ",E.jsx("br",{}),E.jsx(Be,{to:"/",className:"text-primary-500 underline mt-2 block",children:"Go Back Home"})]});const I=vI[i.category]||"";return E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsxs("button",{onClick:A,className:"inline-flex items-center text-slate-500 hover:text-primary-500 mb-6 transition-colors",children:[E.jsx(Cg,{className:"w-4 h-4 mr-1"})," Back"]}),E.jsxs(Pr,{className:"p-0 overflow-hidden shadow-2xl border-0",children:[E.jsxs("div",{className:"bg-primary-600 h-32 relative",children:[E.jsx("div",{className:"absolute -bottom-8 left-6 w-20 h-20 bg-white dark:bg-dark-800 rounded-xl shadow-lg flex items-center justify-center text-4xl border-4 border-white dark:border-dark-800",children:I}),E.jsxs("div",{className:"absolute bottom-4 right-6 text-white/80 text-xs font-semibold flex items-center gap-1",children:[E.jsx(Df,{className:"w-4 h-4"})," ",i.views||0," Views"]})]}),E.jsxs("div",{className:"pt-12 px-6 pb-8",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx($i,{color:"blue",children:i.category}),E.jsxs("span",{className:"text-xs text-slate-500",children:["Added ",new Date(i.submittedAt).toLocaleDateString()]})]}),E.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:i.name}),E.jsxs("p",{className:"text-slate-500 flex items-center gap-2",children:[E.jsx(Sa,{className:"w-4 h-4"}),i.address.village?`${i.address.village}, `:"",i.address.upazila,", ",i.address.district]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Ve,{variant:"ghost",onClick:()=>_(!0),className:"h-10 w-10 p-0 rounded-full flex items-center justify-center text-red-500 hover:bg-red-50",title:"Report Issue",children:E.jsx(qA,{className:"w-5 h-5"})}),E.jsx(Ve,{variant:"secondary",onClick:T,className:"h-10 w-10 p-0 rounded-full flex items-center justify-center",children:E.jsx(Nu,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),E.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-8",children:[E.jsxs("div",{className:"md:col-span-2 space-y-6",children:[E.jsxs("div",{className:"bg-slate-50 dark:bg-dark-900/50 p-5 rounded-xl border border-slate-100 dark:border-slate-700",children:[E.jsx("h3",{className:"font-bold text-lg mb-3",children:"About this service"}),E.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed whitespace-pre-wrap",children:i.description})]}),i.dynamicData&&Object.keys(i.dynamicData).length>0&&E.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden",children:[E.jsx("h3",{className:"bg-slate-50 dark:bg-dark-900 px-5 py-3 font-bold text-sm border-b border-slate-200 dark:border-slate-700 text-slate-500 uppercase",children:"Additional Info"}),E.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Object.entries(i.dynamicData).map(([U,L])=>E.jsxs("div",{className:"flex justify-between px-5 py-3",children:[E.jsx("span",{className:"text-slate-500 capitalize font-medium",children:U.replace(/_/g," ")}),E.jsx("span",{className:"text-slate-900 dark:text-slate-100 font-semibold",children:L})]},U))})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs(Pr,{className:"p-5 border-t-4 border-t-primary-500 bg-white dark:bg-dark-800 shadow-lg",children:[E.jsx("h3",{className:"font-bold mb-4",children:"Contact Information"}),E.jsx("a",{href:`tel:${i.phone}`,className:"block w-full",children:E.jsxs(Ve,{className:"w-full text-lg py-4 shadow-xl shadow-primary-500/20 mb-3",children:[E.jsx(Ig,{className:"w-5 h-5 mr-2"})," Call Now"]})}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-xl font-bold text-slate-800 dark:text-white",children:i.phone}),E.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Available for service"})]})]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map(U=>E.jsxs("span",{className:"px-3 py-1 bg-slate-100 dark:bg-dark-900 rounded-full text-xs text-slate-500 border border-slate-200 dark:border-slate-700",children:["#",U]},U))})]})]})]})]}),d&&E.jsx(Dy,{url:`${window.location.origin}${window.location.pathname}#/service/${i.id}`,title:i.name,onClose:()=>h(!1)}),p&&E.jsx(k5,{service:i,onClose:()=>_(!1)})]})},B5=()=>{var Le,Ye;const[n,e]=z.useState({division:"",district:"",upazila:"",village:""}),[t,i]=z.useState([]),[a,o]=z.useState([]),[u,d]=z.useState(""),[h,p]=z.useState(null),[_,T]=z.useState(!0),[A,I]=z.useState([]),[U,L]=z.useState(!1),[B,H]=z.useState(!1),[K,F]=z.useState([]),ae=Ns().state,[ce,de]=z.useState(null),[M,N]=z.useState(""),[b,V]=z.useState(""),[O,G]=z.useState(!1),[P,Ze]=z.useState(!1);z.useEffect(()=>{(async()=>{const[oe,fe,Ce]=await Promise.all([ag(Ln.APPROVED),Ay(),II()]);i(oe),I(fe),F(Ce.slice(0,3)),T(!1),ae&&(ae.category&&p(ae.category),ae.search&&d(ae.search),ae.loc&&e(ae.loc),(ae.showResults||ae.category)&&L(!0))})();const Z=()=>{H(window.scrollY>300)};return window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)},[]),z.useEffect(()=>{u.trim().length>0&&L(!0)},[u]),z.useEffect(()=>{let D=t;if(n.division&&(D=D.filter(Z=>Z.address.division===n.division)),n.district&&(D=D.filter(Z=>Z.address.district===n.district)),n.upazila&&(D=D.filter(Z=>Z.address.upazila===n.upazila)),n.village&&(D=D.filter(Z=>{var oe;return(oe=Z.address.village)==null?void 0:oe.toLowerCase().includes(n.village.toLowerCase())})),h&&(D=D.filter(Z=>Z.category===h)),u){const Z=u.toLowerCase();D=D.filter(oe=>oe.name.toLowerCase().includes(Z)||oe.category.toLowerCase().includes(Z)||oe.address.district.toLowerCase().includes(Z)||oe.address.upazila.toLowerCase().includes(Z)||oe.tags.some(fe=>fe.toLowerCase().includes(Z)))}o(D)},[t,n,h,u]);const mt=D=>{p(D),L(!0),window.scrollTo({top:0,behavior:"smooth"})},ee=()=>{p(null),d(""),L(!1)},le=async()=>{if(!M.trim())return;G(!0),V("");const D=M.toLowerCase().split(" ").filter(ye=>ye.length>2),oe=t.map(ye=>{let Pe=0;const At=`${ye.name} ${ye.category} ${ye.address.district} ${ye.address.upazila} ${ye.description} ${ye.tags.join(" ")}`.toLowerCase();return D.forEach(ut=>{At.includes(ut)&&(Pe+=1)}),{s:ye,score:Pe}}).filter(ye=>ye.score>0).sort((ye,Pe)=>Pe.score-ye.score).slice(0,20).map(ye=>ye.s),fe=oe.length>0?JSON.stringify(oe.map(ye=>({name:ye.name,category:ye.category,location:`${ye.address.upazila}, ${ye.address.district}`,phone:ye.phone,desc:ye.description}))):"No specific services found.",Ce=await D5(M,fe);V(Ce),G(!1)},Ee=D=>{if(navigator.share){const Z=`${window.location.origin}${window.location.pathname}#/service/${D.id}`;navigator.share({title:D.name,text:`Check out ${D.name} on DeshiSheba`,url:Z}).catch(console.error)}else de(D)};return E.jsxs("div",{className:"min-h-screen pb-0 bg-slate-50 dark:bg-dark-900 relative flex flex-col",children:[E.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 dark:from-black dark:via-slate-900 dark:to-black pt-16 pb-28 px-4 text-center rounded-b-[3rem] shadow-2xl relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] animate-pulse"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent to-slate-900/50 pointer-events-none"}),E.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto",children:[E.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-blue-200 text-sm font-medium mb-6 shadow-lg",children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"}),"Connecting You to Essential Services"]}),E.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-white mb-6 leading-tight tracking-tight drop-shadow-lg",children:["Bangladesh's ",E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300",children:"Service Hub"})]}),E.jsx("p",{className:"text-slate-300 text-lg md:text-xl max-w-2xl mx-auto mb-10 leading-relaxed",children:"From rural villages to city centers, find police stations, hospitals, hotels, and more instantly."}),E.jsx("div",{className:"bg-white/95 dark:bg-dark-800/95 rounded-2xl shadow-2xl p-6 text-left border border-white/20 backdrop-blur-md transform transition-all hover:scale-[1.01]",children:E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[E.jsx(Sa,{className:"w-3 h-3 text-primary-500"})," Select Area"]}),E.jsx(xI,{value:n,onChange:e})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[E.jsx(Ro,{className:"w-3 h-3 text-primary-500"})," Search Service"]}),E.jsxs("div",{className:"relative",children:[E.jsx(Ro,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),E.jsx(yn,{placeholder:"Search hospitals, names...",className:"pl-10 h-11",value:u,onChange:D=>d(D.target.value)})]})]})]})})]})]}),B&&E.jsx(Be,{to:"/add",className:"fixed bottom-6 left-6 z-50 animate-fade-in",title:"Add Service",children:E.jsx(Ve,{className:"rounded-full w-14 h-14 shadow-xl flex items-center justify-center bg-primary-600 text-white hover:scale-110 transition-transform shadow-primary-500/40",children:E.jsx(af,{className:"w-8 h-8"})})}),E.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:P?E.jsxs("div",{className:"mb-4 w-80 md:w-96 bg-white dark:bg-dark-800 rounded-xl shadow-2xl border border-primary-200 dark:border-primary-900 overflow-hidden flex flex-col animate-slide-up ring-1 ring-black/5",children:[E.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-blue-600 text-white p-3 flex justify-between items-center",children:[E.jsx("span",{className:"font-bold flex items-center gap-2 text-sm",children:" DeshiSheba AI"}),E.jsx("button",{onClick:()=>Ze(!1),children:E.jsx(Yo,{className:"w-4 h-4"})})]}),E.jsx("div",{className:"p-4 max-h-80 overflow-y-auto bg-slate-50 dark:bg-dark-900/50 min-h-[150px]",children:b?E.jsx("div",{className:"prose prose-sm dark:prose-invert",children:E.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-200 whitespace-pre-wrap leading-relaxed",children:b})}):E.jsxs("div",{className:"text-center py-6 text-slate-500",children:[E.jsx("p",{className:"text-sm italic mb-2",children:"I'm site-aware! I can find specific services listed here."}),E.jsx("p",{className:"text-xs bg-slate-100 dark:bg-slate-800 p-2 rounded inline-block",children:'Try: "Find a hospital in Mirpur"'})]})}),E.jsxs("div",{className:"p-3 border-t dark:border-slate-700 flex gap-2 bg-white dark:bg-dark-800",children:[E.jsx(yn,{placeholder:"Ask about local services...",value:M,onChange:D=>N(D.target.value),onKeyDown:D=>D.key==="Enter"&&le(),className:"text-sm h-10"}),E.jsx(Ve,{variant:"primary",className:"h-10 w-10 p-0 flex-shrink-0",onClick:le,loading:O,children:E.jsx(Ro,{className:"w-4 h-4"})})]})]}):E.jsx(Ve,{onClick:()=>Ze(!0),className:"rounded-full w-14 h-14 shadow-xl flex items-center justify-center bg-gradient-to-r from-blue-600 to-primary-600 hover:scale-110 transition-transform animate-bounce shadow-primary-500/30",children:E.jsx("span",{className:"text-2xl",children:""})})}),E.jsxs("div",{className:"max-w-7xl mx-auto px-4 -mt-8 relative z-20 flex-grow w-full",children:[!U&&E.jsxs("div",{className:"animate-fade-in pb-12",children:[E.jsx("div",{className:"flex items-center justify-between mb-6",children:E.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Browse Categories"})}),E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-16",children:A.map(D=>E.jsxs("button",{onClick:()=>mt(D.id),className:"bg-white dark:bg-dark-800 hover:bg-primary-50 dark:hover:bg-primary-900/10 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 hover:border-primary-200 dark:hover:border-primary-800 transition-all hover:-translate-y-1 group text-center flex flex-col items-center justify-center gap-3 h-32",children:[E.jsx("span",{className:"text-3xl filter drop-shadow-sm group-hover:scale-110 transition-transform",children:D.icon}),E.jsx("span",{className:"font-semibold text-sm text-slate-700 dark:text-slate-200 group-hover:text-primary-700 dark:group-hover:text-primary-400",children:D.name})]},D.id))}),E.jsxs("div",{className:"mb-12",children:[E.jsx("div",{className:"flex items-center justify-between mb-6 border-b border-slate-200 dark:border-slate-800 pb-2",children:E.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(AN,{className:"w-5 h-5 text-primary-600"})," Latest News & Updates"]})}),K.length===0?E.jsx("p",{className:"text-slate-500 text-sm italic",children:"No updates available at the moment."}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:K.map(D=>E.jsxs(Be,{to:`/blog/${D.id}`,className:"group bg-white dark:bg-dark-800 rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all border border-slate-100 dark:border-slate-700",children:[E.jsx("div",{className:"h-40 bg-slate-100 dark:bg-slate-900 flex items-center justify-center overflow-hidden",children:D.imageUrl?E.jsx("img",{src:D.imageUrl,alt:D.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}):E.jsx(wg,{className:"w-10 h-10 text-slate-300"})}),E.jsxs("div",{className:"p-5",children:[E.jsx("div",{className:"text-xs text-primary-600 font-bold mb-2 uppercase tracking-wide",children:"Update"}),E.jsx("h3",{className:"font-bold text-lg mb-2 group-hover:text-primary-600 transition-colors line-clamp-2",children:D.title}),E.jsx("p",{className:"text-slate-500 text-sm line-clamp-2 mb-4",children:D.excerpt}),E.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 font-medium",children:[E.jsx("span",{children:"Read Article "}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Df,{className:"w-3 h-3"})," ",D.views||0]})]})]})]},D.id))})]})]}),U&&E.jsxs("div",{className:"animate-fade-in pb-20",children:[E.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl p-4 shadow-md border border-slate-100 dark:border-slate-700 mb-6 flex flex-col sm:flex-row justify-between items-center gap-4 sticky top-20 z-30",children:E.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[E.jsx(Ve,{variant:"secondary",onClick:ee,className:"h-10 w-10 p-0 rounded-full border border-slate-200 dark:border-slate-700 flex items-center justify-center flex-shrink-0",children:E.jsx(Cg,{className:"w-5 h-5"})}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2 leading-none",children:h?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"text-2xl",children:(Le=A.find(D=>D.id===h))==null?void 0:Le.icon}),(Ye=A.find(D=>D.id===h))==null?void 0:Ye.name]}):"Search Results"}),E.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Found ",a.length," result",a.length!==1?"s":""]})]})]})}),_?E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(D=>E.jsx("div",{className:"h-48 bg-slate-200 dark:bg-slate-800 rounded-xl animate-pulse"},D))}):a.length===0?E.jsxs("div",{className:"text-center py-20 bg-white dark:bg-dark-800 rounded-2xl border border-dashed border-slate-300 dark:border-slate-700",children:[E.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-dark-900 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Ro,{className:"w-8 h-8 text-slate-400"})}),E.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"No services found"}),E.jsxs("p",{className:"text-slate-500 mb-6 max-w-sm mx-auto",children:["We couldn't find any ",h||""," services in this area."]}),E.jsx("div",{className:"inline-block",children:E.jsx(Be,{to:"/add",children:E.jsxs(Ve,{className:"px-6 py-3 text-base shadow-xl shadow-primary-500/20 animate-pulse",children:[E.jsx(af,{className:"w-5 h-5 mr-2"})," Add the First ",h," Here"]})})})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(D=>{const Z=A.find(oe=>oe.id===D.category)||{icon:"",name:D.category};return E.jsxs(Pr,{className:"hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col h-full border-t-4 border-t-primary-500 group overflow-hidden",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-50 dark:bg-primary-900/20 flex items-center justify-center text-xl shadow-inner",children:Z.icon}),E.jsx("div",{className:"flex gap-2",children:E.jsx("div",{className:"text-xs font-semibold text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:Z.name})})]}),E.jsx(Be,{to:`/service/${D.id}`,state:{category:h,search:u,loc:n,showResults:!0},className:"block mb-1",children:E.jsx("h3",{className:"font-bold text-lg group-hover:text-primary-600 transition-colors line-clamp-1",children:D.name})}),E.jsxs("p",{className:"text-xs text-slate-500 mb-3 flex items-center gap-1 uppercase tracking-wide font-semibold",children:[E.jsx(Sa,{className:"w-3 h-3 text-primary-400"}),D.address.upazila,", ",D.address.district]}),E.jsxs("div",{className:"flex-grow",children:[E.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4 line-clamp-2 leading-relaxed",children:D.description}),E.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:D.tags.slice(0,3).map(oe=>E.jsxs("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded text-slate-500 font-medium border border-slate-200 dark:border-slate-700",children:["#",oe]},oe))})]}),E.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-100 dark:border-slate-700 flex gap-2",children:[E.jsx("a",{href:`tel:${D.phone}`,className:"flex-1 flex items-center justify-center py-2.5 bg-primary-50 dark:bg-primary-900/30 rounded-lg text-primary-700 dark:text-primary-400 font-bold hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors gap-2 text-sm",children:" Call"}),E.jsx(Ve,{variant:"secondary",onClick:()=>Ee(D),className:"px-3",title:"Share",children:E.jsx(Nu,{className:"w-4 h-4"})})]})]},D.id)})})]})]}),E.jsx(U5,{}),ce&&E.jsx(Dy,{url:`${window.location.origin}${window.location.pathname}#/service/${ce.id}`,title:ce.name,onClose:()=>de(null)})]})},q5=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(!0);z.useEffect(()=>{JV().then(o=>{e(o),i(!1)})},[]);const a=async(o,u)=>{confirm(`Are you sure you want to ${u?"unban":"ban"} this user?`)&&(await QV(o,u),e(n.map(d=>d.uid===o?{...d,isBanned:!u}:d)))};return t?E.jsx("div",{children:"Loading users..."}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 text-xs uppercase text-slate-500",children:[E.jsx("th",{className:"p-3",children:"User"}),E.jsx("th",{className:"p-3",children:"Role"}),E.jsx("th",{className:"p-3",children:"Status"}),E.jsx("th",{className:"p-3",children:"Joined"}),E.jsx("th",{className:"p-3 text-right",children:"Action"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:n.map(o=>E.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-dark-900/50",children:[E.jsxs("td",{className:"p-3",children:[E.jsx("div",{className:"font-bold",children:o.displayName||"No Name"}),E.jsx("div",{className:"text-xs text-slate-500",children:o.email})]}),E.jsx("td",{className:"p-3",children:E.jsx($i,{color:o.role==="admin"?"red":"blue",children:o.role})}),E.jsx("td",{className:"p-3",children:E.jsx($i,{color:o.isBanned?"red":"green",children:o.isBanned?"Banned":"Active"})}),E.jsx("td",{className:"p-3 text-xs text-slate-500",children:new Date(o.createdAt).toLocaleDateString()}),E.jsx("td",{className:"p-3 text-right",children:o.role!=="admin"&&E.jsx(Ve,{variant:o.isBanned?"primary":"danger",onClick:()=>a(o.uid,o.isBanned),className:"py-1 px-3 text-xs",children:o.isBanned?"Unban":"Ban"})})]},o.uid))})]})})},F5=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(!1),[a,o]=z.useState({});z.useEffect(()=>{Ay().then(e)},[]);const u=async h=>{if(h.preventDefault(),!a.id||!a.name)return;const p={id:a.id.toLowerCase().replace(/\s+/g,"_"),name:a.name,icon:a.icon||"",fields:a.fields||[],isSystem:!1};await WV(p),e(_=>{const T=_.findIndex(A=>A.id===p.id);if(T>=0){const A=[..._];return A[T]=p,A}return[..._,p]}),i(!1),o({})},d=async h=>{confirm("Delete category?")&&(await XV(h),e(p=>p.filter(_=>_.id!==h)))};return E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx("div",{className:"md:col-span-1",children:E.jsxs(Pr,{className:"p-4 sticky top-4",children:[E.jsx("h3",{className:"font-bold mb-4",children:t?"Edit Category":"Add New Category"}),E.jsxs("form",{onSubmit:u,className:"space-y-3",children:[E.jsx(yn,{placeholder:"ID (e.g. gym)",value:a.id||"",onChange:h=>o({...a,id:h.target.value}),disabled:t,required:!0}),E.jsx(yn,{placeholder:"Name (e.g. Fitness Center)",value:a.name||"",onChange:h=>o({...a,name:h.target.value}),required:!0}),E.jsx(yn,{placeholder:"Icon (e.g. )",value:a.icon||"",onChange:h=>o({...a,icon:h.target.value}),required:!0}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Ve,{type:"submit",className:"flex-1",children:t?"Update":"Add"}),t&&E.jsx(Ve,{type:"button",variant:"ghost",onClick:()=>{i(!1),o({})},children:"Cancel"})]})]})]})}),E.jsx("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map(h=>E.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl",children:h.icon}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold",children:h.name}),E.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",h.id]})]})]}),!h.isSystem&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>{i(!0),o(h)},className:"text-blue-500",children:E.jsx(FA,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>d(h.id),className:"text-red-500",children:E.jsx(HA,{className:"w-4 h-4"})})]}),h.isSystem&&E.jsx($i,{color:"gray",children:"System"})]},h.id))})]})},H5=()=>{const[n,e]=z.useState([]);z.useEffect(()=>{HV().then(e)},[]);const t=async i=>{confirm("Dismiss report?")&&(await GV(i),e(a=>a.filter(o=>o.id!==i)))};return E.jsx("div",{className:"space-y-4",children:n.length===0?E.jsx("p",{className:"text-slate-500",children:"No active reports."}):n.map(i=>E.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-lg border border-red-100 dark:border-red-900/30 shadow-sm flex flex-col md:flex-row gap-4 justify-between",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx($i,{color:"red",children:"Reported"}),E.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:i.serviceName}),E.jsxs("span",{className:"text-xs text-slate-400",children:["(",new Date(i.reportedAt).toLocaleDateString(),")"]})]}),E.jsxs("p",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:["Reason: ",i.reason]}),E.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:i.details}),E.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Reported by: ",i.reportedBy]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Be,{to:`/service/${i.serviceId}`,target:"_blank",children:E.jsx(Ve,{variant:"secondary",className:"text-xs",children:"View Service"})}),E.jsx(Ve,{variant:"ghost",onClick:()=>t(i.id),className:"text-slate-500",children:"Dismiss"})]})]},i.id))})},G5=()=>{const{user:n}=z.useContext(Br),[e,t]=z.useState([]),[i,a]=z.useState(""),[o,u]=z.useState(""),[d,h]=z.useState(""),[p,_]=z.useState(""),[T,A]=z.useState(!1);z.useEffect(()=>{II().then(t)},[T]);const I=async L=>{if(L.preventDefault(),!!n){A(!0);try{await ZV({title:i,excerpt:o,content:d,imageUrl:p||"/assets/BlogThumbnail.jpg",authorName:n.displayName||"Admin",createdAt:Date.now()}),alert("Blog published!"),a(""),u(""),h(""),_("")}catch{alert("Failed to publish")}A(!1)}},U=async L=>{confirm("Delete this post?")&&(await tL(L),t(B=>B.filter(H=>H.id!==L)))};return E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs(Pr,{className:"p-6",children:[E.jsx("h3",{className:"font-bold text-lg mb-4",children:"Write New Article"}),E.jsxs("form",{onSubmit:I,className:"space-y-4",children:[E.jsx(yn,{placeholder:"Article Title",value:i,onChange:L=>a(L.target.value),required:!0}),E.jsx(yn,{placeholder:"Image URL (Optional)",value:p,onChange:L=>_(L.target.value)}),E.jsx("textarea",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-dark-900 min-h-[80px]",placeholder:"Short Excerpt (shows in list)",value:o,onChange:L=>u(L.target.value),required:!0}),E.jsx("textarea",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-dark-900 min-h-[200px]",placeholder:"Full Content (Markdown supported)",value:d,onChange:L=>h(L.target.value),required:!0}),E.jsx(Ve,{type:"submit",loading:T,className:"w-full",children:"Publish Article"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h3",{className:"font-bold text-lg",children:"Recent Articles"}),e.map(L=>E.jsxs("div",{className:"flex gap-4 p-4 bg-white dark:bg-dark-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[E.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-lg flex-shrink-0 overflow-hidden",children:L.imageUrl?E.jsx("img",{src:L.imageUrl,className:"w-full h-full object-cover"}):E.jsx(wg,{className:"w-full h-full p-4 text-slate-300"})}),E.jsxs("div",{className:"flex-grow",children:[E.jsx("h4",{className:"font-bold line-clamp-1",children:L.title}),E.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:[new Date(L.createdAt).toLocaleDateString(),"  ",L.views||0," views"]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Be,{to:`/blog/${L.id}`,children:E.jsx(Ve,{variant:"secondary",className:"px-2 py-1 text-xs",children:"View"})}),E.jsx(Ve,{variant:"danger",className:"px-2 py-1 text-xs",onClick:()=>U(L.id),children:"Delete"})]})]})]},L.id))]})]})},K5=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[a,o]=z.useState("ALL"),[u,d]=z.useState(!1),[h,p]=z.useState([]);z.useEffect(()=>{YV().then(p)},[u]);const _=async T=>{T.preventDefault(),d(!0);try{await KV({title:n,message:t,userId:a,isRead:!1,createdAt:Date.now()}),alert("Notification Sent!"),e(""),i("")}catch{alert("Error sending notification")}d(!1)};return E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs(Pr,{className:"p-6",children:[E.jsx("h3",{className:"font-bold text-lg mb-4",children:"Send System Notification"}),E.jsxs("form",{onSubmit:_,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase mb-1",children:"Recipient"}),E.jsxs(xu,{value:a,onChange:T=>o(T.target.value),children:[E.jsx("option",{value:"ALL",children:"All Users"}),E.jsx("option",{value:"ADMIN",children:"Admins Only (Demo)"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase mb-1",children:"Title"}),E.jsx(yn,{value:n,onChange:T=>e(T.target.value),required:!0,placeholder:"Update Alert"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase mb-1",children:"Message"}),E.jsx("textarea",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-dark-900",value:t,onChange:T=>i(T.target.value),required:!0,placeholder:"Message content..."})]}),E.jsxs(Ve,{type:"submit",loading:u,className:"w-full",children:[E.jsx(e1,{className:"w-4 h-4 mr-2"})," Send Notification"]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(kN,{className:"w-5 h-5"})," History"]}),h.length===0?E.jsx("p",{className:"text-slate-500 text-sm",children:"No notifications sent."}):h.map(T=>E.jsxs("div",{className:"p-3 bg-white dark:bg-dark-800 border rounded-lg text-sm",children:[E.jsxs("div",{className:"flex justify-between font-bold mb-1",children:[E.jsx("span",{children:T.title}),E.jsx("span",{className:"text-xs text-slate-400",children:new Date(T.createdAt).toLocaleDateString()})]}),E.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:T.message}),E.jsxs("p",{className:"text-xs text-primary-500 mt-1",children:["To: ",T.userId]})]},T.id))]})]})},j5=()=>{const{user:n,isAdmin:e}=z.useContext(Br),[t,i]=z.useState("submissions"),[a,o]=z.useState([]),[u,d]=z.useState([]),[h,p]=z.useState(!0),[_,T]=z.useState(!1),A=()=>{ag(Ln.PENDING).then(K=>{o(K),p(!1)})},I=()=>{p(!0),ag(Ln.APPROVED).then(K=>{d(K),p(!1)})};z.useEffect(()=>{t==="submissions"&&A(),t==="all_services"&&I()},[t]);const U=async(K,F)=>{if(F===Ln.REJECTED){if(!confirm("Are you sure you want to reject/delete this?"))return;await og(K)}else await qV(K,F);o(ae=>ae.filter(ce=>ce.id!==K))},L=async K=>{confirm("Permanently delete this approved service?")&&(await og(K),d(F=>F.filter(ae=>ae.id!==K)))},B=async()=>{if(confirm("This will Restore Default Services (mock data) to the database. Missing default entries will be recreated. Continue?")){T(!0);try{await VV(),alert("Default services restored successfully! Please refresh."),t==="all_services"&&I()}catch(K){console.error(K),alert("Error seeding database.")}T(!1)}};if(!n||!e)return E.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center p-8 text-center",children:[E.jsx(Mm,{className:"w-16 h-16 text-red-500 mb-4"}),E.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),E.jsx("p",{className:"text-slate-500",children:"You must be an administrator to view this page."}),E.jsx(Be,{to:"/",className:"mt-6",children:E.jsx(Ve,{variant:"ghost",children:"Go Home"})})]});const H=u.reduce((K,F)=>(K[F.category]||(K[F.category]=[]),K[F.category].push(F),K),{});return E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[E.jsx(n1,{className:"w-6 h-6 text-primary-600"})," Admin Console"]}),E.jsx("p",{className:"text-sm text-slate-500",children:"Manage submissions, users, and content."})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Ve,{variant:"secondary",onClick:B,loading:_,className:"text-xs",children:"Restore Default Services"}),E.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-4 py-2 rounded-lg text-sm font-medium",children:["Admin: ",n.email]})]})]}),E.jsx("div",{className:"flex gap-4 border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto pb-1",children:["submissions","all_services","users","categories","reports","notifications","blogs"].map(K=>E.jsx("button",{onClick:()=>i(K),className:`pb-3 px-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap capitalize ${t===K?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:K.replace("_"," ")},K))}),E.jsxs("div",{className:"min-h-[400px]",children:[t==="users"&&E.jsx(q5,{}),t==="categories"&&E.jsx(F5,{}),t==="reports"&&E.jsx(H5,{}),t==="notifications"&&E.jsx(K5,{}),t==="blogs"&&E.jsx(G5,{}),t==="all_services"&&E.jsx("div",{children:h?E.jsx("p",{children:"Loading all services..."}):Object.keys(H).length===0?E.jsx("p",{className:"text-slate-500",children:"No approved services found."}):Object.keys(H).sort().map(K=>E.jsxs("div",{className:"mb-8",children:[E.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-700 dark:text-slate-200 border-b pb-2 border-slate-200 dark:border-slate-700",children:[E.jsx("span",{children:vI[K]||""})," ",K,E.jsx($i,{color:"blue",children:H[K].length})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H[K].map(F=>E.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-start",children:[E.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[E.jsx("h4",{className:"font-bold text-sm truncate",children:F.name}),E.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1 truncate",children:[E.jsx(Sa,{className:"w-3 h-3 flex-shrink-0"})," ",F.address.upazila,", ",F.address.district]}),E.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[E.jsx(Df,{className:"w-3 h-3"})," ",F.views||0," Views"]})]}),E.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[E.jsx(Be,{to:`/edit/${F.id}`,children:E.jsx("button",{className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:E.jsx(FA,{className:"w-4 h-4"})})}),E.jsx("button",{onClick:()=>L(F.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:E.jsx(HA,{className:"w-4 h-4"})})]})]},F.id))})]},K))}),t==="submissions"&&(h?E.jsx("p",{children:"Loading pending submissions..."}):a.length===0?E.jsxs("div",{className:"p-16 text-center bg-white dark:bg-dark-800 rounded-xl border border-dashed dark:border-slate-700",children:[E.jsx(gE,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),E.jsx("h3",{className:"text-xl font-medium",children:"All caught up!"}),E.jsx("p",{className:"text-slate-500 mt-2",children:"No pending services to review at the moment."})]}):E.jsx("div",{className:"space-y-4",children:a.map(K=>E.jsxs(Pr,{className:"flex flex-col md:flex-row gap-6 items-start justify-between p-6",children:[E.jsxs("div",{className:"flex-grow",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsx($i,{color:"blue",children:K.category}),E.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",title:`ID: ${K.submittedBy}`,children:[E.jsx(GA,{className:"w-3 h-3"})," ",K.submitterName||"Unknown"]}),E.jsxs("span",{className:"text-xs text-slate-400",children:[" ",new Date(K.submittedAt).toLocaleDateString()]})]}),E.jsx("h3",{className:"font-bold text-xl mb-1",children:K.name}),E.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 font-medium flex items-center gap-1 mb-2",children:[E.jsx(Sa,{className:"w-4 h-4 text-slate-400"}),K.address.village?`${K.address.village}, `:"",K.address.upazila,", ",K.address.district,", ",K.address.division]}),E.jsxs("div",{className:"bg-slate-50 dark:bg-dark-900 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[E.jsx("p",{className:"text-sm font-mono text-slate-600 dark:text-slate-400",children:K.description||"No description provided."}),K.dynamicData&&Object.keys(K.dynamicData).length>0&&E.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-slate-700 grid grid-cols-2 gap-2",children:Object.entries(K.dynamicData).map(([F,ae])=>E.jsxs("div",{className:"text-xs",children:[E.jsxs("span",{className:"font-bold text-slate-500 capitalize",children:[F.replace(/_/g," "),":"]})," ",E.jsx("span",{className:"text-slate-800 dark:text-slate-300",children:ae})]},F))})]}),E.jsxs("p",{className:"text-sm mt-3 font-bold text-primary-600",children:[" ",K.phone]})]}),E.jsxs("div",{className:"flex flex-row md:flex-col gap-3 min-w-[120px]",children:[E.jsxs(Ve,{variant:"primary",className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>U(K.id,Ln.APPROVED),children:[E.jsx(gE,{className:"w-4 h-4"})," Approve"]}),E.jsxs(Ve,{variant:"danger",className:"w-full",onClick:()=>U(K.id,Ln.REJECTED),children:[E.jsx(xN,{className:"w-4 h-4"})," Reject"]})]})]},K.id))}))]})]})},Y5=()=>{const[n,e]=z.useState(!0),[t,i]=z.useState(""),[a,o]=z.useState(""),[u,d]=z.useState(""),[h,p]=z.useState(!1),_=Fu(),T=async I=>{I.preventDefault(),p(!0);try{n?await UV(t,a):await PV(t,a,u),_("/profile")}catch(U){console.error(U),alert("Authentication failed. Please check your credentials.")}finally{p(!1)}},A=async()=>{try{await DV(),_("/profile")}catch(I){console.error(I),alert("Google Sign In failed")}};return E.jsx("div",{className:"min-h-screen pt-20 pb-12 px-4 flex items-center justify-center",children:E.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-dark-800 rounded-2xl shadow-xl p-8 border border-slate-100 dark:border-slate-700",children:[E.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:n?"Welcome Back":"Create Account"}),E.jsxs("form",{onSubmit:T,className:"space-y-4",children:[!n&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),E.jsx(yn,{value:u,onChange:I=>d(I.target.value),required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),E.jsx(yn,{type:"email",value:t,onChange:I=>i(I.target.value),required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),E.jsx(yn,{type:"password",value:a,onChange:I=>o(I.target.value),required:!0})]}),E.jsx(Ve,{type:"submit",className:"w-full py-3",loading:h,children:n?"Sign In":"Sign Up"})]}),E.jsxs("div",{className:"relative my-6",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),E.jsx("div",{className:"relative flex justify-center text-sm",children:E.jsx("span",{className:"px-2 bg-white dark:bg-dark-800 text-slate-500",children:"Or continue with"})})]}),E.jsxs(Ve,{variant:"secondary",type:"button",onClick:A,className:"w-full",children:[E.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z",fill:"currentColor"})}),"Google"]}),E.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:[n?"Don't have an account? ":"Already have an account? ",E.jsx("button",{onClick:()=>e(!n),className:"text-primary-600 font-bold hover:underline",children:n?"Sign Up":"Log In"})]})]})})},SA=()=>{var B;const{id:n}=vg(),{user:e}=z.useContext(Br),t=Fu(),[i,a]=z.useState({name:"",category:"",phone:"",description:"",address:{division:"",district:"",upazila:"",village:""},tags:[],dynamicData:{}}),[o,u]=z.useState([]),[d,h]=z.useState(!1),[p,_]=z.useState("");z.useEffect(()=>{Ay().then(u),n&&wI(n).then(H=>{H&&a(H)})},[n]);const T=async H=>{var K;if(H.preventDefault(),!e){alert("Please login first"),t("/auth");return}if(!i.name||!i.category||!i.phone||!((K=i.address)!=null&&K.upazila)){alert("Please fill all required fields");return}h(!0);try{n?(await OV(n,i),alert("Service updated! Pending approval.")):(await LV({...i,submittedBy:e.uid,submitterName:e.displayName||"User",status:Ln.PENDING}),alert("Service submitted successfully! It will be listed after approval.")),t("/profile")}catch(F){console.error(F),alert("Error saving service.")}h(!1)},A=(H,K)=>{a(F=>({...F,dynamicData:{...F.dynamicData,[H]:K}}))},I=H=>{var K;H.key==="Enter"&&p.trim()&&(H.preventDefault(),(K=i.tags)!=null&&K.includes(p.trim())||a(F=>({...F,tags:[...F.tags||[],p.trim()]})),_(""))},U=H=>{a(K=>{var F;return{...K,tags:(F=K.tags)==null?void 0:F.filter(ae=>ae!==H)}})},L=o.find(H=>H.id===i.category);return E.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[E.jsx("h1",{className:"text-2xl font-bold mb-6",children:n?"Edit Service":"Add New Service"}),E.jsx(Pr,{className:"p-6",children:E.jsxs("form",{onSubmit:T,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold mb-2",children:"Service Category"}),E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:o.map(H=>E.jsxs("button",{type:"button",onClick:()=>a({...i,category:H.id,dynamicData:{}}),className:`p-3 rounded-lg border text-left flex flex-col gap-1 transition-all ${i.category===H.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 ring-1 ring-primary-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-dark-900"}`,children:[E.jsx("span",{className:"text-xl",children:H.icon}),E.jsx("span",{className:"text-xs font-semibold",children:H.name})]},H.id))})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold mb-1",children:"Service Name"}),E.jsx(yn,{value:i.name,onChange:H=>a({...i,name:H.target.value}),placeholder:"e.g. Popular Hospital",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold mb-1",children:"Phone Number"}),E.jsx(yn,{value:i.phone,onChange:H=>a({...i,phone:H.target.value}),placeholder:"e.g. 017...",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold mb-2",children:"Location"}),E.jsx("div",{className:"bg-slate-50 dark:bg-dark-900 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:E.jsx(xI,{value:i.address,onChange:H=>a({...i,address:H})})})]}),L&&L.fields.length>0&&E.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-lg border border-blue-100 dark:border-blue-900/30",children:[E.jsx("h3",{className:"text-sm font-bold text-blue-800 dark:text-blue-300 mb-3 uppercase tracking-wider",children:"Additional Details"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.fields.map(H=>{var K;return E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold mb-1 capitalize",children:H.label}),E.jsx(yn,{type:H.type,placeholder:H.placeholder,required:H.required,value:((K=i.dynamicData)==null?void 0:K[H.id])||"",onChange:F=>A(H.id,F.target.value)})]},H.id)})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold mb-1",children:"Description"}),E.jsx("textarea",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-dark-900 h-32",placeholder:"Describe services, hours, facilities...",value:i.description,onChange:H=>a({...i,description:H.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tags"}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-slate-50 dark:bg-dark-900 rounded-lg border border-slate-200 dark:border-slate-700 min-h-[42px]",children:[(B=i.tags)==null?void 0:B.map(H=>E.jsxs("span",{className:"px-2 py-1 bg-white dark:bg-dark-800 rounded text-xs flex items-center gap-1 shadow-sm",children:["#",H," ",E.jsx("button",{type:"button",onClick:()=>U(H),children:E.jsx(Yo,{className:"w-3 h-3"})})]},H)),E.jsx("input",{className:"bg-transparent text-sm outline-none flex-grow min-w-[100px]",placeholder:"Type & Enter...",value:p,onChange:H=>_(H.target.value),onKeyDown:I})]})]}),E.jsx(Ve,{type:"submit",loading:d,className:"w-full py-3 text-lg font-bold shadow-xl shadow-primary-500/20",children:n?"Update Service":"Submit Service"})]})})]})},$5=()=>{const{user:n}=z.useContext(Br),[e,t]=z.useState([]),[i,a]=z.useState(!0);z.useEffect(()=>{n&&BV(n.uid).then(u=>{t(u),a(!1)})},[n]);const o=async u=>{confirm("Are you sure you want to delete this listing?")&&(await og(u),t(d=>d.filter(h=>h.id!==u)))};return n?E.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[E.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 mb-8 flex flex-col md:flex-row items-center gap-6",children:[E.jsx("img",{src:n.photoURL||`https://ui-avatars.com/api/?name=${n.displayName}`,className:"w-24 h-24 rounded-full border-4 border-slate-100 dark:border-slate-700",alt:"Profile"}),E.jsxs("div",{className:"text-center md:text-left flex-grow",children:[E.jsx("h1",{className:"text-2xl font-bold",children:n.displayName}),E.jsx("p",{className:"text-slate-500",children:n.email}),E.jsxs("div",{className:"mt-2 flex gap-2 justify-center md:justify-start",children:[E.jsx($i,{color:"blue",children:n.email==="admin@deshisheba.com"?"Administrator":"Contributor"}),E.jsxs($i,{color:"gray",children:[e.length," Contributions"]})]})]}),E.jsx(Be,{to:"/add",children:E.jsx(Ve,{children:"+ Add New Service"})})]}),E.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[E.jsx(zN,{className:"w-5 h-5 text-primary-600"})," My Submissions"]}),i?E.jsx("p",{children:"Loading..."}):e.length===0?E.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-dark-900 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[E.jsx("p",{className:"text-slate-500 mb-4",children:"You haven't submitted any services yet."}),E.jsx(Be,{to:"/add",children:E.jsx(Ve,{variant:"secondary",children:"Add Your First Service"})})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>E.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden hover:shadow-lg transition-shadow",children:[E.jsxs("div",{className:"p-4",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx($i,{color:u.status==="APPROVED"?"green":u.status==="REJECTED"?"red":"gray",children:u.status}),E.jsx("span",{className:"text-xs text-slate-400",children:new Date(u.submittedAt).toLocaleDateString()})]}),E.jsx("h3",{className:"font-bold text-lg mb-1 truncate",children:u.name}),E.jsxs("p",{className:"text-sm text-slate-500 mb-4 truncate",children:[u.category,"  ",u.address.district]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Be,{to:`/edit/${u.id}`,className:"flex-1",children:E.jsx(Ve,{variant:"secondary",className:"w-full text-xs h-8",children:"Edit"})}),E.jsx(Ve,{variant:"danger",className:"w-full text-xs h-8",onClick:()=>o(u.id),children:"Delete"})]})]}),u.status==="APPROVED"&&E.jsx(Be,{to:`/service/${u.id}`,className:"block bg-slate-50 dark:bg-dark-900 p-2 text-center text-xs text-primary-600 font-bold hover:bg-slate-100 dark:hover:bg-dark-800 transition-colors",children:"View Live Page "})]},u.id))})]}):E.jsx("div",{className:"p-8 text-center",children:"Please login to view profile."})},J5=()=>E.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-dark-950 text-slate-900 dark:text-slate-100 transition-colors font-sans selection:bg-primary-500/30 flex flex-col",children:[E.jsx(P5,{}),E.jsx("div",{className:"flex-grow",children:E.jsxs(kb,{children:[E.jsx(mi,{path:"/",element:E.jsx(B5,{})}),E.jsx(mi,{path:"/auth",element:E.jsx(Y5,{})}),E.jsx(mi,{path:"/add",element:E.jsx(SA,{})}),E.jsx(mi,{path:"/edit/:id",element:E.jsx(SA,{})}),E.jsx(mi,{path:"/service/:id",element:E.jsx(z5,{})}),E.jsx(mi,{path:"/profile",element:E.jsx($5,{})}),E.jsx(mi,{path:"/admin",element:E.jsx(j5,{})}),E.jsx(mi,{path:"/blog/:id",element:E.jsx(O5,{})}),E.jsx(mi,{path:"/terms",element:E.jsx(V5,{})}),E.jsx(mi,{path:"/privacy",element:E.jsx(L5,{})})]})})]});function Q5(){const[n,e]=z.useState(!1),[t,i]=z.useState(null),[a,o]=z.useState(!0),u=(t==null?void 0:t.email)==="admin@deshisheba.com";z.useEffect(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches&&e(!0);const h=kV(p=>{i(p),o(!1)});return()=>h()},[]),z.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const d=()=>e(!n);return a?E.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 dark:bg-dark-900",children:E.jsx(Pf,{className:"w-10 h-10 animate-spin text-primary-600"})}):E.jsx(tx.Provider,{value:{isDark:n,toggleTheme:d},children:E.jsx(Br.Provider,{value:{user:t,loading:a,isAdmin:u},children:E.jsx(sN,{children:E.jsx(J5,{})})})})}const nx=document.getElementById("root");if(!nx)throw new Error("Could not find root element to mount to");const W5=GR.createRoot(nx);W5.render(E.jsx(VR.StrictMode,{children:E.jsx(Q5,{})}));
